"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[6829],{40118:(t,e,l)=>{l.r(e),l.d(e,{assets:()=>x,contentTitle:()=>d,default:()=>j,frontMatter:()=>s,metadata:()=>r,toc:()=>h});var i=l(85893),n=l(11151);const s={sidebar_position:1},d="\u6d4b\u8bd5\u6b65\u9aa4",r={id:"guides/onpremise/vminstance/perf-test/perf-process",title:"\u6d4b\u8bd5\u6b65\u9aa4",description:"CPU\u548c\u5185\u5b58\u6027\u80fd\u6d4b\u8bd5",source:"@site/docs/guides/onpremise/vminstance/perf-test/perf-process.md",sourceDirName:"guides/onpremise/vminstance/perf-test",slug:"/guides/onpremise/vminstance/perf-test/perf-process",permalink:"/v3.10/docs/guides/onpremise/vminstance/perf-test/perf-process",draft:!1,unlisted:!1,editUrl:"https://github.com/yunionio/website/tree/master/docs/guides/onpremise/vminstance/perf-test/perf-process.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"\u6027\u80fd\u6d4b\u8bd5",permalink:"/v3.10/docs/guides/onpremise/vminstance/perf-test/"},next:{title:"\u6d4b\u8bd5\u6570\u636e",permalink:"/v3.10/docs/guides/onpremise/vminstance/perf-test/perf-data"}},x={},h=[{value:"CPU\u548c\u5185\u5b58\u6027\u80fd\u6d4b\u8bd5",id:"cpu\u548c\u5185\u5b58\u6027\u80fd\u6d4b\u8bd5",level:3},{value:"\u6d4b\u8bd5\u73af\u5883",id:"\u6d4b\u8bd5\u73af\u5883",level:4},{value:"\u5b89\u88c5\u6d4b\u8bd5\u8f6f\u4ef6",id:"\u5b89\u88c5\u6d4b\u8bd5\u8f6f\u4ef6",level:4},{value:"CPU \u6d4b\u8bd5",id:"cpu-\u6d4b\u8bd5",level:4},{value:"\u5185\u5b58\u6d4b\u8bd5",id:"\u5185\u5b58\u6d4b\u8bd5",level:4},{value:"\u672c\u5730\u5b58\u50a8IO\u6d4b\u8bd5",id:"\u672c\u5730\u5b58\u50a8io\u6d4b\u8bd5",level:3},{value:"\u6d4b\u8bd5\u65b9\u6cd5",id:"\u6d4b\u8bd5\u65b9\u6cd5",level:4},{value:"\u6d4b\u8bd5\u73af\u5883",id:"\u6d4b\u8bd5\u73af\u5883-1",level:4},{value:"\u6d4b\u8bd5\u7ed3\u679c",id:"\u6d4b\u8bd5\u7ed3\u679c",level:4},{value:"\u6d4b\u8bd5\u7ed3\u8bba",id:"\u6d4b\u8bd5\u7ed3\u8bba",level:4},{value:"\u5171\u4eab\u5b58\u50a8(ceph)IO\u6027\u80fd\u6d4b\u8bd5",id:"\u5171\u4eab\u5b58\u50a8cephio\u6027\u80fd\u6d4b\u8bd5",level:3},{value:"\u6d4b\u8bd5\u73af\u5883",id:"\u6d4b\u8bd5\u73af\u5883-2",level:4},{value:"\u6d4b\u8bd5\u6570\u636e",id:"\u6d4b\u8bd5\u6570\u636e",level:4},{value:"\u6d4b\u8bd5\u7ed3\u8bba",id:"\u6d4b\u8bd5\u7ed3\u8bba-1",level:4},{value:"\u7f51\u7edc\u6d4b\u8bd5",id:"\u7f51\u7edc\u6d4b\u8bd5",level:3},{value:"\u6d4b\u8bd5\u6761\u4ef6",id:"\u6d4b\u8bd5\u6761\u4ef6",level:4},{value:"\u6d4b\u8bd5\u65b9\u6cd5:",id:"\u6d4b\u8bd5\u65b9\u6cd5-1",level:4},{value:"\u7ecf\u5178\u7f51\u7edc\u6027\u80fd\u6d4b\u8bd5",id:"\u7ecf\u5178\u7f51\u7edc\u6027\u80fd\u6d4b\u8bd5",level:4},{value:"\u73af\u5883",id:"\u73af\u5883",level:5},{value:"\u7ed3\u8bba",id:"\u7ed3\u8bba",level:5},{value:"VPC\u7f51\u7edc\u6027\u80fd\u6d4b\u8bd5",id:"vpc\u7f51\u7edc\u6027\u80fd\u6d4b\u8bd5",level:4},{value:"\u6d4b\u8bd5\u73af\u5883",id:"\u6d4b\u8bd5\u73af\u5883-3",level:5},{value:"\u7ed3\u8bba",id:"\u7ed3\u8bba-1",level:5}];function c(t){const e={code:"code",h1:"h1",h3:"h3",h4:"h4",h5:"h5",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.a)(),...t.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"\u6d4b\u8bd5\u6b65\u9aa4",children:"\u6d4b\u8bd5\u6b65\u9aa4"}),"\n",(0,i.jsx)(e.h3,{id:"cpu\u548c\u5185\u5b58\u6027\u80fd\u6d4b\u8bd5",children:"CPU\u548c\u5185\u5b58\u6027\u80fd\u6d4b\u8bd5"}),"\n",(0,i.jsx)(e.h4,{id:"\u6d4b\u8bd5\u73af\u5883",children:"\u6d4b\u8bd5\u73af\u5883"}),"\n",(0,i.jsx)(e.p,{children:"\u64cd\u4f5c\u7cfb\u7edf: CentOS 7\n\u4e91\u5e73\u53f0\u7248\u672c: >= v3.7.7\n\u5bbf\u4e3b\u673a: Dell PowerEdge R730xd"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"CPU: Intel(R) Xeon(R) CPU E5-2678 v3 @ 2.50GHz"}),"\n",(0,i.jsx)(e.li,{children:"\u5185\u5b58: DDR4 2133 MHz 256GB (16GB x 16)"}),"\n",(0,i.jsx)(e.li,{children:"\u78c1\u76d8: \u673a\u68b0\u76d8 20TB PERC H730P Mini (RAID 10)"}),"\n",(0,i.jsx)(e.li,{children:"\u7f51\u5361: 10000Mb/s"}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"\u5b89\u88c5\u6d4b\u8bd5\u8f6f\u4ef6",children:"\u5b89\u88c5\u6d4b\u8bd5\u8f6f\u4ef6"}),"\n",(0,i.jsx)(e.p,{children:"\u6d4b\u8bd5\u5de5\u5177:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"UnixBench: \u6d4b\u8bd5\u865a\u62df\u673aCPU\u6027\u80fd"}),"\n",(0,i.jsx)(e.li,{children:"mbw: \u6d4b\u8bd5\u5185\u5b58\u6027\u80fd"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# \u5b89\u88c5 UnixBench\n$ yum install -y git gcc autoconf gcc-c++ time perl-Time-HiRes\n$ git clone https://github.com/kdlucas/byte-unixbench.git\n\n# \u5b89\u88c5 mbw\n$ git clone https://github.com/raas/mbw.git && cd mbw\n$ make && ./mbw 512\n"})}),"\n",(0,i.jsx)(e.h4,{id:"cpu-\u6d4b\u8bd5",children:"CPU \u6d4b\u8bd5"}),"\n",(0,i.jsx)(e.p,{children:"\u6d4b\u8bd5\u547d\u4ee4:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"$ cd byte-unixbench/UnixBench\n$ ./Run -c 1 whetstone-double dhry2reg fsdisk\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u7ed3\u8bba:"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u6307\u6807"}),(0,i.jsx)(e.th,{children:"\u7269\u7406\u673a"}),(0,i.jsx)(e.th,{children:"\u865a\u62df\u673a"}),(0,i.jsx)(e.th,{children:"\u865a\u62df\u5316\u5f00\u9500\uff08\u7269\u7406\u673a-\u865a\u62df\u673a/ \u7269\u7406\u673a\uff09"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Dhrystone"}),(0,i.jsx)(e.td,{children:"34839728.4 lps"}),(0,i.jsx)(e.td,{children:"33964545.0 lps"}),(0,i.jsx)(e.td,{children:"2.5%"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Double-Precision Whetstone"}),(0,i.jsx)(e.td,{children:"4368.3 MWIPS"}),(0,i.jsx)(e.td,{children:"4244.3 MWIPS"}),(0,i.jsx)(e.td,{children:"2.8%"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"File Copy"}),(0,i.jsx)(e.td,{children:"1825548.4 KBps"}),(0,i.jsx)(e.td,{children:"1788048.3 KBps"}),(0,i.jsx)(e.td,{children:"2.1%"})]})]})]}),"\n",(0,i.jsx)(e.h4,{id:"\u5185\u5b58\u6d4b\u8bd5",children:"\u5185\u5b58\u6d4b\u8bd5"}),"\n",(0,i.jsx)(e.p,{children:"\u7ed3\u8bba:"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u6307\u6807"}),(0,i.jsx)(e.th,{children:"\u7269\u7406\u673a"}),(0,i.jsx)(e.th,{children:"\u865a\u62df\u673a"}),(0,i.jsx)(e.th,{children:"\u865a\u62df\u5316\u5f00\u9500\uff08\u7269\u7406\u673a-\u865a\u62df\u673a/\u7269\u7406\u673a\uff09"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"MEMCPY AVG"}),(0,i.jsx)(e.td,{children:"7578.348 MiB/s"}),(0,i.jsx)(e.td,{children:"6254.520 MiB/s"}),(0,i.jsx)(e.td,{children:"1.7%"})]})})]}),"\n",(0,i.jsx)(e.h3,{id:"\u672c\u5730\u5b58\u50a8io\u6d4b\u8bd5",children:"\u672c\u5730\u5b58\u50a8IO\u6d4b\u8bd5"}),"\n",(0,i.jsx)(e.h4,{id:"\u6d4b\u8bd5\u65b9\u6cd5",children:"\u6d4b\u8bd5\u65b9\u6cd5"}),"\n",(0,i.jsx)(e.p,{children:"\u91c7\u7528fio\uff0c\u5206\u522b\u7528\u5982\u4e0b\u573a\u666f\u548c\u547d\u4ee4\u6d4b\u8bd5\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"4KB\u968f\u673a\u8bfb"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"fio --name=random-read --ioengine=posixaio --rw=randread --bs=4k --size=4g --numjobs=1 --iodepth=16 --runtime=60 --time_based --direct=1\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"4KB\u968f\u673a\u5199"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"fio --name=random-write --ioengine=posixaio --rw=randwrite --bs=4k --size=4g --numjobs=1 --iodepth=16 --runtime=60 --time_based --direct=1 --end_fsync=1\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"4K\u987a\u5e8f\u8bfb"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"fio --name=random-read --ioengine=posixaio --rw=read --bs=4k --size=4g --numjobs=1 --iodepth=16 --runtime=60 --time_based --direct=1\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"4K\u987a\u5e8f\u5199"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"fio --name=random-write --ioengine=posixaio --rw=write --bs=4k --size=4g --numjobs=1 --iodepth=16 --runtime=60 --time_based --direct=1 --end_fsync=1\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"1MB\u987a\u5e8f\u8bfb"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"fio --name=seq-read --ioengine=posixaio --rw=read --bs=1m --size=16g --numjobs=1 --iodepth=1 --runtime=60 --time_based --direct=1\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"1MB\u987a\u5e8f\u5199"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"fio --name=seq-write --ioengine=posixaio --rw=write --bs=1m --size=16g --numjobs=1 --iodepth=1 --runtime=60 --time_based --direct=1 --end_fsync=1\n"})}),"\n",(0,i.jsx)(e.h4,{id:"\u6d4b\u8bd5\u73af\u5883-1",children:"\u6d4b\u8bd5\u73af\u5883"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u7269\u7406\u673a"}),"\n",(0,i.jsx)(e.p,{children:"OS: CentOS Linux release 7.9.2009 (Core)\n\u5185\u6838\uff1a3.10.0-1062.4.3.el7.yn20191203.x86_64\nCPU: Intel(R) Xeon(R) CPU E5-2678 v3 @ 2.50GHz\n\u5185\u5b58\uff1a256G\nRAID\u63a7\u5236\u5668\uff1aBroadcom / LSI MegaRAID SAS-3 3108\nRAID Level: RAID10"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Linxu \u865a\u62df\u673a"}),"\n",(0,i.jsx)(e.p,{children:"OS: CentOS Linux release 7.6.1810 (Core)\n\u5185\u6838\uff1a3.10.0-957.12.1.el7.x86_64\n\u914d\u7f6e\uff1a4\u6838CPU4G\u5185\u5b5830G\u7cfb\u7edf\u76d8100G\u6570\u636e\u76d8"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Windows \u865a\u62df\u673a"}),"\n",(0,i.jsx)(e.p,{children:"OS: Windows Server 2008 R2 Datacenter 6.1\n\u914d\u7f6e\uff1a4\u6838CPU4G\u5185\u5b5840G\u7cfb\u7edf\u76d8100G\u6570\u636e\u76d8"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"\u6d4b\u8bd5\u7ed3\u679c",children:"\u6d4b\u8bd5\u7ed3\u679c"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u573a\u666f"}),(0,i.jsx)(e.th,{style:{textAlign:"right"},children:"4KB"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"\u968f\u673a\u8bfb"}),(0,i.jsx)(e.th,{style:{textAlign:"right"},children:"4KB"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"\u968f\u673a\u5199"}),(0,i.jsx)(e.th,{style:{textAlign:"right"},children:"4KB"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"\u987a\u5e8f\u8bfb"}),(0,i.jsx)(e.th,{style:{textAlign:"right"},children:"4KB"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"\u987a\u5e8f\u5199"}),(0,i.jsx)(e.th,{style:{textAlign:"right"},children:"1MB"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"\u987a\u5e8f\u8bfb"}),(0,i.jsx)(e.th,{style:{textAlign:"right"},children:"1MB"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"\u987a\u5e8f\u5199"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"IOPS"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Throughput"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"IOPS"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Throughput"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"IOPS"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Throughput"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"IOPS"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Throughput"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"IOPS"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Throughput"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"IOPS"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Throughput"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"\u7269\u7406\u673a"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"195"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"782KiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"7349"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"28.7MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"22.1k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"86.3MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"24.5k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"95.8MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"1055"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1056MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"1117"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1118MiB/s"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(100%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(100%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(100%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(100%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(100%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(100%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(100%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(100%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(100%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(100%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(100%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(100%)"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Linux \u865a\u62df\u673a"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"245"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"981KiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"6096"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"23.8MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"9458"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"36.9MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"6278"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"24.5MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"979"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"980MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"1058"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1059MiB/s"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"(cache=none)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(126%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(125%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(83%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(83%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(43%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(43%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(26%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(26%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(93%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(93%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(95%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(95%)"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Linux \u865a\u62df\u673a"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"243"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"973KiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"7483"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"29.2MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"11.5k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"44.9MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"7271"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"28.4MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"958"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"959MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"1052"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1052MiB/s"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"(cache=none,queues=4)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(125%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(124%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(102%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(102%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(52%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(52%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(30%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(30%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(91%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(91%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(94%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(94%)"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Linux \u865a\u62df\u673a"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"13.0k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"54.5MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"8360"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"32.7MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"13.1k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"51.3MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"8976"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"35.1MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"2550"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"2551MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"1045"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1046MiB/s"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"(cache=writeback)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(6667%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(6969%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(114%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(114%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(59%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(59%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(37%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(37%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(242%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(242%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(94%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(94%)"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Linux \u865a\u62df\u673a"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"28.7k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"112MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"12.2k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"47.5MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"29.6k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"116MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"11.2k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"43.8MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"2931"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"2932MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"1220"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1220MiB/s"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"(cache=writeback,queues=4)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(14718%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(14322%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(166%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(166%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(134%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(134%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(46%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(46%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(278%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(278%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(109%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(109%)"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Windows \u865a\u62df\u673a"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"2811"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"11.0MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"6002"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"23.4MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"11.8k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"46.1MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"4289"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"16.8MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"1009"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1009MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"685"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"686MiB/s"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"(cache=none)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(1441%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(1407%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(82%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(82%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(53%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(53%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(18%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(18%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(96%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(96%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(61%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(61%)"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Windows \u865a\u62df\u673a"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"2794"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"10.9MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"7448"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"29.1MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"21.1k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"82.6MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"25.5k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"99.7MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"930"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"930MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"1013"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1014MiB/s"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"(cache=none,queues=4)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(1432%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(1394%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(101%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(101%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(95%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(96%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(104%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(104%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(88%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(88%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(91%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(91%)"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Windows \u865a\u62df\u673a"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"2483"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"9935KiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"7430"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"29.0MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"10.9k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"42.8MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"13.6k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"53.0MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"1993"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1994MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"920"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"920MiB/s"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"(cache=writeback)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(1273%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(1270%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(101%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(101%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(49%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(50%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(56%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(55%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(189%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(189%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(82%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(82%)"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Windows \u865a\u62df\u673a"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"4520"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"17.7MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"18.8k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"73.6MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"23.3k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"90.8MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"21.8k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"85.1MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"2628"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"2628MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"1191"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1192MiB/s"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"(cache=writeback,queues=4)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(2317%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(2263%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(2558%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(2564%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(105%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(105%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(89%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(89%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(249%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(249%)"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"(106%)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"(106%)"})]})]})]}),"\n",(0,i.jsx)(e.h4,{id:"\u6d4b\u8bd5\u7ed3\u8bba",children:"\u6d4b\u8bd5\u7ed3\u8bba"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"\u548c\u7269\u7406\u673a\u76f8\u6bd4\uff0c\u57284KB\u968f\u673a\u8bfb\u5199\uff0c1MB\u987a\u5e8f\u8bfb\u5199\u65b9\u9762\uff0c\u670910%\u5de6\u53f3\u7684\u865a\u62df\u5316\u5f00\u9500\u3002\u53ef\u4ee5\u8ba4\u4e3a\u865a\u62df\u673a\u6027\u80fd\u548c\u7269\u7406\u673a\u76f8\u5f53\u3002\u7531\u4e8e\u7f13\u5b58\u7684\u4f5c\u7528\uff0c\u865a\u62df\u673a\u6027\u80fd\u5728\u67d0\u4e9b\u573a\u666f\u751a\u81f3\u8d85\u8fc7\u7269\u7406\u673a\u3002"}),"\n",(0,i.jsx)(e.li,{children:"\u5f00\u542fwriteback\u548c\u591a\u961f\u5217\u4e4b\u540e\uff0c\u5199\u6027\u80fd\u6709\u660e\u663e\u52a0\u901f"}),"\n",(0,i.jsx)(e.li,{children:"\u57284KB\u987a\u5e8f\u8bfb\u5199\u6027\u80fd\u65b9\u9762\uff0c\u865a\u62df\u673a\u4ec5\u6709\u7269\u7406\u673a\u7684\u4e00\u534a\u6027\u80fd\u3002\u8fd9\u662f\u56e0\u4e3a\u78c1\u76d8\u91c7\u7528thin provision\u65b9\u5f0f\uff0c\u865a\u62df\u673a\u5185\u7684\u987a\u5e8f\u8bfb\u5199\u8f6c\u6362\u5230\u7269\u7406\u673a\u5176\u5b9e\u662f\u968f\u673a\u8bfb\u5199\u3002\u4e3a\u4e86\u6539\u5584\u865a\u62df\u673a4KB\u987a\u5e8f\u8bfb\u5199\u6027\u80fd\uff0c\u9700\u8981\u5c06\u865a\u62df\u78c1\u76d8\u6587\u4ef6\u8fdb\u884c\u9884\u5206\u914d\u3002\u8fd9\u6837\u865a\u62df\u673a\u5185\u7684\u987a\u5e8f\u8bfb\u5199\u5728\u7269\u7406\u673a\u4e5f\u662f\u987a\u5e8f\u8bfb\u5199\u3002"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u5171\u4eab\u5b58\u50a8cephio\u6027\u80fd\u6d4b\u8bd5",children:"\u5171\u4eab\u5b58\u50a8(ceph)IO\u6027\u80fd\u6d4b\u8bd5"}),"\n",(0,i.jsx)(e.h4,{id:"\u6d4b\u8bd5\u73af\u5883-2",children:"\u6d4b\u8bd5\u73af\u5883"}),"\n",(0,i.jsx)(e.p,{children:"1\u3001\u5bbf\u4e3b\u673a\u914d\u7f6e\uff1a"}),"\n",(0,i.jsx)(e.p,{children:"OS: CentOS Linux release 7.9.2009 (Core)\n\u5185\u6838\uff1a3.10.0-1062.4.3.el7.yn20191203.x86_64\nCPU: Intel(R) Xeon(R) CPU E5-2678 v3 @ 2.50GHz\n\u5185\u5b58\uff1a256GB"}),"\n",(0,i.jsx)(e.p,{children:"2\u3001\u865a\u62df\u673a\u914d\u7f6e\uff1a"}),"\n",(0,i.jsx)(e.p,{children:"OS: CentOS Linux release 7.6.1810 (Core)\n\u5185\u6838\uff1a3.10.0-957.12.1.el7.x86_64\n\u914d\u7f6e\uff1a4\u6838CPU4G\u5185\u5b5830G\u7cfb\u7edf\u76d8100G\u6570\u636e\u76d8"}),"\n",(0,i.jsx)(e.p,{children:"3\u3001Ceph\u5b58\u50a8\u914d\u7f6e"}),"\n",(0,i.jsx)(e.p,{children:"\u7f51\u5361\uff1a2x10G\u53cc\u5149\u53e3\u5b58\u50a8\u7f51 + 2x10G\u53cc\u5149\u53e3\u63a5\u5165\u7f51\n\u78c1\u76d8\uff1a\u5168\u95eaSSD"}),"\n",(0,i.jsx)(e.h4,{id:"\u6d4b\u8bd5\u6570\u636e",children:"\u6d4b\u8bd5\u6570\u636e"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u573a\u666f"}),(0,i.jsx)(e.th,{style:{textAlign:"right"},children:"4KB"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"\u968f\u673a\u8bfb"}),(0,i.jsx)(e.th,{style:{textAlign:"right"},children:"4KB"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"\u968f\u673a\u5199"}),(0,i.jsx)(e.th,{style:{textAlign:"right"},children:"4KB"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"\u987a\u5e8f\u8bfb"}),(0,i.jsx)(e.th,{style:{textAlign:"right"},children:"4KB"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"\u987a\u5e8f\u5199"}),(0,i.jsx)(e.th,{style:{textAlign:"right"},children:"1MB"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"\u987a\u5e8f\u8bfb"}),(0,i.jsx)(e.th,{style:{textAlign:"right"},children:"1MB"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"\u987a\u5e8f\u5199"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"IOPS"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Throughput"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"IOPS"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Throughput"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"IOPS"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Throughput"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"IOPS"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Throughput"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"IOPS"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Throughput"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"IOPS"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Throughput"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cache=none"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"1054"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"4217KiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"405"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1622KiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"1864"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"7456KiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"552"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"2209KiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"159"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"159MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"163"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"164MiB/s"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cache=none,queues=4"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"1152"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"4608KiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"441"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1767KiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"2066"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"8265KiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"368"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1472KiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"168"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"169MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"168"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"168MiB/s"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cache=writeback"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"978"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"3913KiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"9425"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"36.8MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"1623"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"6494KiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"10.7k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"41.7MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"149"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"149MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"474"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"474MiB/s"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cache=writeback,queues=4"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"1071"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"4284KiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"12.6k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"49.3MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"1711"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"6848KiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"15.1k"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"59.1MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"161"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"161MiB/s"}),(0,i.jsx)(e.td,{style:{textAlign:"right"},children:"475"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"475MiB/s"})]})]})]}),"\n",(0,i.jsx)(e.h4,{id:"\u6d4b\u8bd5\u7ed3\u8bba-1",children:"\u6d4b\u8bd5\u7ed3\u8bba"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"\u5f00\u542fwriteback\u548c\u591a\u961f\u5217\u80fd\u591f\u660e\u663e\u63d0\u5347\u5199\u6027\u80fd"}),"\n",(0,i.jsx)(e.li,{children:"\u8bfb\u6027\u80fd\u6bd4\u8f83\u96be\u4f18\u5316\uff0c\u53ef\u4ee5\u8c03\u9ad8\u865a\u62df\u673a\u5185\u7684 read ahead \u7f13\u5b58\uff08blockdev --setra /dev/sda\uff09"}),"\n",(0,i.jsx)(e.li,{children:"Ceph\u5e76\u672a\u628a\u7f51\u7edc\u6253\u6ee1\uff0c\u4e5f\u672a\u80fd\u7528\u6ee1SSD\u7684\u6027\u80fd\uff0c\u6027\u80fd\u74f6\u9888\u611f\u89c9\u8fd8\u662f\u5728\u8f6f\u4ef6\u5c42\u9762"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u7f51\u7edc\u6d4b\u8bd5",children:"\u7f51\u7edc\u6d4b\u8bd5"}),"\n",(0,i.jsx)(e.h4,{id:"\u6d4b\u8bd5\u6761\u4ef6",children:"\u6d4b\u8bd5\u6761\u4ef6"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u865a\u62df\u673a\u6709\u6d41\u91cf\u9650\u5236\uff0c\u9700\u8981\u5728\u524d\u7aef\u6216\u8005\u7528\u547d\u4ee4\u884c\u5de5\u5177 ",(0,i.jsx)(e.code,{children:"climc server-change-bandwidth"})," \u628a\u5e26\u5bbd\u6539\u4e3a 0 \uff0c\u8868\u793a\u53d6\u6d88\u9650\u901f\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cVPC\u865a\u62df\u673a\u7684EIP\u4e5f\u6709\u5e26\u5bbd\u9650\u5236\uff08\u9ed8\u8ba430Mbps\uff09\uff0c\u4e5f\u9700\u8981\u5728\u524d\u7aef\uff0c\u6216\u8005\u7528climc\u4fee\u6539\u9650\u5236\u4e3a0\uff0c\u8868\u793a\u53d6\u6d88\u9650\u5236\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"\u6d4b\u8bd5\u65b9\u6cd5-1",children:"\u6d4b\u8bd5\u65b9\u6cd5:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# \u627e\u4e00\u53f0\u673a\u5668\u8fd0\u884c iperf server \u6a21\u5f0f\uff0c\u5047\u8bbe ip \u662f 10.127.100.3\n$ iperf3 -s --bind 10.127.100.3\n\n# \u5728\u53e6\u5916\u4e00\u53f0\u673a\u5668\u4f5c\u4e3a iperf client \u6a21\u5f0f\u8fde\u63a5 server\n$ iperf3 -c 10.127.100.3 -t 30\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u4ee5\u4e0a\u91cd\u590d\u6267\u884c\u4e09\u6b21\uff0c\u53d6\u6700\u597d\u7684\u4e00\u6b21\u3002"}),"\n",(0,i.jsx)(e.h4,{id:"\u7ecf\u5178\u7f51\u7edc\u6027\u80fd\u6d4b\u8bd5",children:"\u7ecf\u5178\u7f51\u7edc\u6027\u80fd\u6d4b\u8bd5"}),"\n",(0,i.jsx)(e.h5,{id:"\u73af\u5883",children:"\u73af\u5883"}),"\n",(0,i.jsx)(e.p,{children:"1\u3001\u5bbf\u4e3b\u673a\u914d\u7f6e\uff1a"}),"\n",(0,i.jsx)(e.p,{children:"OS: CentOS Linux release 7.9.2009 (Core)\n\u5185\u6838\uff1a3.10.0-1062.4.3.el7.yn20191203.x86_64\nCPU: Intel(R) Xeon(R) CPU E5-2678 v3 @ 2.50GHz\n\u5185\u5b58\uff1a256GB"}),"\n",(0,i.jsx)(e.p,{children:"2\u3001\u865a\u62df\u673a\u914d\u7f6e\uff1a"}),"\n",(0,i.jsx)(e.p,{children:"OS: CentOS Linux release 7.6.1810 (Core)\n\u5185\u6838\uff1a3.10.0-957.12.1.el7.x86_64\n\u914d\u7f6e\uff1a2\u6838CPU 2G\u5185\u5b58 30G\u7cfb\u7edf\u76d8"}),"\n",(0,i.jsx)(e.h5,{id:"\u7ed3\u8bba",children:"\u7ed3\u8bba"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u6e90 \\ \u76ee\u7684"}),(0,i.jsx)(e.th,{children:"\u7269\u7406\u673a"}),(0,i.jsx)(e.th,{children:"\u865a\u62df\u673a"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"\u7269\u7406\u673a"}),(0,i.jsx)(e.td,{children:"8.35 Gbps (100%)"}),(0,i.jsx)(e.td,{children:"8.40 Gbps (101%)"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"\u865a\u62df\u673a"}),(0,i.jsx)(e.td,{children:"8.41 Gbps (101%)"}),(0,i.jsx)(e.td,{children:"8.33 Gbps (99.7%)"})]})]})]}),"\n",(0,i.jsx)(e.p,{children:"\u8bf4\u660e\uff1a\u9971\u548c\u6d41\u91cf\u6d4b\u8bd5\uff0c\u7f51\u8def\u865a\u62df\u5316\u5f00\u9500\u5f88\u4f4e\uff081%\u91cf\u7ea7\uff09\u3002"}),"\n",(0,i.jsx)(e.h4,{id:"vpc\u7f51\u7edc\u6027\u80fd\u6d4b\u8bd5",children:"VPC\u7f51\u7edc\u6027\u80fd\u6d4b\u8bd5"}),"\n",(0,i.jsx)(e.h5,{id:"\u6d4b\u8bd5\u73af\u5883-3",children:"\u6d4b\u8bd5\u73af\u5883"}),"\n",(0,i.jsx)(e.p,{children:"1\u3001\u5bbf\u4e3b\u673a\u914d\u7f6e\uff1a"}),"\n",(0,i.jsx)(e.p,{children:"OS: CentOS Linux release 7.7.1908 (Core)\n\u5185\u6838\uff1a5.4.130-1.yn20210710.el7.x86_64\nCPU: Intel(R) Xeon(R) Gold 5218R CPU @ 2.10GHz\n\u5185\u5b58\uff1a256GB"}),"\n",(0,i.jsx)(e.p,{children:"2\u3001\u865a\u62df\u673a\u914d\u7f6e\uff1a"}),"\n",(0,i.jsx)(e.p,{children:"OS: CentOS Linux release 7.8.2003\n\u5185\u6838\uff1a3.10.0-1127.el7.x86_64\n\u914d\u7f6e\uff1a2\u6838CPU 2G\u5185\u5b58 30G\u7cfb\u7edf\u76d8"}),"\n",(0,i.jsx)(e.h5,{id:"\u7ed3\u8bba-1",children:"\u7ed3\u8bba"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u573a\u666f"}),(0,i.jsx)(e.th,{children:"\u7269\u7406\u673a\u5230\u7269\u7406\u673a"}),(0,i.jsx)(e.th,{children:"\u865a\u62df\u673a\u5230\u865a\u62df\u673a"}),(0,i.jsx)(e.th,{children:"\u865a\u62df\u673aEIP\u5230\u865a\u62df\u673aEIP"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"\u6027\u80fd (Gbps)"}),(0,i.jsx)(e.td,{children:"9.19 (100%)"}),(0,i.jsx)(e.td,{children:"8.96 (97%)"}),(0,i.jsx)(e.td,{children:"5.83 (63%)"})]})})]}),"\n",(0,i.jsx)(e.p,{children:"\u8bf4\u660e\uff1a\u9971\u548c\u6d41\u91cf\u60c5\u51b5\u4e0b\uff0c\u7f51\u7edc\u865a\u62df\u5316\u5f00\u9500\u5f88\u4f4e\uff083%\u91cf\u7ea7\uff09\u3002\u7531\u4e8e\u8f6c\u6362\u8def\u5f84\u8f83\u957f\uff0cEIP\u7684\u6027\u80fd\u8981\u5dee\u5f88\u591a\uff0836%\u635f\u8017\uff09\u3002"})]})}function j(t={}){const{wrapper:e}={...(0,n.a)(),...t.components};return e?(0,i.jsx)(e,{...t,children:(0,i.jsx)(c,{...t})}):c(t)}},11151:(t,e,l)=>{l.d(e,{Z:()=>r,a:()=>d});var i=l(67294);const n={},s=i.createContext(n);function d(t){const e=i.useContext(s);return i.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function r(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(n):t.components||n:d(t.components),i.createElement(s.Provider,{value:e},t.children)}}}]);