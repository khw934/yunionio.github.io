"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[5869],{2189:(e,n,c)=>{c.r(n),c.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>u,frontMatter:()=>t,metadata:()=>l,toc:()=>a});var s=c(74848),i=c(28453);const t={sidebar_position:3},r="Azure \u521b\u5efa\u8ba2\u9605\u8bbe\u7f6e",l={id:"guides/cmp/cloudaccounts/azure_subscription",title:"Azure \u521b\u5efa\u8ba2\u9605\u8bbe\u7f6e",description:"\u63cf\u8ff0\u5982\u4f55\u7ed9\u5e94\u7528\u7a0b\u5e8f\u8d4b\u6743\u652f\u6301\u521b\u5efa\u8ba2\u9605",source:"@site/docs/guides/cmp/cloudaccounts/azure_subscription.md",sourceDirName:"guides/cmp/cloudaccounts",slug:"/guides/cmp/cloudaccounts/azure_subscription",permalink:"/v3.10/docs/guides/cmp/cloudaccounts/azure_subscription",draft:!1,unlisted:!1,editUrl:"https://github.com/yunionio/website/tree/master/docs/guides/cmp/cloudaccounts/azure_subscription.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"AWS \u5bf9\u63a5\u5e38\u89c1\u95ee\u9898",permalink:"/v3.10/docs/guides/cmp/cloudaccounts/aws"},next:{title:"Openstack \u5bf9\u63a5\u5e38\u89c1\u95ee\u9898",permalink:"/v3.10/docs/guides/cmp/cloudaccounts/openstack"}},o={},a=[{value:"\u524d\u7f6e\u6761\u4ef6",id:"\u524d\u7f6e\u6761\u4ef6",level:2},{value:"\u767b\u5f55Azure\u63a7\u5236\u53f0, \u5f00\u542fCloudShell",id:"\u767b\u5f55azure\u63a7\u5236\u53f0-\u5f00\u542fcloudshell",level:2},{value:"\u83b7\u53d6 enrollment account id",id:"\u83b7\u53d6-enrollment-account-id",level:2},{value:"\u83b7\u53d6\u5e94\u7528\u7a0b\u5e8fId",id:"\u83b7\u53d6\u5e94\u7528\u7a0b\u5e8fid",level:2},{value:"\u8d4b\u4e88\u5e94\u7528\u7a0b\u5e8fenrollment account Onwer\u6743\u9650",id:"\u8d4b\u4e88\u5e94\u7528\u7a0b\u5e8fenrollment-account-onwer\u6743\u9650",level:2},{value:"\u53c2\u8003\u6587\u6863",id:"\u53c2\u8003\u6587\u6863",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"azure-\u521b\u5efa\u8ba2\u9605\u8bbe\u7f6e",children:"Azure \u521b\u5efa\u8ba2\u9605\u8bbe\u7f6e"}),"\n",(0,s.jsx)(n.p,{children:"\u63cf\u8ff0\u5982\u4f55\u7ed9\u5e94\u7528\u7a0b\u5e8f\u8d4b\u6743\u652f\u6301\u521b\u5efa\u8ba2\u9605"}),"\n",(0,s.jsx)(n.h2,{id:"\u524d\u7f6e\u6761\u4ef6",children:"\u524d\u7f6e\u6761\u4ef6"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Azure\u8d26\u53f7\u4e3a\u56fd\u9645\u533a\u8d26\u53f7"}),"\n",(0,s.jsx)(n.li,{children:"Azure\u8d26\u53f7\u4e3a\u4f01\u4e1a\u8d26\u53f7"}),"\n",(0,s.jsx)(n.li,{children:"\u5e73\u53f0\u5f55\u5165\u7684\u8d26\u53f7\u548c\u6b64\u6587\u6863\u4e2d\u7684\u5e94\u7528\u7a0b\u5e8f\u662f\u540c\u4e00\u4e2a"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u767b\u5f55azure\u63a7\u5236\u53f0-\u5f00\u542fcloudshell",children:"\u767b\u5f55Azure\u63a7\u5236\u53f0, \u5f00\u542fCloudShell"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:c(37672).A+"",width:"3016",height:"1682"})}),"\n",(0,s.jsx)(n.h2,{id:"\u83b7\u53d6-enrollment-account-id",children:"\u83b7\u53d6 enrollment account id"}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u4e0a\u9762\u7684cloud shell\u4e2d\u6267\u884c az billing enrollment-account list, \u5982\u4e0b\u56fe"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:c(28282).A+"",width:"3022",height:"412"})}),"\n",(0,s.jsx)(n.p,{children:"\u8fd9\u91cc\u5047\u8bbeid \u4e3a /providers/Microsoft.Billing/enrollmentAccounts/747ddfe5-xxxx-xxxx-xxxx-xxxxxxxxxxxx \u4fdd\u5b58 \u4ee5\u5907\u7528"}),"\n",(0,s.jsx)(n.h2,{id:"\u83b7\u53d6\u5e94\u7528\u7a0b\u5e8fid",children:"\u83b7\u53d6\u5e94\u7528\u7a0b\u5e8fId"}),"\n",(0,s.jsx)(n.p,{children:"\u5230Azure Active Directory => \u5e94\u7528\u6ce8\u518c\u4e2d\u627e\u5230\u4f7f\u7528\u7684\u5e94\u7528\uff0c\u5e76\u83b7\u5f97 \u5e94\u7528\u7a0b\u5e8f(\u5ba2\u6237\u7aef) ID, \u5e76\u5728cloud shell\u6267\u884c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"az ad sp show --id 7ffdacec-8769-4802-9975-4ba7a2906ec8 | grep id\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:c(43441).A+"",width:"3022",height:"1300"})}),"\n",(0,s.jsx)(n.p,{children:"\u83b7\u5f97\u5e94\u7528\u7a0b\u5e8fId\u4e3a 5b744b52-4215-4cc7-b776-429ce447c62c \u4fdd\u5b58\u5907\u7528"}),"\n",(0,s.jsx)(n.h2,{id:"\u8d4b\u4e88\u5e94\u7528\u7a0b\u5e8fenrollment-account-onwer\u6743\u9650",children:"\u8d4b\u4e88\u5e94\u7528\u7a0b\u5e8fenrollment account Onwer\u6743\u9650"}),"\n",(0,s.jsx)(n.p,{children:"\u6253\u5f00cloud shell \u6267\u884c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"# \u8fd9\u91cc\u7684 5b744b52-4215-4cc7-b776-429ce447c62c \u662f\u5e94\u7528\u7a0b\u5e8fId\n# /providers/Microsoft.Billing/enrollmentAccounts/747ddfe5-xxxx-xxxx-xxxx-xxxxxxxxxxxx \u662f enrollment account id\naz role assignment create --role Owner --assignee-object-id 5b744b52-4215-4cc7-b776-429ce447c62c --scope /providers/Microsoft.Billing/enrollmentAccounts/747ddfe5-xxxx-xxxx-xxxx-xxxxxxxxxxxx\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u5982\u56fe\u6240\u793a\u5373\u8d4b\u6743\u6210\u529f\n",(0,s.jsx)(n.img,{src:c(23642).A+"",width:"3016",height:"740"})]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["\u82e5\u521b\u5efa\u8ba2\u9605\u65f6\u62a5 ",(0,s.jsx)(n.strong,{children:"EntitlementNotFound"})," \u7684\u9519\u8bef\uff0c\u9700\u8981\u6839\u636e\u6587\u6863\u5230ea\u4e0a\u5f00\u542f",(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/ea-portal-administration#enterprise-devtest-offer",children:"\u521b\u5efa\u8ba2\u9605\u6743\u9650"})]})}),"\n",(0,s.jsx)(n.h2,{id:"\u53c2\u8003\u6587\u6863",children:"\u53c2\u8003\u6587\u6863"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/programmatically-create-subscription-preview?tabs=azure-cli",children:"\u7f16\u7a0b\u521b\u5efa\u8ba2\u9605"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/grant-access-to-create-subscription?tabs=rest%2Crest-2",children:"\u8d4b\u6743\u6587\u6863"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/ea-portal-administration#enterprise-devtest-offer",children:"\u5f00\u542f\u521b\u5efa\u8ba2\u9605\u6743\u9650"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},43441:(e,n,c)=>{c.d(n,{A:()=>s});const s=c.p+"assets/images/az_app_id-979d8108ae188755ea071f979450f338.png"},23642:(e,n,c)=>{c.d(n,{A:()=>s});const s=c.p+"assets/images/az_assign_role-1fa5bffef1e1c1f28aed3e8270b4aec7.png"},37672:(e,n,c)=>{c.d(n,{A:()=>s});const s=c.p+"assets/images/az_cloud_shell-afd6116dceb1b9fe125ea8b03bd10398.png"},28282:(e,n,c)=>{c.d(n,{A:()=>s});const s=c.p+"assets/images/az_enrollment_account-07c4fe719b63f3a234bed5022cc2372a.png"},28453:(e,n,c)=>{c.d(n,{R:()=>r,x:()=>l});var s=c(96540);const i={},t=s.createContext(i);function r(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);