"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[9662],{59090:(s,e,n)=>{n.d(e,{ZP:()=>l});var t=n(85893),i=n(11151),d=n(18944),r=(n(52263),n(95999));function c(s){const e=s.productVersion;return(0,t.jsx)("div",{children:(0,t.jsx)(d.Z,{language:"bash",children:`\n# ${(0,r.I)({message:"\u786e\u4fdd git \u5df2\u7ecf\u5b89\u88c5"})}\n# ${(0,r.I)({message:"\u514b\u9686ocboot \u7684 master \u5206\u652f. \u6ce8\u610f\uff1ak3s\u7684\u90e8\u7f72\u65b9\u5f0f\uff0c\u76ee\u524d\u53ea\u5b9e\u73b0\u5728 ocboot \u7684 master\u91cc"})}\ngit clone https://github.com/yunionio/ocboot.git\n\n# ${(0,r.I)({message:"\u5b89\u88c5 buildah"})}\n./scripts/install-buildah.sh\n\n# ${(0,r.I)({message:"\u9ed8\u8ba4\u90e8\u7f72 v3.11.x \u7248\u672c\u7684\u4e91\u7ba1\u7cfb\u7edf\u3002\u5982\u9700\u90e8\u7f72\u5176\u4ed6\u7248\u672c\uff0c\u8bf7\u81ea\u884c\u4fee\u6539 VERSION \u6587\u4ef6\u5230\u6307\u5b9a\u53d1\u884c\u7248\u3002"})}\n\n# ${(0,r.I)({message:"\u83b7\u53d6\u672c\u673a IP"})}\n# ${(0,r.I)({message:"\u5982\u679c\u7f51\u7edc\u60c5\u51b5\u590d\u6742(\u591a\u7f51\u5361\u3001\u591aip)\uff0c\u6b64\u5904\u4e5f\u53ef\u624b\u5de5\u6307\u5b9a IP"})}\nIP=$(ip route get 1 | awk '{print $7}' | sort -u | head -1)\n./ocboot.sh run.py ${e} $IP --k3s\n           `})})}function h(s){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.a)(),...s.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{id:"\u7b80\u4ecb",children:"\u7b80\u4ecb"}),"\n",(0,t.jsxs)(e.p,{children:["\u4e0d\u5c11\u7528\u6237\u53cd\u9988\uff0cocboot\u76ee\u524d\u7684 k8s\u5957\u4ef6\u7248\u672c\u8fc7\u4f4e\uff08",(0,t.jsx)(e.code,{children:"v1.15"}),"\uff09\uff0c\u5e0c\u671b\u80fd\u591f\u63a8\u51fa\u66f4\u9ad8\u7248\u672c\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u63a8\u51fa\u4e86\u57fa\u4e8e",(0,t.jsx)(e.code,{children:"buildah"}),"+",(0,t.jsx)(e.code,{children:"k3s"})," (",(0,t.jsx)(e.code,{children:"v1.28"}),")\u7684\u90e8\u7f72\u65b9\u5f0f\u3002"]}),"\n",(0,t.jsx)(e.admonition,{type:"warning",children:(0,t.jsx)(e.p,{children:"\u8bf7\u6ce8\u610f\uff0c\u76ee\u524d\u672c\u65b9\u6848\u5904\u4e8e\u6d4b\u8bd5\u9636\u6bb5\uff0c\u8bf7\u5728\u5145\u5206\u6d4b\u8bd5\u4e4b\u540e\uff0c\u518d\u7528\u4e8e\u60a8\u7684\u751f\u4ea7\u73af\u5883\u3002"})}),"\n",(0,t.jsxs)(e.p,{children:["\u672c\u5b89\u88c5\u65b9\u6848\uff0c\u4e0d\u518d\u4f9d\u8d56\u76ee\u6807\u673a\u5668\u4e0a\u7684",(0,t.jsx)(e.code,{children:"ansible"}),"\uff0c\u800c\u662f\u628a ansibie \u53ca\u5176\u4f9d\u8d56\u96c6\u6210\u5728",(0,t.jsx)(e.code,{children:"buildah"})," \u955c\u50cf\u91cc\u3002"]}),"\n",(0,t.jsx)(e.h2,{id:"\u90e8\u7f72\u65b9\u5f0f",children:"\u90e8\u7f72\u65b9\u5f0f"}),"\n",(0,t.jsx)(e.p,{children:"\u8bf7\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u90e8\u7f72\u3002\u8bf7\u53c2\u8003\u6ce8\u91ca\u90e8\u5206\u3002"}),"\n","\n","\n",(0,t.jsx)(c,{productVersion:s.productVersion}),"\n",(0,t.jsx)(e.h2,{id:"\u652f\u6301\u7684\u64cd\u4f5c\u7cfb\u7edf",children:"\u652f\u6301\u7684\u64cd\u4f5c\u7cfb\u7edf"}),"\n",(0,t.jsx)(e.p,{children:"\u6ce8\uff1a3.11\u30013.10\u7b49\uff0c\u8868\u793a\u53d1\u884c\u7248 Release/3.11\u3001Release/3.10\u3002\u5176\u4f59\u540c\u7406\u3002"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Operationg system and Arch"}),(0,t.jsx)(e.th,{children:"3.11"}),(0,t.jsx)(e.th,{children:"3.10"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"CentOS 7 2009 x86_64+aarch64"}),(0,t.jsx)(e.td,{children:"\u2705"}),(0,t.jsx)(e.td,{children:"\u2705"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"OpenEuler 22.03 LTS Sp3 x86_64+aarch64"}),(0,t.jsx)(e.td,{children:"\u2705"}),(0,t.jsx)(e.td,{children:"\u2705"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Debian 11 x86_64+aarch64"}),(0,t.jsx)(e.td,{children:"\u2705"}),(0,t.jsx)(e.td,{children:"\u2705"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Ubuntu 22.04 x86_64+aarch64"}),(0,t.jsx)(e.td,{children:"\u2705"}),(0,t.jsx)(e.td,{children:"\u2705"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"CentOS Stream8 x86_64"}),(0,t.jsx)(e.td,{children:"\u2705"}),(0,t.jsx)(e.td,{children:"\u2705"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Rocky Linux 8.9 x86_64"}),(0,t.jsx)(e.td,{children:"\u2705"}),(0,t.jsx)(e.td,{children:"\u2705"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"OpencloudOS 8.8 x86_64"}),(0,t.jsx)(e.td,{children:"\u2705"}),(0,t.jsx)(e.td,{children:"\u2705"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"AlmaLinux 8.9 x86_64"}),(0,t.jsx)(e.td,{children:"\u2705"}),(0,t.jsx)(e.td,{children:"\u2705"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"AnolisOS 8.8 x86_64"}),(0,t.jsx)(e.td,{children:"\u2705"}),(0,t.jsx)(e.td,{children:"\u2705"})]})]})]}),"\n",(0,t.jsx)(e.h2,{id:"\u5982\u4f55\u5378\u8f7dk3s",children:"\u5982\u4f55\u5378\u8f7dk3s"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"./scripts/uninstall-k3s.sh\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u5982\u6709\u9700\u8981\uff0c\u8bf7\u5728\u5378\u8f7dk3s\u4e4b\u540e\uff0c\u81ea\u884c\u6e05\u7406\u6570\u636e\u5e93\u3002\u672c\u6587\u6863\u4e0d\u505a\u8d58\u8ff0\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"faq",children:"FAQ"}),"\n",(0,t.jsx)(e.h3,{id:"1-\u662f\u5426\u652f\u6301\u5c06-k8s-\u7684\u7cfb\u7edf\u8fc1\u79fb\u5347\u7ea7\u5230-k3s-\u7cfb\u7edf\u91cc",children:"1. \u662f\u5426\u652f\u6301\u5c06 k8s \u7684\u7cfb\u7edf\uff0c\u8fc1\u79fb/\u5347\u7ea7\u5230 k3s \u7cfb\u7edf\u91cc\uff1f"}),"\n",(0,t.jsx)(e.p,{children:"\u6682\u4e0d\u652f\u6301\u3002"}),"\n",(0,t.jsx)(e.h3,{id:"2-\u5176\u5b83\u95ee\u9898",children:"2. \u5176\u5b83\u95ee\u9898\uff1f"}),"\n",(0,t.jsxs)(e.p,{children:["\u5176\u5b83\u95ee\u9898\u6b22\u8fce\u5728 Cloudpods github issues \u754c\u9762\u63d0\u4ea4: ",(0,t.jsx)(e.a,{href:"https://github.com/yunionio/cloudpods/issues",children:"https://github.com/yunionio/cloudpods/issues"})," , \u6211\u4eec\u4f1a\u5c3d\u5feb\u56de\u590d\u3002"]})]})}function l(s={}){const{wrapper:e}={...(0,i.a)(),...s.components};return e?(0,t.jsx)(e,{...s,children:(0,t.jsx)(h,{...s})}):h(s)}},52029:(s,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>c,default:()=>x,frontMatter:()=>r,metadata:()=>h,toc:()=>o});var t=n(85893),i=n(11151),d=n(59090);const r={edition:"ce",sidebar_position:6},c="\u57fa\u4e8e buildah + k3s \u5feb\u901f\u90e8\u7f72",h={id:"getting-started/onpremise/buildah-k3s",title:"\u57fa\u4e8e buildah + k3s \u5feb\u901f\u90e8\u7f72",description:"",source:"@site/docs/getting-started/onpremise/buildah-k3s.md",sourceDirName:"getting-started/onpremise",slug:"/getting-started/onpremise/buildah-k3s",permalink:"/v3.10/docs/getting-started/onpremise/buildah-k3s",draft:!1,unlisted:!1,editUrl:"https://github.com/yunionio/website/tree/master/docs/getting-started/onpremise/buildah-k3s.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{edition:"ce",sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"\u90e8\u7f72\u8d1f\u8f7d\u5747\u8861\u96c6\u7fa4",permalink:"/v3.10/docs/getting-started/onpremise/lbagent"},next:{title:"\u591a\u4e91\u7ba1\u7406",permalink:"/v3.10/docs/getting-started/cmp/"}},l={},o=[];function a(s){const e={h1:"h1",...(0,i.a)(),...s.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"\u57fa\u4e8e-buildah--k3s-\u5feb\u901f\u90e8\u7f72",children:"\u57fa\u4e8e buildah + k3s \u5feb\u901f\u90e8\u7f72"}),"\n","\n","\n",(0,t.jsx)(d.ZP,{productVersion:"virt"})]})}function x(s={}){const{wrapper:e}={...(0,i.a)(),...s.components};return e?(0,t.jsx)(e,{...s,children:(0,t.jsx)(a,{...s})}):a(s)}},55617:(s,e,n)=>{n.d(e,{Z:()=>d});n(67294);var t=n(9779),i=n(85893);function d(s){const e={...s};return e?.code?.length>2&&(e.code=e.code.split("\n").map((s=>s.length>2&&"$ "===s.substring(0,2)?s.substring(2):s)).join("\n")),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(t.Z,{...e})})}}}]);