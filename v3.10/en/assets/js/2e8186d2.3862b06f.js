"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[1713],{91304:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>_,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var t=o(74848),r=o(28453);const s={sidebar_position:2},i="nginx \u914d\u7f6e",a={id:"operations/fe/behindnginx",title:"nginx \u914d\u7f6e",description:"\u90e8\u7f72\u5b8c\u6210\u540e\uff0c\u5982\u679c\u8981\u901a\u8fc7 nginx \u5c06\u5e73\u53f0\u7684\u524d\u7aef\u66b4\u9732\u5230\u5916\u7f51\u8bbf\u95ee\uff0cnginx \u7684\u63a8\u8350\u914d\u7f6e\u5982\u4e0b\u3002",source:"@site/docs/operations/fe/behindnginx.md",sourceDirName:"operations/fe",slug:"/operations/fe/behindnginx",permalink:"/v3.10/en/docs/operations/fe/behindnginx",draft:!1,unlisted:!1,editUrl:"https://github.com/yunionio/website/tree/master/docs/operations/fe/behindnginx.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"\u66f4\u6362\u524d\u7aef\u8bc1\u4e66",permalink:"/v3.10/en/docs/operations/fe/config-ssl-certs"},next:{title:"\u524d\u7aef\u4f7f\u7528 HTTP",permalink:"/v3.10/en/docs/operations/fe/web-use-http"}},d={},c=[];function p(e){const n={admonition:"admonition",code:"code",h1:"h1",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"nginx-\u914d\u7f6e",children:"nginx \u914d\u7f6e"}),"\n",(0,t.jsx)(n.p,{children:"\u90e8\u7f72\u5b8c\u6210\u540e\uff0c\u5982\u679c\u8981\u901a\u8fc7 nginx \u5c06\u5e73\u53f0\u7684\u524d\u7aef\u66b4\u9732\u5230\u5916\u7f51\u8bbf\u95ee\uff0cnginx \u7684\u63a8\u8350\u914d\u7f6e\u5982\u4e0b\u3002"}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"\u6ce8\u610f\u9700\u8981\u4e13\u95e8\u4e3awebsocket\u7684\u6d41\u91cf\u589e\u52a0\u8f6c\u53d1\u89c4\u5219\u3002"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-nginx",children:'# vi: ft=nginx\nserver {\n\n    server_name {{ public_domain_name }};\n    access_log /var/log/nginx/{{ public_domain_name }}.access.log;\n\n    listen 443 http2 ssl;\n    ssl_certificate /etc/ssl/yunion.io/cert.pem;\n    ssl_certificate_key /etc/ssl/yunion.io/key.pem;\n\n    client_max_body_size 10g;\n\n    location ~ /.well-known {\n        allow all;\n    }\n\n    location / {\n        proxy_pass https://{{ backend_address }};\n        proxy_read_timeout 3600s;\n        proxy_redirect   off;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    }\n\n    location ~ ^/(websockify|wsproxy|connect) {\n        proxy_pass https://{{ backend_address }};\n        proxy_redirect   off;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection "upgrade";\n\n        proxy_read_timeout 86400;\n    }\n}\n'})})]})}function _(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>a});var t=o(96540);const r={},s=t.createContext(r);function i(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);