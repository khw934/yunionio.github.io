"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[4430],{50325:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>o,toc:()=>a});var s=i(85893),r=i(11151),c=i(61712);const t={sidebar_position:8},l="\u8bbe\u5907\u900f\u4f20",o={id:"guides/onpremise/vminstance/passthrough/index",title:"\u8bbe\u5907\u900f\u4f20",description:"\u672c\u7ae0\u4ecb\u7ecd\u865a\u62df\u673a\u8bbe\u5907\u900f\u4f20\u76f8\u5173\u7684\u539f\u7406\u548c\u64cd\u4f5c\uff0c\u5305\u62ec\u5e38\u7528\u7684 GPU \u3001USB \u7b49\u8bbe\u5907\u7684\u900f\u4f20\u3002",source:"@site/docs/guides/onpremise/vminstance/passthrough/index.mdx",sourceDirName:"guides/onpremise/vminstance/passthrough",slug:"/guides/onpremise/vminstance/passthrough/",permalink:"/v3.10/en/docs/guides/onpremise/vminstance/passthrough/",draft:!1,unlisted:!1,editUrl:"https://github.com/yunionio/website/tree/master/docs/guides/onpremise/vminstance/passthrough/index.mdx",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"\u4fee\u6539\u78c1\u76d8\u9a71\u52a8",permalink:"/v3.10/en/docs/guides/onpremise/vminstance/change-disk-driver"},next:{title:"GPU \u900f\u4f20",permalink:"/v3.10/en/docs/guides/onpremise/vminstance/passthrough/gpu"}},d={},a=[{value:"PCI/PCIe \u8bbe\u5907\u900f\u4f20",id:"pcipcie-\u8bbe\u5907\u900f\u4f20",level:2},{value:"GPU\u900f\u4f20",id:"gpu\u900f\u4f20",level:3},{value:"SR-IOV\u7f51\u5361\u900f\u4f20",id:"sr-iov\u7f51\u5361\u900f\u4f20",level:3},{value:"NVME\u900f\u4f20",id:"nvme\u900f\u4f20",level:3},{value:"\u5176\u4ed6\u901a\u7528PCI/PCIe\u8bbe\u5907\u900f\u4f20",id:"\u5176\u4ed6\u901a\u7528pcipcie\u8bbe\u5907\u900f\u4f20",level:3},{value:"\u5176\u4ed6\u4f4e\u901f\u8bbe\u5907\u900f\u4f20",id:"\u5176\u4ed6\u4f4e\u901f\u8bbe\u5907\u900f\u4f20",level:2},{value:"USB\u8bbe\u5907\u900f\u4f20",id:"usb\u8bbe\u5907\u900f\u4f20",level:3},{value:"\u4e32\u53e3\u8bbe\u5907\u900f\u4f20",id:"\u4e32\u53e3\u8bbe\u5907\u900f\u4f20",level:3},{value:"\u5e38\u89c1\u95ee\u9898(FAQ)",id:"\u5e38\u89c1\u95ee\u9898faq",level:2},{value:"\u5982\u4f55\u9a8c\u8bc1Intel VT-d \u6216 AMD IOMMU \u5df2\u5728\u7cfb\u7edf\u7684 BIOS \u4e2d\u542f\u7528\uff1f",id:"\u5982\u4f55\u9a8c\u8bc1intel-vt-d-\u6216-amd-iommu-\u5df2\u5728\u7cfb\u7edf\u7684-bios-\u4e2d\u542f\u7528",level:3},{value:"\u5982\u4f55\u9a8c\u8bc1 grub \u8bbe\u7f6e\u7684\u5185\u6838\u53c2\u6570\u5df2\u7ecf\u751f\u6548\uff1f",id:"\u5982\u4f55\u9a8c\u8bc1-grub-\u8bbe\u7f6e\u7684\u5185\u6838\u53c2\u6570\u5df2\u7ecf\u751f\u6548",level:3},{value:"\u5982\u4f55\u9a8c\u8bc1 vfio \u5185\u6838\u6a21\u5757\u6b63\u786e\u52a0\u8f7d\uff1f",id:"\u5982\u4f55\u9a8c\u8bc1-vfio-\u5185\u6838\u6a21\u5757\u6b63\u786e\u52a0\u8f7d",level:3},{value:"\u5982\u4f55\u9a8c\u8bc1\u5bbf\u4e3b\u673a\u4e0a\u5f85\u900f\u4f20\u7684PCI/PCIe\u8bbe\u5907\u88abvfio-pci\u63a5\u7ba1\uff1f",id:"\u5982\u4f55\u9a8c\u8bc1\u5bbf\u4e3b\u673a\u4e0a\u5f85\u900f\u4f20\u7684pcipcie\u8bbe\u5907\u88abvfio-pci\u63a5\u7ba1",level:3}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"\u8bbe\u5907\u900f\u4f20",children:"\u8bbe\u5907\u900f\u4f20"}),"\n",(0,s.jsx)(n.p,{children:"\u672c\u7ae0\u4ecb\u7ecd\u865a\u62df\u673a\u8bbe\u5907\u900f\u4f20\u76f8\u5173\u7684\u539f\u7406\u548c\u64cd\u4f5c\uff0c\u5305\u62ec\u5e38\u7528\u7684 GPU \u3001USB \u7b49\u8bbe\u5907\u7684\u900f\u4f20\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u4eec\u53ef\u4ee5\u5c06\u5bbf\u4e3b\u673a\u4e0a\u7684\u8bbe\u5907\u900f\u4f20\u5230\u865a\u62df\u673a\u5185\uff0c\u5141\u8bb8\u865a\u62df\u673a\u76f4\u63a5\u8bbf\u95ee\u5bbf\u4e3b\u673a\u7684\u786c\u4ef6\u8bbe\u5907\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\u4f7f\u7528\u573a\u666f\uff1a"}),"\n",(0,s.jsx)(n.h2,{id:"pcipcie-\u8bbe\u5907\u900f\u4f20",children:"PCI/PCIe \u8bbe\u5907\u900f\u4f20"}),"\n",(0,s.jsx)(n.p,{children:"\u5c06\u5bbf\u4e3b\u673a\u7684PCI/PCIe\u8bbe\u5907\u900f\u4f20\u5230\u865a\u62df\u673a\uff0c\u9700\u8981\u9884\u5148\u5bf9\u5bbf\u4e3b\u673a\u8fdb\u884c\u5982\u4e0b\u7684\u914d\u7f6e\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Intel VT-d \u6216 AMD IOMMU \u5df2\u5728\u7cfb\u7edf\u7684 BIOS \u4e2d\u542f\u7528\u3002\u5177\u4f53\u8bf7\u53c2\u9605\u673a\u5668\u7684 BIOS \u914d\u7f6e\u83dc\u5355\uff0c\u6216\u5176\u5b83\u76f8\u5173\u4fe1\u606f\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u4fee\u6539grub\u7684\u5185\u6838\u542f\u52a8\u53c2\u6570\uff0c\u4f7f\u5f97Intel VT-d \u6216 AMD IOMMU \u5df2\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u542f\u7528\uff1a"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679c\u662fIntel CPU\uff0c\u5219\u9700\u8981\u5728 /etc/default/grub \u7684 GRUB_CMDLINE_LINUX \u6dfb\u52a0\u5982\u4e0bgrub\u53c2\u6570\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'GRUB_CMDLINE_LINUX="intel_iommu=on iommu=pt vfio_iommu_type1.allow_unsafe_interrupts=1"\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679c\u662fAMD CPU\uff0camd_iommu=on\u5df2\u7ecf\u9ed8\u8ba4\u8bbe\u7f6e\uff0c\u56e0\u6b64\u5bf9\u5e94 grub \u547d\u4ee4\u884c\u53c2\u6570\u4e3a:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'GRUB_CMDLINE_LINUX="iommu=pt vfio_iommu_type1.allow_unsafe_interrupts=1"\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"\u66f4\u65b0\u751f\u6210 grub \u5f15\u5bfc\u914d\u7f6e\u6587\u4ef6"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u5728/etc/default/grub\u8bbe\u7f6e GRUB_CMDLINE_LINUX \u4e4b\u540e\uff0c\u9700\u8981\u8fd0\u884c grub2-mkconfig \u66f4\u65b0grub\u7684\u914d\u7f6e\u6587\u4ef6\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679c\u7cfb\u7edf\u662fBIOS\u542f\u52a8\uff0c\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ grub2-mkconfig -o /boot/grub2/grub.cfg\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679c\u662fUEFI\u542f\u52a8\uff0c\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\uff08\u5047\u8bbe\u662fCentOS\uff09\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"grub2-mkconfig -o /boot/efi/EFI/centos/grub.cfg\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"\u5c06vfio\u5185\u6838\u6a21\u5757\u8bbe\u7f6e\u4e3a\u81ea\u52a8\u52a0\u8f7d"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u5bbf\u4e3b\u673aPCI/PCIe\u8bbe\u5907\u900f\u4f20\u539f\u7406\u4e3a\uff1a\u8be5\u8bbe\u5907\u88abvfio-pci\u9a71\u52a8\u63a5\u7ba1\uff0c\u4ece\u800c\u5141\u8bb8\u8bbe\u5907\u88ab\u7528\u6237\u6001\u5e94\u7528\u7a0b\u5e8f\uff08\u5373QEMU\uff09\u76f4\u63a5\u8bbf\u95ee\u4f7f\u7528\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u56e0\u6b64\uff0c\u4e3a\u4e86\u542f\u7528PCI/PCIe\u8bbe\u5907\u900f\u4f20\uff0c\u9700\u8981\u542f\u7528\u5185\u6838\u7684vfio\u76f8\u5173\u5185\u6838\u6a21\u5757\uff0c\u5e76\u4e14\u9700\u8981\u900f\u4f20\u7684\u8bbe\u5907\u9700\u8981\u88ab vfio-pci \u5185\u6838\u6a21\u5757\u63a5\u7ba1\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u542f\u7528vfio\u5185\u6838\u6a21\u5757\u7684\u65b9\u6cd5\u4e3a\uff1a\u4fee\u6539 /etc/modules-load.d/vfio.conf\uff0c\u52a0\u5165\u5982\u4e0b\u5185\u6838\u6a21\u5757\uff0c\u5c06vfio\u76f8\u5173\u5185\u6838\u6a21\u5757\u8bbe\u7f6e\u4e3a\u5f00\u673a\u81ea\u52a8\u52a0\u8f7d\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ cat /etc/modules-load.d/vfio.conf\nvfio\nvfio_iommu_type1\nvfio_pci\nvfio_virqfd\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5907\u6ce8\uff1a\u5185\u68386.2\u53ca\u4ee5\u540e\u7248\u672c\uff0cvfio_virqfd \u5408\u5e76\u5165 vfio \u6a21\u5757\uff0c\u4e0d\u518d\u6709 vfio_virqfd\u3002"}),"\n",(0,s.jsx)(n.p,{children:"host\u670d\u52a1\u4f1a\u8d1f\u8d23\u8bbe\u7f6e\u5f85\u900f\u4f20\u8bbe\u5907\u7684 vfio-pci \u63a5\u7ba1\u3002"}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsx)(n.li,{children:"\u542f\u7528\u5927\u9875\u5185\u5b58(\u53ef\u9009)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5efa\u8bae\u542f\u7528\u5bbf\u4e3b\u673a\u5927\u9875\u5185\u5b58\uff08hugepage\uff09\uff0c\u5177\u4f53\u53c2\u89c1",(0,s.jsx)(n.a,{href:"../hugepage",children:"\u5185\u5b58\u5927\u9875(Hugepage)"}),"\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u6ce8\uff1a\u4ece3.10\u5f00\u59cb\uff0c\u65b0\u90e8\u7f72\u7684x86\u8ba1\u7b97\u8282\u70b9\u4f1a\u81ea\u52a8\u5f00\u542f\u5927\u9875\u3002"}),"\n",(0,s.jsxs)(n.ol,{start:"6",children:["\n",(0,s.jsx)(n.li,{children:"\u91cd\u542f\u5bbf\u4e3b\u673a\u751f\u6548"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679c\u505a\u4e862-4\u6b65\u9aa4\u7684\u4fee\u6539\uff0c\u9700\u8981\u91cd\u542f\u5bbf\u4e3b\u673a\u4f7f\u5f97\u914d\u7f6e\u751f\u6548\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u91cd\u542f\u540e\uff0c\u67e5\u770b /proc/cmdline \u786e\u8ba4\u5185\u6838\u547d\u4ee4\u884c\u53c2\u6570\u914d\u7f6e\u751f\u6548\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u6267\u884c lsmod \u786e\u8ba4 \u76f8\u5173\u5185\u6838\u6a21\u5757 \u88ab\u6b63\u786e\u52a0\u8f7d\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u4ee5\u4e0a\u4e3a\u4efb\u610fPCI/PCIe\u8bbe\u5907\u901a\u5e38\u7684\u8bbe\u7f6e\uff0c\u9488\u5bf9\u4e0d\u540c\u7c7b\u578b\u7684PCI/PCIe\u8bbe\u5907\u548c\u4e0d\u540c\u7684\u8bbe\u5907\u900f\u4f20\u573a\u666f\uff0c\u8fd8\u6709\u5404\u81ea\u4e0d\u540c\u7684\u8bbe\u7f6e\u548c\u4f7f\u7528\u65b9\u6cd5\uff0c\u5177\u4f53\u4ecb\u7ecd\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(n.h3,{id:"gpu\u900f\u4f20",children:"GPU\u900f\u4f20"}),"\n",(0,s.jsxs)(n.p,{children:["\u53c2\u89c1\uff1a",(0,s.jsx)(n.a,{href:"./gpu",children:"GPU\u900f\u4f20"})]}),"\n",(0,s.jsx)(n.h3,{id:"sr-iov\u7f51\u5361\u900f\u4f20",children:"SR-IOV\u7f51\u5361\u900f\u4f20"}),"\n",(0,s.jsxs)(n.p,{children:["\u53c2\u89c1: ",(0,s.jsx)(n.a,{href:"./sriov",children:"\u7f51\u5361SR-IOV\u5378\u8f7d"})]}),"\n",(0,s.jsx)(n.h3,{id:"nvme\u900f\u4f20",children:"NVME\u900f\u4f20"}),"\n",(0,s.jsx)(n.p,{children:"TODO (NVME\u900f\u4f20\u4ee5\u53ca\u8bbe\u7f6e\u57fa\u4e8eNVME\u7684\u5b58\u50a8\u9632\u8303)"}),"\n",(0,s.jsx)(n.h3,{id:"\u5176\u4ed6\u901a\u7528pcipcie\u8bbe\u5907\u900f\u4f20",children:"\u5176\u4ed6\u901a\u7528PCI/PCIe\u8bbe\u5907\u900f\u4f20"}),"\n",(0,s.jsxs)(n.p,{children:["\u53c2\u89c1\uff1a",(0,s.jsx)(n.a,{href:"./custom-pci-devices",children:"\u81ea\u5b9a\u4e49PCI\u8bbe\u5907\u900f\u4f20"})]}),"\n",(0,s.jsx)(n.h2,{id:"\u5176\u4ed6\u4f4e\u901f\u8bbe\u5907\u900f\u4f20",children:"\u5176\u4ed6\u4f4e\u901f\u8bbe\u5907\u900f\u4f20"}),"\n",(0,s.jsx)(n.p,{children:"\u9664\u4e86\u53ef\u4ee5\u900f\u4f20\u5bbf\u4e3b\u673a\u7684PCI/PCIe\u8bbe\u5907\uff0c\u8fd8\u53ef\u4ee5\u900f\u4f20\u5bbf\u4e3b\u673a\u7684USB\uff0c\u4e32\u53e3\u7b49\u4f4e\u901f\u8bbe\u5907\u5230\u865a\u62df\u673a\u4f7f\u7528\u3002\u5177\u4f53\u4ecb\u7ecd\u5982\u4e0b\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"usb\u8bbe\u5907\u900f\u4f20",children:"USB\u8bbe\u5907\u900f\u4f20"}),"\n",(0,s.jsxs)(n.p,{children:["\u53c2\u89c1: ",(0,s.jsx)(n.a,{href:"./usb-passthrough",children:"USB \u900f\u4f20"})]}),"\n",(0,s.jsx)(n.h3,{id:"\u4e32\u53e3\u8bbe\u5907\u900f\u4f20",children:"\u4e32\u53e3\u8bbe\u5907\u900f\u4f20"}),"\n",(0,s.jsxs)(n.p,{children:["\u53c2\u89c1\uff1a",(0,s.jsx)(n.a,{href:"./com-passthrough",children:"\u4e32\u53e3COM\u900f\u4f20"})]}),"\n",(0,s.jsx)(n.h2,{id:"\u5e38\u89c1\u95ee\u9898faq",children:"\u5e38\u89c1\u95ee\u9898(FAQ)"}),"\n",(0,s.jsx)(n.h3,{id:"\u5982\u4f55\u9a8c\u8bc1intel-vt-d-\u6216-amd-iommu-\u5df2\u5728\u7cfb\u7edf\u7684-bios-\u4e2d\u542f\u7528",children:"\u5982\u4f55\u9a8c\u8bc1Intel VT-d \u6216 AMD IOMMU \u5df2\u5728\u7cfb\u7edf\u7684 BIOS \u4e2d\u542f\u7528\uff1f"}),"\n",(0,s.jsxs)(n.p,{children:["\u5728Linux\u4e0b\u5982\u4f55\u9a8c\u8bc1vt-d\u662f\u5426\u5f00\u542f\u7684\u65b9\u6cd5\u53c2\u7167\uff1a",(0,s.jsx)(n.a,{href:"https://stackoverflow.com/questions/51261999/check-if-vt-d-iommu-has-been-enabled-in-the-bios-uefi",children:"https://stackoverflow.com/questions/51261999/check-if-vt-d-iommu-has-been-enabled-in-the-bios-uefi"})]}),"\n",(0,s.jsx)(n.p,{children:"\u67e5\u770bdmesg\u4e2d\u5305\u542b\u7684DMAR\u65e5\u5fd7\uff0c\u6267\u884c\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ dmesg | grep DMAR\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679c\u6267\u884c\u7ed3\u679c\u4e0d\u7b26\u5408\u9884\u671f\uff0c\u5219\u8bf4\u660eBIOS\u91cc\u6ca1\u6709\u5f00\u542f\uff0c\u9700\u8981\u5728BIOS\u91cc\u627e\u5230vt-d\u6216X2APIC\uff0c\u7136\u540e\u5f00\u542f\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"\u5982\u4f55\u9a8c\u8bc1-grub-\u8bbe\u7f6e\u7684\u5185\u6838\u53c2\u6570\u5df2\u7ecf\u751f\u6548",children:"\u5982\u4f55\u9a8c\u8bc1 grub \u8bbe\u7f6e\u7684\u5185\u6838\u53c2\u6570\u5df2\u7ecf\u751f\u6548\uff1f"}),"\n",(0,s.jsx)(n.p,{children:"\u67e5\u770b /proc/cmdline \u662f\u5426\u5305\u542b\u4e86\u8bbe\u7f6e\u5728 /etc/default/grub GRUB_CMDLINE_LINUX \u7684\u53c2\u6570\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ cat /proc/cmdline\nBOOT_IMAGE=/vmlinuz-5.4.130-1.yn20221208.el7.x86_64 root=UUID=6f96c2be-434d-405e-9b46-ba8877f2a0a9 ro rhgb crashkernel=auto rdblacklist=nouveau hugepagesz=1G vfio_iommu_type1.allow_unsafe_interrupts=1 intel_iommu=on quiet iommu=pt nouveau.modeset=0 net.ifnames=0 default_hugepagesz=1G biosdevnames=0\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u5982\u4f55\u9a8c\u8bc1-vfio-\u5185\u6838\u6a21\u5757\u6b63\u786e\u52a0\u8f7d",children:"\u5982\u4f55\u9a8c\u8bc1 vfio \u5185\u6838\u6a21\u5757\u6b63\u786e\u52a0\u8f7d\uff1f"}),"\n",(0,s.jsx)(n.p,{children:"\u67e5\u770bdemsg\u5305\u542b\u7684vfio\u65e5\u5fd7\uff0c\u6267\u884c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ dmesg | grep -i vfio\n[    0.329224] VFIO - User Level meta-driver version: 0.3\n[    0.341372] vfio_pci: add [10de:13c2[ffff:ffff]] class 0x000000/00000000\n[    0.354704] vfio_pci: add [10de:0fbb[ffff:ffff]] class 0x000000/00000000\n[    2.061326] vfio-pci 0000:06:00.0: enabling device (0100 -> 0103)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u5982\u4f55\u9a8c\u8bc1\u5bbf\u4e3b\u673a\u4e0a\u5f85\u900f\u4f20\u7684pcipcie\u8bbe\u5907\u88abvfio-pci\u63a5\u7ba1",children:"\u5982\u4f55\u9a8c\u8bc1\u5bbf\u4e3b\u673a\u4e0a\u5f85\u900f\u4f20\u7684PCI/PCIe\u8bbe\u5907\u88abvfio-pci\u63a5\u7ba1\uff1f"}),"\n",(0,s.jsx)(n.p,{children:"\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff0c\u786e\u8ba4\u8bbe\u5907\u7684 Kernel driver in use \u662f vfio-pci"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ lspci -nnk | grep AMD -A 3\n03:00.0 VGA compatible controller [0300]: Advanced Micro Devices, Inc. [AMD/ATI] Tonga XT GL [FirePro S7150] [1002:6929]\n\tSubsystem: Advanced Micro Devices, Inc. [AMD/ATI] Device [1002:030c]\n\tKernel driver in use: vfio-pci\n\tKernel modules: amdgpu\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ lspci -nnk | grep NVIDIA -A 3\n42:00.0 VGA compatible controller [0300]: NVIDIA Corporation GP102 [GeForce GTX 1080 Ti] [10de:1b06] (rev a1)\n\tSubsystem: NVIDIA Corporation Device [10de:120f]\n\tKernel driver in use: vfio-pci\n\tKernel modules: nouveau\n42:00.1 Audio device [0403]: NVIDIA Corporation GP102 HDMI Audio Controller [10de:10ef] (rev a1)\n\tSubsystem: NVIDIA Corporation Device [10de:120f]\n\tKernel driver in use: vfio-pci\n\tKernel modules: snd_hda_intel\n"})}),"\n","\n","\n",(0,s.jsx)(c.Z,{})]})}function u(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},52991:(e,n,i)=>{i.d(n,{Z:()=>x});i(67294);var s=i(36905),r=i(53438),c=i(39960),t=i(13919),l=i(95999),o=i(92503);const d={cardContainer:"cardContainer_fWXF",cardTitle:"cardTitle_rnsV",cardDescription:"cardDescription_PWke"};var a=i(85893);function h(e){let{href:n,children:i}=e;return(0,a.jsx)(c.Z,{href:n,className:(0,s.Z)("card padding--lg",d.cardContainer),children:i})}function u(e){let{href:n,icon:i,title:r,description:c}=e;return(0,a.jsxs)(h,{href:n,children:[(0,a.jsxs)(o.Z,{as:"h2",className:(0,s.Z)("text--truncate",d.cardTitle),title:r,children:[i," ",r]}),c&&(0,a.jsx)("p",{className:(0,s.Z)("text--truncate",d.cardDescription),title:c,children:c})]})}function p(e){let{item:n}=e;const i=(0,r.LM)(n);return i?(0,a.jsx)(u,{href:i,icon:"\ud83d\uddc3\ufe0f",title:n.label,description:n.description??(0,l.I)({message:"{count} items",id:"theme.docs.DocCard.categoryDescription",description:"The default description for a category card in the generated index about how many items this category includes"},{count:n.items.length})}):null}function m(e){let{item:n}=e;const i=(0,t.Z)(n.href)?"\ud83d\udcc4\ufe0f":"\ud83d\udd17",s=(0,r.xz)(n.docId??void 0);return(0,a.jsx)(u,{href:n.href,icon:i,title:n.label,description:n.description??s?.description})}function f(e){let{item:n}=e;switch(n.type){case"link":return(0,a.jsx)(m,{item:n});case"category":return(0,a.jsx)(p,{item:n});default:throw new Error(`unknown item type ${JSON.stringify(n)}`)}}function v(e){let{className:n}=e;const i=(0,r.jA)();return(0,a.jsx)(x,{items:i.items,className:n})}function x(e){const{items:n,className:i}=e;if(!n)return(0,a.jsx)(v,{...e});const c=(0,r.MN)(n);return(0,a.jsx)("section",{className:(0,s.Z)("row",i),children:c.map(((e,n)=>(0,a.jsx)("article",{className:"col col--6 margin-bottom--lg",children:(0,a.jsx)(f,{item:e})},n)))})}},61712:(e,n,i)=>{i.d(n,{Z:()=>t});var s=i(52991),r=i(53438),c=i(85893);function t(){return(0,c.jsx)(s.Z,{items:(0,r.jA)().items})}},11151:(e,n,i)=>{i.d(n,{Z:()=>l,a:()=>t});var s=i(67294);const r={},c=s.createContext(r);function t(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);