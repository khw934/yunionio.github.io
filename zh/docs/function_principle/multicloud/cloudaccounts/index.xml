<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Cloudpods –
云账号</title><link>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/</link><description>Recent content in 云账号 on Cloudpods</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Mon, 05 Jul 2021 08:22:33 +0800</lastBuildDate><atom:link href="https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: 健康检查</title><link>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/health_check/</link><pubDate>Mon, 05 Jul 2021 08:22:33 +0800</pubDate><guid>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/health_check/</guid><description>
&lt;h2 id="功能描述">功能描述&lt;/h2>
&lt;ul>
&lt;li>部分公有云有消费限制,例如阿里云余额低于100则不能进行资源创建操作&lt;/li>
&lt;li>为了尽可能的保证资源创建成功，系统默认会根据云账号余额信息, 自动设置云账号健康状态&lt;/li>
&lt;li>云账号健康异常不会影响资源的同步，仅会限制资源创建操作，请尽快充值或关闭健康检查功能&lt;/li>
&lt;/ul>
&lt;h2 id="特殊情况">特殊情况&lt;/h2>
&lt;ul>
&lt;li>由于部分企业可能与公有云签订协议，或者使用代金券，即使账号异常也依然可以创建资源，此项功能则极大限制了云平台的使用&lt;/li>
&lt;li>用户可以根据需求自行开启关闭此功能&lt;/li>
&lt;/ul>
&lt;h2 id="功能开关">功能开关&lt;/h2>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 此功能开关影响所有云账号&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 关闭云账号健康检查&lt;/span>
$ climc service-config --config &lt;span style="color:#000">cloudaccount_health_status_check&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">false&lt;/span> region2
&lt;span style="color:#8f5902;font-style:italic"># 开启云账号健康检查&lt;/span>
$ climc service-config --config &lt;span style="color:#000">cloudaccount_health_status_check&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">true&lt;/span> region2
&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">注意&lt;/h4>
功能的开关不会立刻影响云账号状态，可以等待几分钟后云账号状态会更新
或者到云账号列表选定云账号，点击连接状态，云账号健康状态会随即更新
&lt;/div></description></item><item><title>Docs: AWS</title><link>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/aws/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/aws/</guid><description>
&lt;h2 id="获取aws子账号资源信息的权限要求">获取AWS子账号资源信息的权限要求&lt;/h2>
&lt;p>如果云管对接的AWS账号归属于组织（Organization），可以通过权限配置，将AWS组织下所有账号同步到云管，每个账号对应到云账号下的一个订阅。&lt;/p>
&lt;p>获取AWS组织的每个成员账号下资源的原理为：使用一个主账号下的IAM账号的AKSK通过AssumeRole的方式获得OrganizationAccountAccessRole的权限，访问每个成员账号下的资源&lt;/p>
&lt;p>权限配置要求如下：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>对接AK/SK必须是一个主账号一个IAM user的AK/SK，不能是主账号的主AKSK&lt;/p>
&lt;/li>
&lt;li>
&lt;p>该IAM user的最小权限要求为：sts:AssumeRole&lt;/p>
&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-json" data-lang="json">&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;Version&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2012-10-17&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;Statement&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>
&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;Effect&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Allow&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;Action&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;sts:AssumeRole&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;Resource&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;arn:aws:iam::*:role/OrganizationAccountAccessRole&amp;#34;&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#000;font-weight:bold">]&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="3">
&lt;li>每个成员账号内都有 Role：OrganizationAccountAccessRole&lt;/li>
&lt;/ol>
&lt;p>对于在AWS组织（Organization）下新建的AWS成员账号，都自动有一个Role：OrganizationAccountAccessRole，该role的权限等同于 AdministratorAccess&lt;/p>
&lt;p>如果是邀请加入的AWS成员账号，则不一定有这个Role，需要手工增加，具体步骤参见：https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_accounts_access.html#orgs_manage_accounts_create-cross-account-role&lt;/p></description></item><item><title>Docs: Openstack</title><link>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/openstack/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/openstack/</guid><description>
&lt;h2 id="对接-openstack-后端使用ceph-存储的时候云账户管理经常同步不下相关的ceph-磁盘配置">对接 Openstack 后端使用ceph 存储的时候，云账户管理，经常同步不下相关的ceph 磁盘配置&lt;/h2>
&lt;p>我们需要在创建磁盘的时候指定相关的ceph 类型。首先检查一下是否指定了volume_backend_name.&lt;/p>
&lt;p>1、查看cinder配置文件的ceph 指定的name,没有就添加：&lt;/p>
&lt;pre>&lt;code>[ceph]
volume_driver = cinder.volume.drivers.rbd.RBDDriver
rbd_pool = volumes
rbd_ceph_conf = /etc/ceph/ceph.conf
rbd_flatten_volume_from_snapshot = false
rbd_max_clone_depth = 5
rbd_store_chunk_size = 4
rados_connect_timeout = -1
glance_api_version = 2
rbd_user = cinder
rbd_secret_uuid = f4f03912-7ec7-42e9-b9ea-8735217d8cc9
volume_backend_name = ceph
&lt;/code>&lt;/pre>&lt;p>2、添加ceph类型关联到volume_backend_name:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>root@cinder1 cinder&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># cinder extra-specs-list&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>root@cinder1 cinder&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># cinder type-create ceph&lt;/span>
+--------------------------------------+------+-------------+-----------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> ID &lt;span style="color:#000;font-weight:bold">|&lt;/span> Name &lt;span style="color:#000;font-weight:bold">|&lt;/span> Description &lt;span style="color:#000;font-weight:bold">|&lt;/span> Is_Public &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+------+-------------+-----------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> 00103a9a-bcf6-4c25-afb4-fd2a211cc706 &lt;span style="color:#000;font-weight:bold">|&lt;/span> ceph &lt;span style="color:#000;font-weight:bold">|&lt;/span> - &lt;span style="color:#000;font-weight:bold">|&lt;/span> True &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+------+-------------+-----------+
&lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>root@cinder1 cinder&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># cinder type-key ceph set volume_backend_name=ceph&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>root@cinder1 cinder&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># cinder extra-specs-list&lt;/span>
+--------------------------------------+------+---------------------------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> ID &lt;span style="color:#000;font-weight:bold">|&lt;/span> Name &lt;span style="color:#000;font-weight:bold">|&lt;/span> extra_specs &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+------+---------------------------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> 00103a9a-bcf6-4c25-afb4-fd2a211cc706 &lt;span style="color:#000;font-weight:bold">|&lt;/span> ceph &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;volume_backend_name&amp;#39;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#39;ceph&amp;#39;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+------+---------------------------------+
&lt;/code>&lt;/pre>&lt;/div>&lt;p>3、重新添加volume；指定类型为ceph即可。&lt;/p>
&lt;p>4、Cloudpods可以重新同步，可以看到磁盘已经同步下来。&lt;/p>
&lt;h2 id="纳管-openstack-后没有资源同步下来">纳管 Openstack 后没有资源同步下来&lt;/h2>
&lt;p>1、检查纳管OpenStack的账号是否以admin的角色(非admin角色可能会有权限的问题)加入项目.&lt;/p>
&lt;p>2、排除账号权限后，检查Cloudpods能否访问OpenStack控制节点，执行下面的命令，出现截图的内容，确实是域名解析的问题&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>root@test-69-onecloud01 ~&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># kubectl get pods -n onecloud |grep climc&lt;/span>
default-climc-6fccbbfd8d-l59gg 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 4d13h
&lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>root@test-69-onecloud01 ~&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># kubectl exec -it -n onecloud default-climc-6fccbbfd8d-l59gg bash&lt;/span>
Welcome to Cloud Shell :-&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> You may execute climc and other &lt;span style="color:#204a87">command&lt;/span> tools in this shell.
Please &lt;span style="color:#204a87">exec&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;climc&amp;#39;&lt;/span> to get started
bash-5.1# &lt;span style="color:#204a87">source&lt;/span> &amp;lt;&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>climc cloud-provider-list --provider OpenStack &lt;span style="color:#000;font-weight:bold">|&lt;/span> awk &lt;span style="color:#4e9a06">&amp;#39;NR==4 {print $2}&amp;#39;&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> xargs climc cloud-provider-clirc&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
bash-5.1# openstackcli host-list
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="https://user-images.githubusercontent.com/32036395/157816747-cb7466dd-679e-4e89-bacc-c58446950bfa.png" alt="a19f70a99ed18986ac2edd60ea86be3">&lt;/p>
&lt;p>解决方法参考 &lt;a href="../../../../web_ui/multiplecloud/cloudaccount/cloudaccount/#%E6%96%B0%E5%BB%BAopenstack%E8%B4%A6%E5%8F%B7">新建OpenStack账号&lt;/a>&lt;/p></description></item><item><title>Docs: VMware</title><link>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/vmware/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/vmware/</guid><description>
&lt;h2 id="vmware同步后主机没有ip">VMware同步后主机没有IP&lt;/h2>
&lt;p>可能有两种原因：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>因为VMware主机的IP是通过虚拟机内的vmtools获取的，如果同步的时候虚拟机处于关机状态，或者虚拟机内vmtools未安装，或者虚拟机内vmtools未正确运行，则无法获取IP。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>能正常通过vmtools获取虚拟机的IP，但是该IP在平台没有对应的IP子网，导致无法判定虚拟机归属的IP子网。（此时，会将主机的IP信息保存在主机的标签中。前端会展示该IP，但是提示”该IP地址无归属IP子网！请添加包含该IP地址的IP子网并重新同步云账号“。）&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>因此，为了让VMware的主机在同步后有IP地址，需要满足两个条件：&lt;/p>
&lt;p>1）主机正在运行，且主机内已安装vmtools，并且vmtools正常运行&lt;/p>
&lt;p>2）主机IP在云台有归属的经典网络（Default VPC）的IP子网&lt;/p>
&lt;h2 id="vmware同步后缺少主机">VMware同步后缺少主机&lt;/h2>
&lt;p>云平台同步资源时，要求VMware主机的UUID全局唯一，会自动忽略UUID相同的所有主机。可以从同步日志发现UUID相同的主机同步日志。&lt;/p>
&lt;p>为了让UUID相同的主机能正常同步，需要手动修改主机的UUID，保证全局唯一。方法为：&lt;/p>
&lt;p>在VMware平台，编辑主机的.vmx配置文件，修改bios.uuid字段。&lt;/p>
&lt;h2 id="将纳管的vmware主机迁移到kvm私有云">将纳管的VMware主机迁移到KVM私有云&lt;/h2>
&lt;p>云平台支持将纳管的VMware主机迁移到内置KVM私有云主机。其工作原理为：&lt;/p>
&lt;ol>
&lt;li>前提条件&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>VMware主机对接的经典网络IP子网在KVM私有云中也能分配给虚拟机使用&lt;/li>
&lt;li>KVM内置私有云的宿主机和VMware的ESXi宿主机之间网络可以互相访问&lt;/li>
&lt;li>VMware主机处于关机状态&lt;/li>
&lt;/ul>
&lt;ol start="2">
&lt;li>迁移方法&lt;/li>
&lt;/ol>
&lt;p>通过climc命令迁移，执行&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">climc server-convert-to-kvm &amp;lt;sid&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;p>其中，&lt;sid>为纳管的VMware主机的名称或ID。&lt;/p>
&lt;ol start="3">
&lt;li>迁移过程&lt;/li>
&lt;/ol>
&lt;ol>
&lt;li>在KVM平台创建和VMware主机同配置的虚拟机，并且将VMware主机的虚拟网卡卸载，挂载到新建的KVM虚拟机上，创建虚拟磁盘，并且将VMware主机的磁盘作为KVM虚拟机磁盘的backing file
2）启动KVM虚拟机，远程挂载VMware主机的磁盘，作为KVM虚拟机的磁盘的backing file
3）启动成功后，KVM虚拟机的磁盘内容为VMware虚拟机的磁盘，网络IP是VMware主机的IP。同时，将VMware主机设置为Freeze状态，禁止VMware主机启动
4）启动后，开始磁盘数据同步，会将KVM虚拟磁盘底层的VMware虚拟机磁盘数据同步到KVM虚拟机的上层磁盘文件，磁盘数据同步完成后，KVM虚拟机不再依赖VMware虚拟机&lt;/li>
&lt;li>磁盘数据同步完成后，可以删除原来的VMware虚拟机，完成迁移&lt;/li>
&lt;/ol>
&lt;ol start="4">
&lt;li>迁移回滚&lt;/li>
&lt;/ol>
&lt;p>如果迁移失败，则需要删除KVM虚拟机(需确保在回收站清理)。删除后，会自动将虚拟网卡挂载回VMware虚拟机，并且解除VMware主机Freeze状态&lt;/p></description></item><item><title>Docs: 资源同步不下来问题排查</title><link>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/sync/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/sync/</guid><description>
&lt;h2 id="检查账号权限">检查账号权限&lt;/h2>
&lt;ul>
&lt;li>打开云账号详情标签页, 查看是否有截图中提示的缺少权限&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="../images/lake_of_permission.png" alt="">&lt;/p>
&lt;h2 id="检查云订阅是否被禁用">检查云订阅是否被禁用&lt;/h2>
&lt;p>&lt;img src="../images/cloudprovider_disabled.png" alt="">&lt;/p>
&lt;h2 id="检查资源所在的云订阅区域是否被禁用-同时查看同步时间若长时间未同步可以先手动同步下">检查资源所在的云订阅区域是否被禁用, 同时查看同步时间，若长时间未同步，可以先手动同步下&lt;/h2>
&lt;p>&lt;img src="../images/cloudprovider_region_disabled.png" alt="">&lt;/p>
&lt;h2 id="检查同步参数skip_server_sync_by_sys_tag_keys">检查同步参数skip_server_sync_by_sys_tag_keys&lt;/h2>
&lt;pre>&lt;code># 此参数含义是若有公有云虚拟机带有特定系统标签, 则跳过此虚拟机同步，目前默认跳过腾讯云弹性伸缩组相关实例
$ climc service-config-show region2 | grep skip_server_by_sys_tag_keys
&amp;quot;skip_server_by_sys_tag_keys&amp;quot;: &amp;quot;acs:autoscaling:scalingGroupId&amp;quot;,
# 若需要同步弹性伸缩组实例，可将此参数改为其他标签
$ climc service-config --config skip_server_by_sys_tag_keys=other-tag region2
&lt;/code>&lt;/pre></description></item><item><title>Docs: 云账号接入问题排查</title><link>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/account/</link><pubDate>Mon, 05 Jul 2021 08:22:33 +0800</pubDate><guid>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/account/</guid><description>
&lt;p>可以通过对应云平台的调用接口验证接口是否可以被正常调用，AccessKey信息是否正确。&lt;/p>
&lt;ul class="nav nav-tabs" id="tabset-zhdocsfunction_principlemulticloudcloudaccountsaccount-1" role="tablist">&lt;li class="nav-item">&lt;a data-toggle="tab" class="nav-link active" href="#tabset-zhdocsfunction_principlemulticloudcloudaccountsaccount-1-0" role="tab" aria-controls="tabset-zhdocsfunction_principlemulticloudcloudaccountsaccount-1-0" aria-selected="true">天翼云&lt;/a>&lt;/li>
&lt;/ul>
&lt;div class="tab-content" id="tabset-zhdocsfunction_principlemulticloudcloudaccountsaccount-1">&lt;div id="tabset-zhdocsfunction_principlemulticloudcloudaccountsaccount-1-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tabset-zhdocsfunction_principlemulticloudcloudaccountsaccount-1-0">
&lt;p>&lt;pre>&lt;code># 获取环境中命令行所在的容器名称:
kubectl get pods -n onecloud |grep climc
#default-climc-7bdbd9fc7c-fnmkw 1/1 Running 0 26h
# 进入climc容器环境：
kubectl exec -n onecloud -it default-climc-7bdbd9fc7c-fnmkw sh
# 进入ctyuncli所在目录：
cd /opt/yunion/bin
# 导入环境变量CTYUN_ACCESS_KEY&amp;amp; CTYUN_SECRET需要分别填入aksk：
export CTYUN_ACCESS_KEY='YOUR KEY'
export CTYUN_SECRET='YOUR SECRET'
export CTYUN_REGION=&amp;quot;cn-gzT&amp;quot;
# 执行验证命令， 如果能正常列出可用区列表，说明与天翼云连接正常。
# 如果报403错误，则可能是接入准备未就位。
# 如果报 apigateway错误， 则可能是天翼云api接口调用错误或者发生变更。请联系云管平台开发人员定位
./ctyuncli region-list
&lt;/code>&lt;/pre>&lt;/div>&lt;/div></description></item><item><title>Docs: VMware网络原理</title><link>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/vmware_net/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/vmware_net/</guid><description>
&lt;p>VMware是一个虚拟化平台，如果不采用NSX网络虚拟化插件，则只提供二层网络交换的功能，不具备完整的网络管理能力。Cloudpods 为VMware补足网络管理的能力，提供IP地址和网络配置信息管理的能力。&lt;/p>
&lt;h2 id="基本概念">基本概念&lt;/h2>
&lt;p>VMware中有以下基本网络概念：&lt;/p>
&lt;h3 id="虚拟交换机-vswitch">虚拟交换机 (vSwitch)&lt;/h3>
&lt;p>每台ESXi宿主机内可以配置多个虚拟交换机，实现虚拟机之间以及虚拟机和外部物理网络的网络交换。&lt;/p>
&lt;h3 id="分布式虚拟交换机distributed-vswitch">分布式虚拟交换机（Distributed vSwitch)&lt;/h3>
&lt;p>被vCenter纳管的多台宿主机之间可以定义共享的分布式虚拟交换机，实现跨ESXi的虚拟机之间的二层网络交换。&lt;/p>
&lt;h3 id="端口组port-group">端口组（Port Group）&lt;/h3>
&lt;p>端口组是虚拟交换机或分布式虚拟交换机下的逻辑概念，对应一个VLAN网段。&lt;/p>
&lt;h2 id="基本原理">基本原理&lt;/h2>
&lt;p>简单地说，VMware中的虚拟交换机或者分布式虚拟交换机和 Cloudpods 中的二层网络对应。但是由于不同的虚拟交换机有可能对接的是同一个三层物理设备，因此有可能多个虚拟交换机对应的是一个二层网络。&lt;/p>
&lt;p>VMware中的端口组和 Cloudpods 的IP子网对应。端口组和对应的IP子网之间通过VLAN ID关联。同样也有可能多个端口对应一个IP子网的情况。&lt;/p>
&lt;p>下面总结了VMware相关概念和 Cloudpods 相关概念的关联关系。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>VMware概念&lt;/th>
&lt;th>Cloudpods 概念&lt;/th>
&lt;th>如何关联&lt;/th>
&lt;th>关联关系&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>虚拟机&lt;/td>
&lt;td>虚拟机&lt;/td>
&lt;td>通过UUID关联&lt;/td>
&lt;td>一对一&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>端口&lt;/td>
&lt;td>虚拟网卡&lt;/td>
&lt;td>通过IP地址关联&lt;/td>
&lt;td>一对一&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>端口组&lt;/td>
&lt;td>IP子网&lt;/td>
&lt;td>通过VLAN ID关联&lt;/td>
&lt;td>多对一&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>虚拟交换机&lt;/td>
&lt;td>二层网络&lt;/td>
&lt;td>通过端口组关联&lt;/td>
&lt;td>多对一&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>纳管 VMware 云账号时，平台可以获得每台宿主机的IP地址。如果虚拟机正在运行，并且其内部vmtools正常运行，则平台也能获得虚拟机的IP地址。根据宿主机以及宿主机上虚拟机的IP地址信息，平台会自动判断ESXi宿主机和哪个二层网络关联。从而确定ESXi宿主机的网络拓扑。&lt;/p>
&lt;p>在 Cloudpods 中创建VMware虚拟机时，平台会自动从虚拟机对接的IP子网中为虚拟机分配一个IP地址。在VMware平台创建该虚拟机时，平台会在VMware中的ESXi宿主机上找到一个跟该IP子网的VLAN ID匹配的端口组（如果有多个，则选择其中一个），为虚拟机分配一个端口。并且为该端口配置上为虚拟机分配的IP地址以及子网掩码，网关，DNS等配置信息。&lt;/p>
&lt;h2 id="vmware网络配置">VMware网络配置&lt;/h2>
&lt;p>纳管VMware云账号时，平台内应该有VMware对应的二层网络和IP子网配置。这些二层网络和IP子网可以提前配置好，也可以在纳管时，由平台自动生成一部分，再时候补足一部分。&lt;/p>
&lt;h3 id="提前配置">提前配置&lt;/h3>
&lt;p>推荐提前配置。但前提是对待纳管的VMware集群的网络拓扑比较了解。&lt;/p>
&lt;p>配置原则如下：&lt;/p>
&lt;ol>
&lt;li>确定VMware对接的广播域。比较常见的是一个广播域，但是对于比较大的集群，则可能有多个。同时也有的场景为了区分虚拟机的业务和管理流量，为一个较小规模的VMware集群配置两个广播域的。为每个广播域创建一个二层网络（wire）。&lt;/li>
&lt;li>确定每个广播域内的IP网段，以及每个网段的VLAN ID，网关，子网掩码等信息。在对应的二层网络（wire）下为每个网段创建一个IP子网，并且配置VLAN ID，网关，子网掩码等信息。&lt;/li>
&lt;/ol>
&lt;h3 id="事后配置">事后配置&lt;/h3>
&lt;p>Cloudpods 纳管一个VMware账号后，会自动地扫描VMware账号中ESXi宿主机的虚拟交换机，分布式虚拟交换机，以及物理网卡对接的端口组的信息。如果宿主机的IP地址在平台中没有对应的IP子网，则会按照二层网络对应虚拟交换机或分布式虚拟交换机，IP子网对应端口组的原则，自动地创建二层网络和IP子网，并且创建的IP子网包含了宿主机的IP地址。因为平台不清楚具体的三层网络拓扑，会用最保守的算法，为每个虚拟交换机单独创建一个二层网络，并且把对应的ESXi宿主机和对应的二层网络关联。因此，创建出来的二层网络可能跟实际不想符合。此时，需要根据实际的三层网络拓扑来合并二层网络。例如，已知几台ESXi宿主机实际对接的同一个三层交换机，则需要将这些宿主机对接的二层网络进行合并。&lt;/p>
&lt;p>同时，平台会获得虚拟机的IP地址（通过vmtools获得）。如果这个IP地址在平台有对应的IP子网，并且连接关系符合网络约束（也就是虚拟机所在的宿主机对接的二层网络和IP子网的二层网络一致），则会自动将虚拟机对接到该IP子网，并且将该IP占住。否则，会将该IP地址保存在虚拟机的标签中，标签key为“sync_ips”。此时，用户在平台的web控制台可以看到这台虚拟机关联了这个IP，但是会看到提示”该IP地址无归属IP子网！请添加包含该IP地址的IP子网并重新同步云账号“。管理员应该在平台上找到该虚拟机对应的ESXi宿主机关联的二层网络，在该二层网络上创建合适的IP子网，该IP子网包含该虚拟机的IP地址。创建后，重新同步云账号，则虚拟机会自动跟新建的IP子网管理，并且占住这个IP地址。&lt;/p></description></item><item><title>Docs: 云账号删除失败问题排查</title><link>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/delete_failed/</link><pubDate>Mon, 05 Jul 2021 08:22:33 +0800</pubDate><guid>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/delete_failed/</guid><description>
&lt;h4 id="1-virtual-disk--used-by-virtual-servers">1. Virtual disk **** used by virtual servers&lt;/h4>
&lt;p>出现此问题一般是由于磁盘漂移导致的，多出现在vmware和私有云账号&lt;/p>
&lt;p>解决方案:&lt;/p>
&lt;ul>
&lt;li>清理账号的云主机资源(&lt;a href="../../../../function_principle/onpremise/vminstance/purge/">参考文档&lt;/a>)&lt;/li>
&lt;li>再次删除云账号&lt;/li>
&lt;/ul></description></item><item><title>Docs: 多云纳管权限表</title><link>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/iam/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/zh/docs/function_principle/multicloud/cloudaccounts/iam/</guid><description>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">注意&lt;/h4>
若使用精确权限,请确保添加对象存储权限,
此表会根据云平台纳管功能不断更新。
&lt;/div>
&lt;ul class="nav nav-tabs" id="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1" role="tablist">&lt;li class="nav-item">&lt;a data-toggle="tab" class="nav-link active" href="#tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-0" role="tab" aria-controls="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-0" aria-selected="true">阿里云&lt;/a>&lt;/li>
&lt;li class="nav-item">&lt;a data-toggle="tab" class="nav-link" href="#tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-1" role="tab" aria-controls="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-1">腾讯云&lt;/a>&lt;/li>
&lt;li class="nav-item">&lt;a data-toggle="tab" class="nav-link" href="#tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-2" role="tab" aria-controls="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-2">华为云&lt;/a>&lt;/li>
&lt;li class="nav-item">&lt;a data-toggle="tab" class="nav-link" href="#tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-3" role="tab" aria-controls="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-3">AWS&lt;/a>&lt;/li>
&lt;li class="nav-item">&lt;a data-toggle="tab" class="nav-link" href="#tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-4" role="tab" aria-controls="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-4">Google云&lt;/a>&lt;/li>
&lt;li class="nav-item">&lt;a data-toggle="tab" class="nav-link" href="#tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-5" role="tab" aria-controls="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-5">Azure&lt;/a>&lt;/li>&lt;/ul>
&lt;div class="tab-content" id="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1">&lt;div id="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-0">
&lt;p>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">功能&lt;/th>
&lt;th style="text-align:left">只读权限&lt;/th>
&lt;th style="text-align:left">可读可写权限&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">所有功能总和&lt;/td>
&lt;td style="text-align:left">ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AdministratorAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">虚拟机, 安全组, 镜像, 磁盘, 快照&lt;/td>
&lt;td style="text-align:left">AliyunECSReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AliyunECSFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Vpc, Vpc对等连接, 路由表&lt;/td>
&lt;td style="text-align:left">AliyunVPCReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AliyunVPCFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Eip&lt;/td>
&lt;td style="text-align:left">AliyunEIPReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AliyunEIPFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">弹性网卡&lt;/td>
&lt;td style="text-align:left">AliyunVPCNetworkIntelligenceReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AliyunECSNetworkInterfaceManagementAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">对象存储&lt;/td>
&lt;td style="text-align:left">AliyunOSSReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AliyunOSSFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">NAT&lt;/td>
&lt;td style="text-align:left">AliyunNATGatewayReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AliyunNATGatewayFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">负载均衡&lt;/td>
&lt;td style="text-align:left">AliyunSLBReadOnlyAccess&lt;br>AliyunALBFullAccess&lt;/td>
&lt;td style="text-align:left">AliyunSLBFullAccess&lt;br>AliyunALBFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">RDS&lt;/td>
&lt;td style="text-align:left">AliyunRDSReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AliyunRDSFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">弹性缓存&lt;/td>
&lt;td style="text-align:left">AliyunKvstoreReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AliyunKvstoreFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">操作日志&lt;/td>
&lt;td style="text-align:left">AliyunActionTrailFullAccess&lt;/td>
&lt;td style="text-align:left">AliyunActionTrailFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">NAS&lt;/td>
&lt;td style="text-align:left">AliyunNASReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AliyunNASFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">WAF&lt;/td>
&lt;td style="text-align:left">AliyunYundunWAFReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AliyunYundunWAFFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">IAM&lt;/td>
&lt;td style="text-align:left">AliyunRAMReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AliyunRAMFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">DNS&lt;/td>
&lt;td style="text-align:left">AliyunDNSReadOnlyAccess&lt;br>AliyunPubDNSFullAccess&lt;/td>
&lt;td style="text-align:left">AliyunDNSFullAccess&lt;br>AliyunPubDNSFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">账单,余额,费用&lt;/td>
&lt;td style="text-align:left">AliyunFinanceConsoleReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AliyunFinanceConsoleFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">监控&lt;/td>
&lt;td style="text-align:left">AliyunCloudMonitorReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AliyunCloudMonitorFullAccess&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/div>
&lt;div id="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-1" class="tab-pane" role="tabpanel" aria-labelledby="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-1">
&lt;p>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">功能&lt;/th>
&lt;th style="text-align:left">只读权限&lt;/th>
&lt;th style="text-align:left">可读可写权限&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">所有功能总和&lt;/td>
&lt;td style="text-align:left">ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AdministratorAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">虚拟机, 安全组, 镜像, 磁盘, 快照&lt;/td>
&lt;td style="text-align:left">QcloudCVMReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">QcloudCVMFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Vpc, Vpc对等连接, 路由表, NAT, 弹性网卡&lt;/td>
&lt;td style="text-align:left">QcloudVPCReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">QcloudVPCFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Eip&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;td style="text-align:left">QcloudEIPFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">对象存储&lt;/td>
&lt;td style="text-align:left">QcloudCOSReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">QcloudCOSFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">负载均衡&lt;/td>
&lt;td style="text-align:left">QcloudCLBReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">QcloudCLBFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">RDS&lt;/td>
&lt;td style="text-align:left">QcloudMariaDBReadOnlyAccess&lt;br>QcloudCDBReadOnlyAccess&lt;br>QcloudSQLServerReadOnlyAccess&lt;br>QcloudPostgreSQLReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">QcloudMariaDBFullAccess&lt;br>QcloudCDBFullAccess&lt;br>QcloudSQLServerFullAccess&lt;br>QcloudPostgreSQLFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">弹性缓存&lt;/td>
&lt;td style="text-align:left">QcloudRedisReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">QcloudRedisFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">操作日志&lt;/td>
&lt;td style="text-align:left">QcloudAuditReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">QcloudAuditFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">NAS&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">WAF&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">IAM&lt;/td>
&lt;td style="text-align:left">QcloudCamReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">QcloudCamFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">DNS&lt;/td>
&lt;td style="text-align:left">QcloudDNSPodReadOnlyAccess&lt;br>QcloudPrivateDNSReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">QcloudPrivateDNSFullAccess&lt;br>QcloudDNSPodFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">账单,余额,费用&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;td style="text-align:left">QCloudFinanceFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">监控&lt;/td>
&lt;td style="text-align:left">QcloudMonitorReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">QcloudMonitorFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Kafka&lt;/td>
&lt;td style="text-align:left">QcloudCkafkaReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">QcloudCKafkaFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">MongoDB&lt;/td>
&lt;td style="text-align:left">QcloudMongoDBReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">QcloudMongoDBFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">CDN&lt;/td>
&lt;td style="text-align:left">QcloudCDNReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">QcloudCDNFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">容器&lt;/td>
&lt;td style="text-align:left">QcloudTKEReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">QcloudTKEFullAccess&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/div>
&lt;div id="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-2">
&lt;p>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">功能&lt;/th>
&lt;th style="text-align:left">只读权限&lt;/th>
&lt;th style="text-align:left">可读可写权限&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">所有功能总和&lt;/td>
&lt;td style="text-align:left">Tenant Guest&lt;br>IAM ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">Tenant Administrator&lt;br>Security Administrator&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">虚拟机&lt;/td>
&lt;td style="text-align:left">ECS ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">ECS FullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">磁盘, 快照&lt;/td>
&lt;td style="text-align:left">EVS ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">EVS FullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">项目&lt;/td>
&lt;td style="text-align:left">EPS ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">EPS FullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">镜像&lt;/td>
&lt;td style="text-align:left">IMS ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">IMS FullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Vpc, Vpc对等连接, 路由表, 弹性网卡,EIP,安全组&lt;/td>
&lt;td style="text-align:left">VPC ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">VPC FullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">NAT&lt;/td>
&lt;td style="text-align:left">NAT ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">NAT FullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">对象存储&lt;/td>
&lt;td style="text-align:left">OBS ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">OBS Administrator&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">负载均衡&lt;/td>
&lt;td style="text-align:left">ELB ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">ELB FullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">RDS&lt;/td>
&lt;td style="text-align:left">RDS ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">RDS FullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">弹性缓存&lt;/td>
&lt;td style="text-align:left">DCS ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">DCS FullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">操作日志&lt;/td>
&lt;td style="text-align:left">CTS ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">CTS FullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">NAS&lt;/td>
&lt;td style="text-align:left">SFS ReadOnlyAccess&lt;br>SFS Turbo ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">SFS FullAccess&lt;br>SFS Turbo FullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">WAF&lt;/td>
&lt;td style="text-align:left">WAF ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">WAF FullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">IAM&lt;/td>
&lt;td style="text-align:left">IAM ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">Security Administrator&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">DNS&lt;/td>
&lt;td style="text-align:left">DNS ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">DNS FullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">账单,余额,费用&lt;/td>
&lt;td style="text-align:left">BSS Operator&lt;/td>
&lt;td style="text-align:left">BSS Administrator&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">监控&lt;/td>
&lt;td style="text-align:left">CES ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">CES FullAccess&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/div>
&lt;div id="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-3">
&lt;p>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">功能&lt;/th>
&lt;th style="text-align:left">只读权限&lt;/th>
&lt;th style="text-align:left">可读可写权限&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">所有功能总和&lt;/td>
&lt;td style="text-align:left">ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AdministratorAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">虚拟机, 磁盘, 安全组, 镜像, 快照, 磁盘, 镜像&lt;/td>
&lt;td style="text-align:left">AmazonEC2ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AmazonEC2FullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">项目&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Vpc, Vpc对等连接, 路由表, NAT, 弹性网卡,EIP, NAT&lt;/td>
&lt;td style="text-align:left">AmazonVPCReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AmazonVPCFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">对象存储&lt;/td>
&lt;td style="text-align:left">AmazonS3ReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AmazonS3FullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">负载均衡&lt;/td>
&lt;td style="text-align:left">ElasticLoadBalancingReadOnly&lt;/td>
&lt;td style="text-align:left">ElasticLoadBalancingFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">RDS&lt;/td>
&lt;td style="text-align:left">AmazonRDSReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AmazonRDSFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">弹性缓存&lt;/td>
&lt;td style="text-align:left">AmazonElastiCacheReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AmazonElastiCacheFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">操作日志&lt;/td>
&lt;td style="text-align:left">AWSCloudTrailReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AWSCloudTrail_FullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">NAS&lt;/td>
&lt;td style="text-align:left">AmazonElasticFileSystemReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AmazonElasticFileSystemFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">WAF&lt;/td>
&lt;td style="text-align:left">AWSWAFReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AWSWAFFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">IAM&lt;/td>
&lt;td style="text-align:left">IAMReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">IAMFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">DNS&lt;/td>
&lt;td style="text-align:left">AmazonRoute53DomainsReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">AmazonRoute53DomainsFullAccess&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">账单,费用&lt;/td>
&lt;td style="text-align:left">AWSBillingReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">Billing&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">监控&lt;/td>
&lt;td style="text-align:left">CloudWatchReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">CloudWatchFullAccess&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/div>
&lt;div id="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-4">
&lt;p>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">功能&lt;/th>
&lt;th style="text-align:left">只读权限&lt;/th>
&lt;th style="text-align:left">可读可写权限&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">所有功能总和&lt;/td>
&lt;td style="text-align:left">Viewer&lt;/td>
&lt;td style="text-align:left">Editor&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">虚拟机, 磁盘, 安全组, 镜像, 快照, 磁盘, 镜像, 负载均衡&lt;/td>
&lt;td style="text-align:left">Compute Viewer&lt;/td>
&lt;td style="text-align:left">Compute Editor&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">项目&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Vpc, Vpc对等连接, 路由表, NAT, 弹性网卡,EIP, NAT&lt;/td>
&lt;td style="text-align:left">Compute Network Viewer&lt;/td>
&lt;td style="text-align:left">Compute Network Admin&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">对象存储&lt;/td>
&lt;td style="text-align:left">Storage Legacy Bucket Reader&lt;br>Storage Object Viewer&lt;/td>
&lt;td style="text-align:left">Storage Admin&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">RDS&lt;/td>
&lt;td style="text-align:left">Cloud SQL Viewer&lt;/td>
&lt;td style="text-align:left">Cloud SQL Admin&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">弹性缓存&lt;/td>
&lt;td style="text-align:left">Redis Enterprise Cloud Viewer&lt;/td>
&lt;td style="text-align:left">Redis Enterprise Cloud Admin&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">操作日志&lt;/td>
&lt;td style="text-align:left">Logs Viewer&lt;/td>
&lt;td style="text-align:left">Logging Admin&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">NAS&lt;/td>
&lt;td style="text-align:left">Cloud Filestore Viewer&lt;/td>
&lt;td style="text-align:left">Cloud Filestore Editor&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">WAF&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">IAM&lt;/td>
&lt;td style="text-align:left">Role Viewer&lt;/td>
&lt;td style="text-align:left">Role Administrator&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">DNS&lt;/td>
&lt;td style="text-align:left">DNS Reader&lt;/td>
&lt;td style="text-align:left">DNS Administrator&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">账单,费用&lt;/td>
&lt;td style="text-align:left">Billing Account Viewer&lt;/td>
&lt;td style="text-align:left">Billing Account Administrator&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">监控&lt;/td>
&lt;td style="text-align:left">Monitoring Viewer&lt;/td>
&lt;td style="text-align:left">Monitoring Admin&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/div>
&lt;div id="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-zhdocsfunction_principlemulticloudcloudaccountsiam-1-5">
&lt;p>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">功能&lt;/th>
&lt;th style="text-align:left">只读权限&lt;/th>
&lt;th style="text-align:left">可读可写权限&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">所有功能总和&lt;/td>
&lt;td style="text-align:left">Reader&lt;/td>
&lt;td style="text-align:left">Owner&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">虚拟机, 磁盘, 安全组, 镜像, 快照, 磁盘, 镜像, 负载均衡&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;td style="text-align:left">Virtual Machine Contributor&lt;br>Classic Virtual Machine Contributor&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">项目&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Vpc, Vpc对等连接, 路由表, NAT, 弹性网卡,EIP, NAT, WAF&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;td style="text-align:left">Network Contributor,&lt;br>Classic Network Contributor&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">对象存储&lt;/td>
&lt;td style="text-align:left">Storage Blob Data Reader&lt;/td>
&lt;td style="text-align:left">Storage Blob Data Owner&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">RDS&lt;/td>
&lt;td style="text-align:left">Cloud SQL Viewer&lt;/td>
&lt;td style="text-align:left">Cloud SQL Admin&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">弹性缓存&lt;/td>
&lt;td style="text-align:left">Redis Enterprise Cloud Viewer&lt;/td>
&lt;td style="text-align:left">Redis Enterprise Cloud Admin&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">NAS&lt;/td>
&lt;td style="text-align:left">Storage File Data SMB Share Reader&lt;/td>
&lt;td style="text-align:left">Storage File Data SMB Share Contributor&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">WAF&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">IAM&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;td style="text-align:left">Graph Owner&lt;br>Resource Policy Contributor&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">DNS&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;td style="text-align:left">DNS Zone Contributor&lt;br>Private DNS Zone Contributor&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">账单,费用&lt;/td>
&lt;td style="text-align:left">Billing Reader&lt;br>Cost Management Reader&lt;/td>
&lt;td style="text-align:left">Cost Management Contributor&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">监控,操作日志&lt;/td>
&lt;td style="text-align:left">Monitoring Reader&lt;/td>
&lt;td style="text-align:left">Monitoring Contributor&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/div>&lt;/div></description></item></channel></rss>