<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>云联壹云 – 欢迎来到 云联壹云</title><link>https://www.cloudpods.org/v3.4/docs/</link><description>Recent content in 欢迎来到 云联壹云 on 云联壹云</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://www.cloudpods.org/v3.4/docs/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: v3.4.12</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-12/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-12/</guid><description>
&lt;p>发布时间 2020-12-29 03:01:23&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>34 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.4.11...v3.4.12">onecloud - v3.4.12&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-23">Bug Fixes (23)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>baremetal:&lt;/strong> clear jbod disks do PDMakeGood (&lt;a href="https://github.com/yunionio/onecloud/commit/ec5995da4bba9816ef65223742e5820dce6ffcea">ec5995da4&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>&lt;strong>cloudevent,devtool:&lt;/strong> missing metadata table (&lt;a href="https://github.com/yunionio/onecloud/commit/df7d68e4040d39584ebc59e20c409687d0f4f9ea">df7d68e40&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>&lt;strong>host:&lt;/strong> telegraf listen on local ipv4 address explicitly (&lt;a href="https://github.com/yunionio/onecloud/commit/c3fd4937d3db936ec0d828a6248ac58f395c8b54">c3fd4937d&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>&lt;strong>host:&lt;/strong> add print migrate progress info (&lt;a href="https://github.com/yunionio/onecloud/commit/cf8b548392216b441462d9f1c3e44b3df991f7f4">cf8b54839&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>&lt;strong>keystone:&lt;/strong> always upload&amp;amp;refresh service config whenever service restart (&lt;a href="https://github.com/yunionio/onecloud/commit/9561c0c8d4bdfff1cb92948aa7807d0dc3c9c7e5">9561c0c8d&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>&lt;strong>mcclient:&lt;/strong> options: webconsole: fix passing ssh port (&lt;a href="https://github.com/yunionio/onecloud/commit/2add6fc1f507e05bc867d34ca2622e070506454c">2add6fc1f&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>monitor:&lt;/strong> other servier create alert add used_by param as a agreement (&lt;a href="https://github.com/yunionio/onecloud/commit/b01a477cb26eaa9183c9284042b80726d9606d4f">b01a477cb&lt;/a>, &lt;a href="mailto:1422928955@qq.com">&amp;ndash;global&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> do not change disk status on migrating (&lt;a href="https://github.com/yunionio/onecloud/commit/a898d76094d9ad3dcf50cbb9c152db0a1fedf71f">a898d7609&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> eip_allocate_task: set eip status allocate_fail on task failure (&lt;a href="https://github.com/yunionio/onecloud/commit/5b0247a35f75d76e2d4f04dc9c9b8ca17bce4967">5b0247a35&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> add huawei gpssd desc (&lt;a href="https://github.com/yunionio/onecloud/commit/1ec3d6ddf0450b5b1e845a13a2b59a534d6b7202">1ec3d6ddf&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> fix openstack instance os type (&lt;a href="https://github.com/yunionio/onecloud/commit/db60e37c4dd5f3c8143b9b6e5af06f467c9cc4d5">db60e37c4&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> lbbackend: better error reporting for finding influxdb info (&lt;a href="https://github.com/yunionio/onecloud/commit/4ac56f7fc3f4d187bf069ed5e47975fd0928af70">4ac56f7fc&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> guest to create input keep billing info (&lt;a href="https://github.com/yunionio/onecloud/commit/35c0e52de94af47183e27671f3f0c418d41160d6">35c0e52de&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> openstack network is regional (&lt;a href="https://github.com/yunionio/onecloud/commit/869744d1bbf16dce54c3c6869648017f978f9324">869744d1b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> sync servers (&lt;a href="https://github.com/yunionio/onecloud/commit/c069179adc75d7aded7d55355189ae45a9f47f1b">c069179ad&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> optimized disk allocate sched failed log (&lt;a href="https://github.com/yunionio/onecloud/commit/cd9b632d08db47a170d3c214846db1a66f6bad67">cd9b632d0&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> guestnetworks: use net calculated mtu (&lt;a href="https://github.com/yunionio/onecloud/commit/995b24c319c51f3e1a6a219e425438e251346958">995b24c31&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region,baremetal:&lt;/strong> pxe net reuse converted server access ip (&lt;a href="https://github.com/yunionio/onecloud/commit/014170e74a21cd82db71099844bb4684e342859c">014170e74&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region,baremetal:&lt;/strong> choose candidate network not according by types (&lt;a href="https://github.com/yunionio/onecloud/commit/3da4dd195322922d0e2eb73d57ac1bd0d257f1da">3da4dd195&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region,climc:&lt;/strong> eips: rename arg name for requested eip addr (&lt;a href="https://github.com/yunionio/onecloud/commit/62c39c62cdd62ee78542739f8ea2d77538710031">62c39c62c&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>scheduler:&lt;/strong> storage predicate add actualCapacity filter (&lt;a href="https://github.com/yunionio/onecloud/commit/5bce2bd959bfe4d802edeba4501b1591d47f8ec4">5bce2bd95&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>&lt;strong>scheduler:&lt;/strong> remove unused k8s extender (&lt;a href="https://github.com/yunionio/onecloud/commit/da66f265039979399da8eeb1796b4109acaf1d23">da66f2650&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>&lt;strong>taskman:&lt;/strong> use admin token if task userCred token expired (&lt;a href="https://github.com/yunionio/onecloud/commit/70d2e5c84defcbec914180e9ca509c2fa82f14a1">70d2e5c84&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="code-refactoring-6">Code Refactoring (6)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>climc:&lt;/strong> webconsole: use helper methods of response struct (&lt;a href="https://github.com/yunionio/onecloud/commit/45eda7c7034edbd603d5db072155200ed7c11f23">45eda7c70&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>host:&lt;/strong> startvm: for compat (&lt;a href="https://github.com/yunionio/onecloud/commit/f2e3766bee08732311bbdc2493f195b69d142dbf">f2e3766be&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>host:&lt;/strong> startvm: nic_speed: use raw string (&lt;a href="https://github.com/yunionio/onecloud/commit/2154e7c18bc27b9b0625113dca4b54d4f91b0478">2154e7c18&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>host:&lt;/strong> startvm: add QEMU_CMD_KVM_ARG (&lt;a href="https://github.com/yunionio/onecloud/commit/27dc7b6296233bf175c77695efbe6ffb9ce6cf30">27dc7b629&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>webconsole:&lt;/strong> api: add helper methods for response struct (&lt;a href="https://github.com/yunionio/onecloud/commit/85008a7b0c8cb7ac6df197fa00d536289565b408">85008a7b0&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>webconsole:&lt;/strong> use structured response (&lt;a href="https://github.com/yunionio/onecloud/commit/2f9cfae375102a01219ff14263ba6fac5401a9e6">2f9cfae37&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="feature-1">Feature (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>climc:&lt;/strong> policy save data into file (&lt;a href="https://github.com/yunionio/onecloud/commit/9cdd7dd2daf7b2bf6311a429030614bb35233f91">9cdd7dd2d&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-4">Features (4)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>apis:&lt;/strong> add const VPC_OVN_ENCAP_COST (&lt;a href="https://github.com/yunionio/onecloud/commit/208a49e3d4e9676b9cc9f59e72bdceb1683b4263">208a49e3d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>host:&lt;/strong> startvm: set vpc nic mtu (&lt;a href="https://github.com/yunionio/onecloud/commit/c8388cab1aaf78e893c6fef793b1d6d7dda5e686">c8388cab1&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>host:&lt;/strong> startvm: add nic_mtu shell func (&lt;a href="https://github.com/yunionio/onecloud/commit/45b538bd2a0311cf36c04cf032f265571a365d5b">45b538bd2&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> networks: add getMtu method (&lt;a href="https://github.com/yunionio/onecloud/commit/82e1234ed43302cfbe4f8d24eacb25ceb49e1ff8">82e1234ed&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.4.11</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-11/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-11/</guid><description>
&lt;p>发布时间 2020-12-17 13:20:29&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>42 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.4.10...v3.4.11">onecloud - v3.4.11&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-37">Bug Fixes (37)&lt;/h3>
&lt;ul>
&lt;li>climc vpc-create missing cloudregion_id (&lt;a href="https://github.com/yunionio/onecloud/commit/07bcf6a7a76d953376a6e1ec62031c3403ba31b1">07bcf6a7a&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>&lt;strong>baremetal:&lt;/strong> convert to host failed (&lt;a href="https://github.com/yunionio/onecloud/commit/c5655ed2ba6c37c774e37d4c8bdb65a98aec7943">c5655ed2b&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>&lt;strong>climc:&lt;/strong> fix marshal perform params (&lt;a href="https://github.com/yunionio/onecloud/commit/3e3d356ffc4097705cecb00f98f56fb973c52c84">3e3d356ff&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>&lt;strong>climc:&lt;/strong> server-create &amp;ndash;desc not work (&lt;a href="https://github.com/yunionio/onecloud/commit/433807432a841d7ed45c21c1b736dcee8081ceb1">433807432&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>&lt;strong>cloudcommon:&lt;/strong> disable quota check by default (&lt;a href="https://github.com/yunionio/onecloud/commit/2d248612e04ed68417a13354a671bcae01e9e638">2d248612e&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>&lt;strong>cloudcommon:&lt;/strong> perform public should check the sharing scope of resource (&lt;a href="https://github.com/yunionio/onecloud/commit/c553099588c6f3845a7d5996046f89ae24263688">c55309958&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>&lt;strong>cloudcommon:&lt;/strong> quota checkout turnd on by default at release/3.4 (&lt;a href="https://github.com/yunionio/onecloud/commit/8d842b0d2f6b61d890150e4cdf1b326a7b42fe85">8d842b0d2&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>&lt;strong>git,make:&lt;/strong> 更新获取 git branch 的规则 (&lt;a href="https://github.com/yunionio/onecloud/commit/f82e51af659942e00d1b0cf345adb1969db89917">f82e51af6&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>&lt;strong>git,make:&lt;/strong> 修正 gitbranch 变量的获取方式，允许外部传入，解决自动升级版本 tag 不统一的问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/c3be52698826b4407edd71ca5a7a8531fc3ece7f">c3be52698&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>&lt;strong>git,make:&lt;/strong> git branch 获取方式优化 (&lt;a href="https://github.com/yunionio/onecloud/commit/5920af6aee0306bb9bcd72ca0ee9f27548c4199f">5920af6ae&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>&lt;strong>host:&lt;/strong> fix check hugepage enabled (&lt;a href="https://github.com/yunionio/onecloud/commit/0ee2cbcf603cdf178f4680c0078490d7d41f37fb">0ee2cbcf6&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>&lt;strong>host:&lt;/strong> fix set windows password with escape charater (&lt;a href="https://github.com/yunionio/onecloud/commit/e6206944dd8814cb81d30fd5b23bcd496e2e6435">e6206944d&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>&lt;strong>host:&lt;/strong> check lease living on restart etcd session (&lt;a href="https://github.com/yunionio/onecloud/commit/31436641cc0e5b0f9303e6cfde8cb89dc9fe0f7a">31436641c&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>&lt;strong>host-deployer:&lt;/strong> cancel rename centos vgname (&lt;a href="https://github.com/yunionio/onecloud/commit/8471421b876208c4f2c0c4a42d117c0aee0f5429">8471421b8&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>&lt;strong>keystone:&lt;/strong> ignore service config update without changes (&lt;a href="https://github.com/yunionio/onecloud/commit/ee391ed98a37b8efd2d662b8f21003783ee38a88">ee391ed98&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> check for changes before updating config (&lt;a href="https://github.com/yunionio/onecloud/commit/d357f03757074f6b6c8b44fa37eeddb5280801ce">d357f0375&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> avoid deadlock (&lt;a href="https://github.com/yunionio/onecloud/commit/9122c7e10d94f029a8f476ef71ea1c955df54895">9122c7e10&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> repull subcontact after changing config (&lt;a href="https://github.com/yunionio/onecloud/commit/3d99fe914df4bdf8298054fc3d967f3117e2de9c">3d99fe914&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> openstack available zones (&lt;a href="https://github.com/yunionio/onecloud/commit/ab6d57afea4139146534d991b974aa26b9711a02">ab6d57afe&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> openstack hosts sync (&lt;a href="https://github.com/yunionio/onecloud/commit/5863e4a73dbc016feaa320c646907e6011d6085a">5863e4a73&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> inspect invalid guest template (&lt;a href="https://github.com/yunionio/onecloud/commit/e762b2e2e052b7e067cfd6b38658b5870b78d25d">e762b2e2e&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> server login info&amp;amp; keypair import input parameter trimspace (&lt;a href="https://github.com/yunionio/onecloud/commit/2ff318a5b818952b9c7f58178c0b324bf1817587">2ff318a5b&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> goimports check fix (&lt;a href="https://github.com/yunionio/onecloud/commit/3817b9e6ad56a25816c9fd6d33d033fcd09d7aae">3817b9e6a&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> attach network on register baremetal server (&lt;a href="https://github.com/yunionio/onecloud/commit/5d69ae9a0249d7c328d267a3076bffd7d8160d3b">5d69ae9a0&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> network reserved ip count not consider expiration of reserved ips (&lt;a href="https://github.com/yunionio/onecloud/commit/47fdfc78c991ce9e1e8c83a49458156a3cf51c39">47fdfc78c&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> sanitize eip charge type on all callsites (&lt;a href="https://github.com/yunionio/onecloud/commit/475842e818cfd92c8a3b3661c67805082aa652e3">475842e81&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> support openstack subnet allocation pools (&lt;a href="https://github.com/yunionio/onecloud/commit/d1d62de8842e2d3e87e191c6026a886b4556846d">d1d62de88&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> validate isolated devices on migrate (&lt;a href="https://github.com/yunionio/onecloud/commit/c74b89332d2c4a7591f574bd00147b74cdd098db">c74b89332&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> baremetal post update related server (&lt;a href="https://github.com/yunionio/onecloud/commit/36a9314427110dc5451c14034888045572a67d12">36a931442&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region,host:&lt;/strong> fix hot remove nic (&lt;a href="https://github.com/yunionio/onecloud/commit/2864b15eccc558f8bbea8eb819f7d9cb678713da">2864b15ec&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>&lt;strong>scheduler:&lt;/strong> get candidates error more info (&lt;a href="https://github.com/yunionio/onecloud/commit/1c86c0d73a94d4594cff5ba1e00f358237c368ca">1c86c0d73&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>&lt;strong>scheduler:&lt;/strong> select resource unordered (&lt;a href="https://github.com/yunionio/onecloud/commit/986fa9881f2ec6213477240ee10bc636fb7d99f8">986fa9881&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>&lt;strong>scheduler:&lt;/strong> fetch input network when specified (&lt;a href="https://github.com/yunionio/onecloud/commit/b1bec7337fe0e2ee7f2297f6cd320ce5c818ee7d">b1bec7337&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>&lt;strong>scheduler:&lt;/strong> sku filter check zone if only prefer region specified (&lt;a href="https://github.com/yunionio/onecloud/commit/532ada4bf977bb731bf46a2b8994b9490f9d9ce2">532ada4bf&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>&lt;strong>scheduler:&lt;/strong> sku by region and fill onecloud vpc networks (&lt;a href="https://github.com/yunionio/onecloud/commit/aad036a822b42b7ee3c30b6ca10e0b8153f01ea8">aad036a82&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>&lt;strong>vpcagent:&lt;/strong> ovn: stable dns A record value (&lt;a href="https://github.com/yunionio/onecloud/commit/0f973234b89d7d1fe7e1b912c27250ea14c8d25d">0f973234b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>webconsole:&lt;/strong> trim api_server url if end with slashes (&lt;a href="https://github.com/yunionio/onecloud/commit/5364ba5641732d658f3620d49d9305fae2b9fc10">5364ba564&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="code-refactoring-2">Code Refactoring (2)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>apis:&lt;/strong> compute: remove EIP_CHARGE_TYPE_DEFAULT (&lt;a href="https://github.com/yunionio/onecloud/commit/5e3861b28b67f6e2c6be0e72786023aa1f128f83">5e3861b28&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> add StartSubcontactPullTask for receiver (&lt;a href="https://github.com/yunionio/onecloud/commit/28e5b39fffeb943dce0d1970ef89e7c71224e795">28e5b39ff&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-3">Features (3)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>region:&lt;/strong> support sync skus by cloudregion (&lt;a href="https://github.com/yunionio/onecloud/commit/96d199724ea07c1d488504ae652f8a65c96775dd">96d199724&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> support sync skus by cloudregion (&lt;a href="https://github.com/yunionio/onecloud/commit/e4c07c03042bec3f6a96609b49153b23e1e556be">e4c07c030&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> regiondriver: add methods on eip charge type (&lt;a href="https://github.com/yunionio/onecloud/commit/f3fee11711ceac0d65767c8b33e05006eae94089">f3fee1171&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="sdnagent">sdnagent&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/sdnagent">https://github.com/yunionio/sdnagent&lt;/a>&lt;/p>
&lt;p>7 commits to &lt;a href="https://github.com/yunionio/sdnagent/compare/v3.4.10...v3.4.11">sdnagent - v3.4.11&lt;/a> since this release.&lt;/p>
&lt;h3 id="tc-6">Tc (6)&lt;/h3>
&lt;ul>
&lt;li>QdiscTree: add Root() method (&lt;a href="https://github.com/yunionio/sdnagen/commit/23539680617a037cd622065eebd1c0456ebe6431">2353968&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>NewQdiscTree: special case mq (&lt;a href="https://github.com/yunionio/sdnagen/commit/f71d4e0951ed32eed629838fab095affef440420">f71d4e0&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>NewQdiscTree: fix children key (&lt;a href="https://github.com/yunionio/sdnagen/commit/d8c06dc0a6bba678877d16408b1fe28e78ab3950">d8c06dc&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>NewQdiscTree: use qbase for BaseQdisc() return (&lt;a href="https://github.com/yunionio/sdnagen/commit/c3726a1294438fae460c34a0c72214c0fbb501d6">c3726a1&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>NewQdiscTree: rename vars (&lt;a href="https://github.com/yunionio/sdnagen/commit/707229b15da1515d0365b3fbec3e241c2172d1bf">707229b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>NewQdiscTree: use current tree instead of the root (&lt;a href="https://github.com/yunionio/sdnagen/commit/119e1d0f3a6ef4a0825b67c3f223676aa783bc3f">119e1d0&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="tcman-1">Tcman (1)&lt;/h3>
&lt;ul>
&lt;li>skip devices with mq qdisc (&lt;a href="https://github.com/yunionio/sdnagen/commit/537d80d6af4a19e5c32f4f35587e20c8650d04e9">537d80d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.4.10</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-10/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-10/</guid><description>
&lt;p>发布时间 2020-12-03 16:20:08&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>19 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.4.9...v3.4.10">onecloud - v3.4.10&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-13">Bug Fixes (13)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>cloudid:&lt;/strong> avoid new public account sync system policy delay 1 day (&lt;a href="https://github.com/yunionio/onecloud/commit/b9d08c74a3f6cff05408cc8c978bad1d7a97cbfd">b9d08c74a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>host:&lt;/strong> make sure it won&amp;rsquo;t match vpc guests by accident (&lt;a href="https://github.com/yunionio/onecloud/commit/b54ebf45f3aa12d25ae90160f6c5727ac3e37ffe">b54ebf45f&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>keystone:&lt;/strong> not allow to disable sql driver (&lt;a href="https://github.com/yunionio/onecloud/commit/e77ca84876c16229a7e62f670d6cdecc2e13d426">e77ca8487&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>&lt;strong>monitor:&lt;/strong> modify influxdbSuggestDriver query err (&lt;a href="https://github.com/yunionio/onecloud/commit/fd7fe62930e7a375f656c1ed9c9302b187b09365">fd7fe6293&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> return the result of the second attempt to execute the rpc call (&lt;a href="https://github.com/yunionio/onecloud/commit/e2ab5190c62edd366e1e50e38f17b8736ba3fbca">e2ab5190c&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> auto sync cloudaccount resources (&lt;a href="https://github.com/yunionio/onecloud/commit/43f5c849550a0841be98f6d966f4d2c822cc19bb">43f5c8495&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> delete guest without &amp;lsquo;purge&amp;rsquo; in GuestDetachScalingGroupTask (&lt;a href="https://github.com/yunionio/onecloud/commit/af006498f8900acfb61077bb87c47a506d1925ae">af006498f&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> secgrouprule: set model manager (&lt;a href="https://github.com/yunionio/onecloud/commit/ec47e4773472d3fc76cad980c18002fce23e4e6a">ec47e4773&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> sort excludedNets correctly (&lt;a href="https://github.com/yunionio/onecloud/commit/220fb5bca59b319ea26b9d1fe178368f2d3d257e">220fb5bca&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> pass up error from InitializeData (&lt;a href="https://github.com/yunionio/onecloud/commit/f80c6a214ae15c2b6c33b3f7c407ebc009778cbc">f80c6a214&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> avoid qcloud sync local disk error (&lt;a href="https://github.com/yunionio/onecloud/commit/c2765f5fda423d0bb1e67e51751e4bab95a39c67">c2765f5fd&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region,scheduler:&lt;/strong> fix netwrok predicate (&lt;a href="https://github.com/yunionio/onecloud/commit/43407d3d77feb09534aac5024949ed20372b12c7">43407d3d7&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>&lt;strong>taskman:&lt;/strong> SSubTask: set model manager (&lt;a href="https://github.com/yunionio/onecloud/commit/1c68b97c86ba06b8095857b48c632f853932ea0e">1c68b97c8&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="bugfix-1">Bugfix (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>region:&lt;/strong> fix list by srever type normal (&lt;a href="https://github.com/yunionio/onecloud/commit/eba5bd84df158508f23b977aebd95cecb1c57cf6">eba5bd84d&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-5">Features (5)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>host:&lt;/strong> add option OvnEncapIpDetectionMethod can-reach:xx (&lt;a href="https://github.com/yunionio/onecloud/commit/1615426f297bc063e64574d316047a2b7a825f91">1615426f2&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>netutils2:&lt;/strong> add MyIPTo (&lt;a href="https://github.com/yunionio/onecloud/commit/3df0be2fd46cafe341ce63a8ccd6b52abda43a11">3df0be2fd&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> add list filter server type (&lt;a href="https://github.com/yunionio/onecloud/commit/ee9e59df8807cd5ed970731be94ef52f346d9275">ee9e59df8&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> options: allow setting default vpc external access mode (&lt;a href="https://github.com/yunionio/onecloud/commit/0ea12ffcc6959951a654aae6a15d2e12f89f2659">0ea12ffcc&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> search server by substr of ip or mac (&lt;a href="https://github.com/yunionio/onecloud/commit/9e5018b147ce5a89c0024a143016e8c8cb6fad60">9e5018b14&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="ocadm">ocadm&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/ocadm">https://github.com/yunionio/ocadm&lt;/a>&lt;/p>
&lt;p>2 commits to &lt;a href="https://github.com/yunionio/ocadm/compare/v3.4.9...v3.4.10">ocadm - v3.4.10&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-1">Bug Fixes (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>update:&lt;/strong> cluster update operator parse image digest (&lt;a href="https://github.com/yunionio/ocadm/commit/50c366378847277f3bfa7d49475ed6fd60e368bd">50c3663&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="chore-1">Chore (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>vendor:&lt;/strong> resolve onecloud-operator preceding tag not found (&lt;a href="https://github.com/yunionio/ocadm/commit/bf6f45ad096ef6132e29150df639cf8396f08ab2">bf6f45a&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-operator">onecloud-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-operator">https://github.com/yunionio/onecloud-operator&lt;/a>&lt;/p>
&lt;p>2 commits to &lt;a href="https://github.com/yunionio/onecloud-operator/compare/v3.4.9...v3.4.10">onecloud-operator - v3.4.10&lt;/a> since this release.&lt;/p>
&lt;h3 id="features-1">Features (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>host:&lt;/strong> allow setting ovnEncapIpDetectionMethod (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/176999a8fe1b3d5bed4876dd88881cb43569416b">176999a&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vendor-1">Vendor (1)&lt;/h3>
&lt;ul>
&lt;li>update yunion.io/x/master to current release/3.4 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/05ccca28884473cf218db755c8e89b2ce1213d9c">05ccca2&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="sdnagent">sdnagent&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/sdnagent">https://github.com/yunionio/sdnagent&lt;/a>&lt;/p>
&lt;p>3 commits to &lt;a href="https://github.com/yunionio/sdnagent/compare/v3.4.9...v3.4.10">sdnagent - v3.4.10&lt;/a> since this release.&lt;/p>
&lt;h3 id="build-1">Build (1)&lt;/h3>
&lt;ul>
&lt;li>eipgw: track to ensure stop state as well (&lt;a href="https://github.com/yunionio/sdnagen/commit/71e82fb9d8c330c19f93caf4e4e7e2a2caf362af">71e82fb&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-1">Others (1)&lt;/h3>
&lt;ul>
&lt;li>.circleci: bump go to 1.14 (&lt;a href="https://github.com/yunionio/sdnagen/commit/d5a7f1993f50f18380d0c9c8ae9721d8f9edf061">d5a7f19&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vendor-1-1">Vendor (1)&lt;/h3>
&lt;ul>
&lt;li>bump yunion.io/x/onecloud to current tip of release/3.3 (&lt;a href="https://github.com/yunionio/sdnagen/commit/cd98fe2f6da36c1484bf06bc5cd2ca394985fe22">cd98fe2&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.4.9</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-9/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-9/</guid><description>
&lt;p>发布时间 2020-11-26 15:42:12&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>21 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.4.8...v3.4.9">onecloud - v3.4.9&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-20">Bug Fixes (20)&lt;/h3>
&lt;ul>
&lt;li>allow disk attach to multiple guests (&lt;a href="https://github.com/yunionio/onecloud/commit/3d2b24a35175ec2c5c798f512f64ad3d643e918d">3d2b24a35&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>&lt;strong>host:&lt;/strong> wait put host offline success (&lt;a href="https://github.com/yunionio/onecloud/commit/c325d8355c3debb80e4af16916918854ac6601d0">c325d8355&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>&lt;strong>locales:&lt;/strong> fix translation text (&lt;a href="https://github.com/yunionio/onecloud/commit/37745499798d7d1237db934500cb799147511d42">377454997&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>monitor:&lt;/strong> modify monitor serviceType in StartService() (&lt;a href="https://github.com/yunionio/onecloud/commit/09ed698ae86b775cc41302f56c8a5e676e87b743">09ed698ae&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>&lt;strong>monitor:&lt;/strong> modify suggestrule process influxdb data (&lt;a href="https://github.com/yunionio/onecloud/commit/6e0d4cb35cdbd26d82f522d1e48e3c85902cf250">6e0d4cb35&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>&lt;strong>monitor:&lt;/strong> modify notify alertInfo and alertOk detach resource (&lt;a href="https://github.com/yunionio/onecloud/commit/ff5396b90908207c473c5ca89a4b20d70bbb5528">ff5396b90&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> 避免OneCloud密码校验通过，公有云厂商密码校验不通过 (&lt;a href="https://github.com/yunionio/onecloud/commit/fc16c37eab0101e78fc49905c667bae073ef78c8">fc16c37ea&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> update translations (&lt;a href="https://github.com/yunionio/onecloud/commit/7bf1bef04aeb0415b61b045a403a00412b9bd424">7bf1bef04&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> allow reset huawei system disk (&lt;a href="https://github.com/yunionio/onecloud/commit/024a17de8382e785597fa4bbf836accd9d616ce1">024a17de8&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> valid qcloud hssd for system disk (&lt;a href="https://github.com/yunionio/onecloud/commit/0f5a8b6407931b9d31ae443edf7074d51bc4613e">0f5a8b640&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> elasticcache_instances: fix error fmt (&lt;a href="https://github.com/yunionio/onecloud/commit/3b2938380a5fc11289728618cdfdb876a4d22038">3b2938380&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> change_ipaddr: retain eip_id on detach and attach (&lt;a href="https://github.com/yunionio/onecloud/commit/a5d82922bdd9a927625cf89a2f208e14e786a8dd">a5d82922b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> allow delete storagecachedimage with &amp;lsquo;cache_failed&amp;rsquo; status (&lt;a href="https://github.com/yunionio/onecloud/commit/61eaea80998598c404482dcf0987897195dfe170">61eaea809&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> avoid public ip bandwidth is zero (&lt;a href="https://github.com/yunionio/onecloud/commit/25601989438603e15aff5018f0a5f14c8d368302">256019894&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> network clean schedule cache after real deleted (&lt;a href="https://github.com/yunionio/onecloud/commit/37f648bfb873018803bd27456c5f18c08ef6322e">37f648bfb&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> elastic cache task fail message fix (&lt;a href="https://github.com/yunionio/onecloud/commit/71535f670e5e24a35174f08b3e8b7553eca7de65">71535f670&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> wire get vpc releated hosts is empty (&lt;a href="https://github.com/yunionio/onecloud/commit/372c9a393f624b006d6faf56693ef21999b2534a">372c9a393&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region,esxiagent:&lt;/strong> allow host behind a nat (&lt;a href="https://github.com/yunionio/onecloud/commit/6f0d6cbeac4f1e8372cdc25a2334466393266f17">6f0d6cbea&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>&lt;strong>scheduler:&lt;/strong> clean expire cache before schedule (&lt;a href="https://github.com/yunionio/onecloud/commit/1818d4853a173315ba455c6355ad1b1369ad6e95">1818d4853&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>&lt;strong>vpcagent:&lt;/strong> models: guestnetworks: accomodate change_ipaddr (&lt;a href="https://github.com/yunionio/onecloud/commit/9d19bf34b0dc676196fa038f068dc0f80a4eef89">9d19bf34b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-1">Features (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>cloudcommon:&lt;/strong> db: jointbase: add list:&amp;ldquo;user&amp;rdquo; for RowId (&lt;a href="https://github.com/yunionio/onecloud/commit/e4bf0fa8dc3cbfd24f68f50ace13c25b33f50890">e4bf0fa8d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-service-operator">onecloud-service-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-service-operator">https://github.com/yunionio/onecloud-service-operator&lt;/a>&lt;/p>
&lt;p>5 commits to &lt;a href="https://github.com/yunionio/onecloud-service-operator/compare/v3.4.8...v3.4.9">onecloud-service-operator - v3.4.9&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-2">Bug Fixes (2)&lt;/h3>
&lt;ul>
&lt;li>for last pr (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/bec75dabce60b6fe41a146718ff0d379757caa4b">bec75da&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>resource/vm:&lt;/strong> convert imageName to imageId before requesting for creating vm (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/62649ce888f46ab79a03a2f6ba87fc64cab95989">62649ce&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="code-refactoring-1">Code Refactoring (1)&lt;/h3>
&lt;ul>
&lt;li>change maxRetryTimes to maxTryTimes (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/3c142785cf81fcbbe691c87c952d52d3ee05e1d7">3c14278&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-2">Features (2)&lt;/h3>
&lt;ul>
&lt;li>init docs (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/ea4dc5956d6b8000af5cdfacb78562afb4ba0f0d">ea4dc59&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>resource:&lt;/strong> better use for logger (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/fe928bffb707298196e63359506cdc24f5e5dfd9">fe928bf&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="sdnagent">sdnagent&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/sdnagent">https://github.com/yunionio/sdnagent&lt;/a>&lt;/p>
&lt;p>1 commits to &lt;a href="https://github.com/yunionio/sdnagent/compare/v3.4.8...v3.4.9">sdnagent - v3.4.9&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-1">Bug Fixes (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>hostconfig:&lt;/strong> fix watching hostconfig (&lt;a href="https://github.com/yunionio/sdnagen/commit/24ad2f8cecf2d08c13a31ada1763acf596d5e7fd">24ad2f8&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.4.8</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-8/</guid><description>
&lt;p>发布时间 2020-11-20 16:52:19&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>3 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.4.7...v3.4.8">onecloud - v3.4.8&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-1">Bug Fixes (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>region:&lt;/strong> compatible rds network params (&lt;a href="https://github.com/yunionio/onecloud/commit/42582043ee8168eff93ea759f85f941a7e34275f">42582043e&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-1">Features (1)&lt;/h3>
&lt;ul>
&lt;li>rds recovery new instance from backup supported (&lt;a href="https://github.com/yunionio/onecloud/commit/b6917c56042ed56ffe6a09a30ea62132d7ffd959">b6917c560&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="optimized-1">Optimized (1)&lt;/h3>
&lt;ul>
&lt;li>server delete log and wait time (&lt;a href="https://github.com/yunionio/onecloud/commit/47349e71b9060aa075643384d8569df759e02caf">47349e71b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.4.7</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-7/</guid><description>
&lt;p>发布时间 2020-11-19 15:25:11&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>22 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.4.6...v3.4.7">onecloud - v3.4.7&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-10">Bug Fixes (10)&lt;/h3>
&lt;ul>
&lt;li>add host.memoty.total and host.cpu.total usage stats (&lt;a href="https://github.com/yunionio/onecloud/commit/6b0ae74acb6b44a080992cd84880282496fdb2c0">6b0ae74ac&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>add host-joint resources into domain level resources (&lt;a href="https://github.com/yunionio/onecloud/commit/ba2a188f0d64cfcc57e62ed6b13b42ea94f7c402">ba2a188f0&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>add err handler for notifyRobot (&lt;a href="https://github.com/yunionio/onecloud/commit/4a06b38da8deb8acb5fa9f43df28f76e6dac9df9">4a06b38da&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>avoid panic (&lt;a href="https://github.com/yunionio/onecloud/commit/e9459b4a7dd1a41c8bd9809d1aad74fee9994395">e9459b4a7&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>add error cause (&lt;a href="https://github.com/yunionio/onecloud/commit/43f4f5f946df1722946360c892814cd5fc7fe6ca">43f4f5f94&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>baremetal usage should exclude converted hypervisor (&lt;a href="https://github.com/yunionio/onecloud/commit/dc19e7b035a2223e901f1513e0742e62ba76cb75">dc19e7b03&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>host memory usage status not correct (&lt;a href="https://github.com/yunionio/onecloud/commit/71ddac232d7bbca27177827ff63e470cb1380467">71ddac232&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>keystone init empty catalogy cause panic (&lt;a href="https://github.com/yunionio/onecloud/commit/b545066e055ddb6d547430d4d59dda3a03bccc91">b545066e0&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>support resize qcloud hssd disk (&lt;a href="https://github.com/yunionio/onecloud/commit/27c8861b6453eb2e8badb94da1bdd6dd7df106f6">27c8861b6&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> be compatible with keystone&amp;rsquo;s UsersV3.GetById (&lt;a href="https://github.com/yunionio/onecloud/commit/aee0299d71f5efbe3b8645c92252ef5aec9b5fce">aee0299d7&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="feature-1">Feature (1)&lt;/h3>
&lt;ul>
&lt;li>allow join project across domain (&lt;a href="https://github.com/yunionio/onecloud/commit/1fce2ec30cbd4534ece727711ef89b311f703e83">1fce2ec30&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-1">Features (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>notify:&lt;/strong> enable watching user in keystone (&lt;a href="https://github.com/yunionio/onecloud/commit/96400124baff02613e6161defda0f6ecd19b062a">96400124b&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="host-1">Host (1)&lt;/h3>
&lt;ul>
&lt;li>restart etcd session on keepalive failed (&lt;a href="https://github.com/yunionio/onecloud/commit/029530ac346f8fa45e56d880e7583965247039b4">029530ac3&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="optimized-1">Optimized (1)&lt;/h3>
&lt;ul>
&lt;li>aliyun create rds backup (&lt;a href="https://github.com/yunionio/onecloud/commit/3a8e9987182ea4c18840025dd7e0d90d8ac50828">3a8e99871&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-7">Others (7)&lt;/h3>
&lt;ul>
&lt;li>docker 交叉编译规则更新 (&lt;a href="https://github.com/yunionio/onecloud/commit/491a9ece5549d72261bebfed13017f343e0615f3">491a9ece5&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>detach AlertResource on alertDisable (&lt;a href="https://github.com/yunionio/onecloud/commit/ea793d99028ddc36b0b14b94ab09b7f33d107185">ea793d990&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>modify alertResource ws info (&lt;a href="https://github.com/yunionio/onecloud/commit/bef9af4c3b2f531db3372652b5b63583bf8854b5">bef9af4c3&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>commonalert bugfix: (&lt;a href="https://github.com/yunionio/onecloud/commit/37272588fa997d91383beefc9f4a82a0589c8bbf">37272588f&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>aliyun finance cloud zone add suffix (&lt;a href="https://github.com/yunionio/onecloud/commit/befef016dcc552eec3dd396c2710425253eaea0d">befef016d&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>aliyun finance cloud region add suffix (&lt;a href="https://github.com/yunionio/onecloud/commit/c32ad0ac5bc47aab4360247454b2908daaab212d">c32ad0ac5&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>suggestalet bugfix (&lt;a href="https://github.com/yunionio/onecloud/commit/c4d4700d2672e37523593e1e7a024daad4e6cdf1">c4d4700d2&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vendor-1">Vendor (1)&lt;/h3>
&lt;ul>
&lt;li>update yunion.io/x/jsonutils (&lt;a href="https://github.com/yunionio/onecloud/commit/ca9859f1264666aa8c5e3d7203a7ece74414fd23">ca9859f12&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="notify-plugins">notify-plugins&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/notify-plugins">https://github.com/yunionio/notify-plugins&lt;/a>&lt;/p>
&lt;p>1 commits to &lt;a href="https://github.com/yunionio/notify-plugins/compare/v3.4.6...v3.4.7">notify-plugins - v3.4.7&lt;/a> since this release.&lt;/p>
&lt;h3 id="features-1-1">Features (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>email:&lt;/strong> support toggle ssl (&lt;a href="https://github.com/yunionio/notify-plugins/commit/7556a4ef2ec7ce0b971e272be75ebaf7d2a8c397">7556a4e&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-operator">onecloud-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-operator">https://github.com/yunionio/onecloud-operator&lt;/a>&lt;/p>
&lt;p>2 commits to &lt;a href="https://github.com/yunionio/onecloud-operator/compare/v3.4.6...v3.4.7">onecloud-operator - v3.4.7&lt;/a> since this release.&lt;/p>
&lt;h3 id="others-2">Others (2)&lt;/h3>
&lt;ul>
&lt;li>etcd add pod anti affinity (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/874ad04c8077478e7c71bd26aa3e5f13a56ba4c8">874ad04&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>ce edition should not deploy meter (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/4403ccf4a090589de7d49cd5efae69477358cd7e">4403ccf&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="sdnagent">sdnagent&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/sdnagent">https://github.com/yunionio/sdnagent&lt;/a>&lt;/p>
&lt;p>4 commits to &lt;a href="https://github.com/yunionio/sdnagent/compare/v3.4.6...v3.4.7">sdnagent - v3.4.7&lt;/a> since this release.&lt;/p>
&lt;h3 id="flowsource-4">Flowsource (4)&lt;/h3>
&lt;ul>
&lt;li>relax constraint when mac check on and ip check off (&lt;a href="https://github.com/yunionio/sdnagen/commit/374add8d77948a60d4a437f9d7c5f1b04e5b3402">374add8&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>reword ref comments on allow_switch_vms (&lt;a href="https://github.com/yunionio/sdnagen/commit/3e170b7743393228464cf6a4e1a414af567511f4">3e170b7&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>reword ref comments on allow_router_vms (&lt;a href="https://github.com/yunionio/sdnagen/commit/eced14afed80b3896d0d6cfa3544d988f2740aab">eced14a&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>remove now unused code for dev (&lt;a href="https://github.com/yunionio/sdnagen/commit/4271b13cdded3f31af9f8e5780105b716f389b68">4271b13&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.4.6</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-6/</guid><description>
&lt;p>发布时间 2020-11-12 14:15:45&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>20 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.4.5...v3.4.6">onecloud - v3.4.6&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-9">Bug Fixes (9)&lt;/h3>
&lt;ul>
&lt;li>aliyun eip api (&lt;a href="https://github.com/yunionio/onecloud/commit/fc4460fa3981b4212ebba269f05a458ba67f1098">fc4460fa3&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>renew rds (&lt;a href="https://github.com/yunionio/onecloud/commit/39fe8b2133afc6303e3889c50bd0e3e8c937bdd2">39fe8b213&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>aws secgroup out rule is deny any (&lt;a href="https://github.com/yunionio/onecloud/commit/1ee8fd05b3c9990505b4b200947ceb0e738f17ba">1ee8fd05b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>change owner should update quota usages (&lt;a href="https://github.com/yunionio/onecloud/commit/6927652a65d3ade05edb11a5f2e59695c77e6e23">6927652a6&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>支持多内存过滤套餐 (&lt;a href="https://github.com/yunionio/onecloud/commit/e975fc67131c600fb23a5e3f45317550656d4a7b">e975fc671&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>missing column error when order by extra fields (&lt;a href="https://github.com/yunionio/onecloud/commit/c8ddd7653f3757645cbc0da1032c73721a9e21b6">c8ddd7653&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> don&amp;rsquo;t specify spec.Identity when osName is empty (&lt;a href="https://github.com/yunionio/onecloud/commit/6f60f1a48b7efb410b92b2edd33f7cb5aebc8b58">6f60f1a48&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> add device after cloning vm (&lt;a href="https://github.com/yunionio/onecloud/commit/c3b8e7bbd4a31c6b43fced933af055425a9c2047">c3b8e7bbd&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> prevent infinite recursion (&lt;a href="https://github.com/yunionio/onecloud/commit/0bbe2e759051a7cbf540b279fbf05e85d4080e65">0bbe2e759&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="code-refactoring-2">Code Refactoring (2)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>region:&lt;/strong> faster GetIImageById (&lt;a href="https://github.com/yunionio/onecloud/commit/edc651a30817c59bfafe6122ef3e8f830dafc50d">edc651a30&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> faster sync CapacityUsed for Storage (&lt;a href="https://github.com/yunionio/onecloud/commit/76b1796c7e1068be94a9564df54d462683d5153a">76b1796c7&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-1">Features (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>region:&lt;/strong> add option NoCheckOsTypeForCachedImage (&lt;a href="https://github.com/yunionio/onecloud/commit/b5201a352fa4dd7d5cb2ec8fb0200125d642dcbf">b5201a352&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="host-1">Host (1)&lt;/h3>
&lt;ul>
&lt;li>specifie bash for start guest (&lt;a href="https://github.com/yunionio/onecloud/commit/7d35397d5015f23437bf1ea0de6081f82ad98df1">7d35397d5&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-5">Others (5)&lt;/h3>
&lt;ul>
&lt;li>add success note on guest start and stop (&lt;a href="https://github.com/yunionio/onecloud/commit/ea70090f6b4b7e1662d7829e66558a7bbaec4f61">ea70090f6&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>batch user create bugifx (&lt;a href="https://github.com/yunionio/onecloud/commit/e9a4a6380e30ec7857fbfd5e9bceddda225a38ec">e9a4a6380&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>huawei create disk bugfix (&lt;a href="https://github.com/yunionio/onecloud/commit/642b1373328cc86277015e4d9844c42ba9f029b2">642b13733&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>fix:修复dns record name校验的问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/e108d17556a6a0f8bb52aacea834bf9c2ea41016">e108d1755&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;li>update vendor for jsonutils (&lt;a href="https://github.com/yunionio/onecloud/commit/aae3da8c2b4ff75607ccb3cb99f29c84fa6b095f">aae3da8c2&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="scheduler-1">Scheduler (1)&lt;/h3>
&lt;ul>
&lt;li>ignore non running guests only exclude ready status (&lt;a href="https://github.com/yunionio/onecloud/commit/827be9167e5c4984c05a45eb6f861df4991e4354">827be9167&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="usage-1">Usage (1)&lt;/h3>
&lt;ul>
&lt;li>host show isolated dev reserved memory (&lt;a href="https://github.com/yunionio/onecloud/commit/30776fc707ad300eb30fcafd2849efd95b982c5e">30776fc70&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.4.5</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-5/</guid><description>
&lt;p>发布时间 2020-11-04 19:45:53&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>18 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.4.4...v3.4.5">onecloud - v3.4.5&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-10">Bug Fixes (10)&lt;/h3>
&lt;ul>
&lt;li>add qcloud hssd (&lt;a href="https://github.com/yunionio/onecloud/commit/0c19c21efac6657f66ffb0216542c9c88f94a84a">0c19c21ef&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>save service config changes may send invalid action log (&lt;a href="https://github.com/yunionio/onecloud/commit/c8138c291b13ce5530694c2613cadfc2a011f526">c8138c291&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>fail to delete public_ip eip (&lt;a href="https://github.com/yunionio/onecloud/commit/b1e91c1c27f78c158ca4519c61c5be93f83199c3">b1e91c1c2&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>secgroup cache tenant_id (&lt;a href="https://github.com/yunionio/onecloud/commit/4cbe93163581f5a28b2a4861b041801d7c7531e7">4cbe93163&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> customize the title of the verification email based on the copyright (&lt;a href="https://github.com/yunionio/onecloud/commit/58c5514a0163cd51e76f7566e246edeaaa3ed07e">58c5514a0&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> clear dirty data of snapshotpolicydisks when start up (&lt;a href="https://github.com/yunionio/onecloud/commit/7460ea1461c7044efec7bd68635fc7ea37b505cf">7460ea146&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> detach all snapshotpolicy when realdeleting disk (&lt;a href="https://github.com/yunionio/onecloud/commit/250ad41c7b5f08776884f8ffce58ae003ecb808b">250ad41c7&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> prevent dirty data when syncing snapshot (&lt;a href="https://github.com/yunionio/onecloud/commit/a53a44cb2e1fc7cf137a787fc22f11030b368b11">a53a44cb2&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> sync automatically snapshot for external disk (&lt;a href="https://github.com/yunionio/onecloud/commit/a3f01f1330ff57b09aad8de085c98b3d71986d65">a3f01f133&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> compute NextSyncTime for snapshotpolicydisk (&lt;a href="https://github.com/yunionio/onecloud/commit/f290aa5d58c14faa9e3d58681f7b3ba2e849fd3f">f290aa5d5&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">Rain Zheng&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="informer-1">Informer (1)&lt;/h3>
&lt;ul>
&lt;li>ignore outside context cancel when worker run (&lt;a href="https://github.com/yunionio/onecloud/commit/a0f495db937d2d9027e3166ae86f46b0a749323c">a0f495db9&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="optimized-1">Optimized (1)&lt;/h3>
&lt;ul>
&lt;li>rds zone sync (&lt;a href="https://github.com/yunionio/onecloud/commit/83d0a3ce0c74c2de4f0a194427f3eb0b75881f98">83d0a3ce0&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-6">Others (6)&lt;/h3>
&lt;ul>
&lt;li>fix:域名正则校验dnsrecord name，同步中文域名取punycode (&lt;a href="https://github.com/yunionio/onecloud/commit/6bfff8b70df53215df3d15d96a3c6a0437183931">6bfff8b70&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;li>lbcert cache delete bugfix (&lt;a href="https://github.com/yunionio/onecloud/commit/41dd48e8fafae95a3001f155bd9d10b306ac7d78">41dd48e8f&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>aws create bugfix (&lt;a href="https://github.com/yunionio/onecloud/commit/3ceb0e2dc13f4afdb52b5db5915d2c1fe8357154">3ceb0e2dc&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>fix stream disk on add disk from snapshot (&lt;a href="https://github.com/yunionio/onecloud/commit/82f5b9ccb0f0885c259e98b58126e3651da1b08d">82f5b9ccb&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>qcloud elb cert duplicate fix (&lt;a href="https://github.com/yunionio/onecloud/commit/8f2f78b4ed97f62b24ff315187bb4f25c47f1d71">8f2f78b4e&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>update vendor (&lt;a href="https://github.com/yunionio/onecloud/commit/52a72952c90289f8ea5d9af3240e3b6549e33581">52a72952c&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="notify-plugins">notify-plugins&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/notify-plugins">https://github.com/yunionio/notify-plugins&lt;/a>&lt;/p>
&lt;p>1 commits to &lt;a href="https://github.com/yunionio/notify-plugins/compare/v3.4.4...v3.4.5">notify-plugins - v3.4.5&lt;/a> since this release.&lt;/p>
&lt;h3 id="features-1">Features (1)&lt;/h3>
&lt;ul>
&lt;li>add httpclient timeout for webhook (&lt;a href="https://github.com/yunionio/notify-plugins/commit/234145996084cfcefecefded5d4719b1a3b97a49">2341459&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-operator">onecloud-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-operator">https://github.com/yunionio/onecloud-operator&lt;/a>&lt;/p>
&lt;p>3 commits to &lt;a href="https://github.com/yunionio/onecloud-operator/compare/v3.4.4...v3.4.5">onecloud-operator - v3.4.5&lt;/a> since this release.&lt;/p>
&lt;h3 id="make-1">Make (1)&lt;/h3>
&lt;ul>
&lt;li>RELEASE_BRANCH=release/3.4 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/5d5913d1616b59b0f590380db4803cd14f782150">5d5913d&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-2">Others (2)&lt;/h3>
&lt;ul>
&lt;li>限制 client_body_timeout 时长，预防慢攻击 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/adf6baf5b4b5e1fba97888d0356abf2eda5f58ae">adf6baf&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>限制 client_header_timeout 时长，预防慢攻击 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/22a92e80f9d70070bd4cdb36d103456ac7206fb0">22a92e8&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.4.4</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-4/</guid><description>
&lt;p>发布时间 2020-10-28 18:20:55&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>70 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.4.3...v3.4.4">onecloud - v3.4.4&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-29">Bug Fixes (29)&lt;/h3>
&lt;ul>
&lt;li>cancel pending-delete should increase resource quota usages (&lt;a href="https://github.com/yunionio/onecloud/commit/2a1a640f6ba121c0c666cc94ffb6eaa56c2adbc0">2a1a640f6&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>missing authenticate action log for user web login (&lt;a href="https://github.com/yunionio/onecloud/commit/ecbe76e9ff93ed63fd455efb6cd6161f7ef55246">ecbe76e9f&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>add rds cpu and memory usage (&lt;a href="https://github.com/yunionio/onecloud/commit/16d13941cecea5ab47931fe6dd6a93554b4e7338">16d13941c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>set secgroup status (&lt;a href="https://github.com/yunionio/onecloud/commit/44046f286169a443c316140ca379940e5b82de1a">44046f286&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid sync project panic (&lt;a href="https://github.com/yunionio/onecloud/commit/95f7600b67588655006947a8c3608340f1ca1df8">95f7600b6&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>use correct worker (&lt;a href="https://github.com/yunionio/onecloud/commit/062301f54a99742f4044908464d2de5d33822a46">062301f54&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid delete public ip when sync eip list (&lt;a href="https://github.com/yunionio/onecloud/commit/a851e01330e63c5ac94acddbae342642a772a4da">a851e0133&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>server usage status not correct (&lt;a href="https://github.com/yunionio/onecloud/commit/90d649aef91602b6a7b6a22755203260dccd3665">90d649aef&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>do not lock guest after lock eip, to prevent possible dead lock (&lt;a href="https://github.com/yunionio/onecloud/commit/d774581a236a01b8064ad7ae87a3099d6f27082e">d774581a2&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>remote update metadata may cause metadata update loop (&lt;a href="https://github.com/yunionio/onecloud/commit/62f5355b11b8d807b6c1626728e7ad6bd38c30e1">62f5355b1&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>don&amp;rsquo;t update NextSyncTime when snapshots that should be added has not (&lt;a href="https://github.com/yunionio/onecloud/commit/0ba8cb7fbd543fc4e00e9cfec2a1ca91b41c619a">0ba8cb7fb&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>reduce change config logs (&lt;a href="https://github.com/yunionio/onecloud/commit/9b8758e19126f7a443c5890d585f6a57d0ca9c47">9b8758e19&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>新增google存储类型 (&lt;a href="https://github.com/yunionio/onecloud/commit/f77bcd3bbf59bc00f289e17b7a8294cd95610817">f77bcd3bb&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免冲掉设置的到期释放时间 (&lt;a href="https://github.com/yunionio/onecloud/commit/8f3cb9cdbb38e0aded203e73b5069271ac824404">8f3cb9cdb&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>add aliyun new region (&lt;a href="https://github.com/yunionio/onecloud/commit/22349276d9f8fadbf15bb9140c0b234e025a67e2">22349276d&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>missing authenticate action log for user web login (&lt;a href="https://github.com/yunionio/onecloud/commit/a92a0e2d050a65f4712e4d83bcc3a38329d0079a">a92a0e2d0&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>monitor commonalert not detach alert resource (&lt;a href="https://github.com/yunionio/onecloud/commit/d99d93d04656b67879c1770b4dd0fa4715ced328">d99d93d04&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>sync dns records after sync vpcs (&lt;a href="https://github.com/yunionio/onecloud/commit/11f8e4f71fda3e132389b5ef4a670459b2f27f70">11f8e4f71&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>compute:&lt;/strong> filter cachedimage with health storage (&lt;a href="https://github.com/yunionio/onecloud/commit/2a1bbfd574faca6ceb8fc1320f5bdb54774300b0">2a1bbfd57&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> no callback in uploadHandler (&lt;a href="https://github.com/yunionio/onecloud/commit/57dad6281aa368b8a2f29407551dd6c0b26353dc">57dad6281&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> use correct device index (&lt;a href="https://github.com/yunionio/onecloud/commit/d3964bf0d11562d0416fb4fe5c8ec0c672205e71">d3964bf0d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> resize root disk after cloning vm (&lt;a href="https://github.com/yunionio/onecloud/commit/8f3b8c7ff18504735f3938c722972005e921f59f">8f3b8c7ff&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> filter vmdk item in lease.info (&lt;a href="https://github.com/yunionio/onecloud/commit/d31802c87b49f71afd9549a9c6d977ca56ad9ebc">d31802c87&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>glance:&lt;/strong> allow public and private operations of guestimage (&lt;a href="https://github.com/yunionio/onecloud/commit/3fae388db50b45977624d18beb85e27fec04c356">3fae388db&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> add AllOkContactTypes in where permanently enabled and verified ContactType (&lt;a href="https://github.com/yunionio/onecloud/commit/f367f1abefbdc44888b3a04635995c3d84ec4d74">f367f1abe&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> compute binded disk count when deleting snapshotpolicy (&lt;a href="https://github.com/yunionio/onecloud/commit/6f1417d268fd4a87ed563089ea06cb2f4bd3f464">6f1417d26&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> roll back the optimization of cachedimage list (&lt;a href="https://github.com/yunionio/onecloud/commit/be5a6a93ccac459cb4cef87ea37850a7163cb170">be5a6a93c&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> add suffix &amp;lsquo;display&amp;rsquo; for time_points and repeat_weekdays (&lt;a href="https://github.com/yunionio/onecloud/commit/bbfb9db90aabeb286c912016f6b3cde17f53deff">bbfb9db90&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> init NextSyncTimeiwhen create snapshotpolicydisks (&lt;a href="https://github.com/yunionio/onecloud/commit/93bb4022f21b882b6b16f9e016cb09c95a68ce22">93bb4022f&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="bugfix-2">Bugfix (2)&lt;/h3>
&lt;ul>
&lt;li>commonalert (&lt;a href="https://github.com/yunionio/onecloud/commit/8a0eeb7d67c03aca29d1977ea5bc3f3c8a43f597">8a0eeb7d6&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>qcloud pull metric (&lt;a href="https://github.com/yunionio/onecloud/commit/06db7339e4674c30ddb495148da437b7417a1f51">06db7339e&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="cloudcommon-3">Cloudcommon (3)&lt;/h3>
&lt;ul>
&lt;li>db: GET: i18n for result of get property calls (&lt;a href="https://github.com/yunionio/onecloud/commit/5d0fd14cb3d4604b6504dcd8b04cc1d9cc743364">5d0fd14cb&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>db: add man.GetI18N (&lt;a href="https://github.com/yunionio/onecloud/commit/cd123e007d9075244e82c7a213f6b134a122a3b2">cd123e007&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>db: modelbase: distinct-field: readability change (&lt;a href="https://github.com/yunionio/onecloud/commit/91736710baf8705a551b666394803ccf8cab5f9b">91736710b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="code-refactoring-3">Code Refactoring (3)&lt;/h3>
&lt;ul>
&lt;li>find the most suitable storage (&lt;a href="https://github.com/yunionio/onecloud/commit/7a2c2b80477e9515736a424fba3378e7cd8972bc">7a2c2b804&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> faster list for cachedimage (&lt;a href="https://github.com/yunionio/onecloud/commit/c45658686004ae1c63b33d1b8fb09d107234a214">c45658686&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> faster list for cachedimage (&lt;a href="https://github.com/yunionio/onecloud/commit/b0823a09bb841fb9115025b5248567d39e1c06c9">b0823a09b&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="feature-2">Feature (2)&lt;/h3>
&lt;ul>
&lt;li>remote update qcloud instance metadata and name (&lt;a href="https://github.com/yunionio/onecloud/commit/a764a6469630e334c12f3e334c37b12a49dc5fcb">a764a6469&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>qcloud create VM with tags (&lt;a href="https://github.com/yunionio/onecloud/commit/f05a56aadd0dd4bdb956e9bea3a5b4c6492d19cc">f05a56aad&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-10">Features (10)&lt;/h3>
&lt;ul>
&lt;li>use details data to cover obj data in FetchCustomizeColumns (&lt;a href="https://github.com/yunionio/onecloud/commit/37c14d756d7303183f58376cb22aee8dfa94a653">37c14d756&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>add a retry mechanism to AutoSyncExtDiskSnapshot (&lt;a href="https://github.com/yunionio/onecloud/commit/93ac3260a1068c125a6775f5164b863ef1db58aa">93ac3260a&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>add valid filter for cachedimage list (&lt;a href="https://github.com/yunionio/onecloud/commit/d454b0a79283c1db29453386777dfd232a639195">d454b0a79&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>add NotifyWebhook in notifyclient (&lt;a href="https://github.com/yunionio/onecloud/commit/0fd6481e4d64d253762f5233862a4c19849ad7cb">0fd6481e4&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>support lock storage from selected cachedimage (&lt;a href="https://github.com/yunionio/onecloud/commit/5a7876ae47e1c29d840a2390a12755f67c5fdf43">5a7876ae4&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxiagent:&lt;/strong> try to customize vm if deployfs failed (&lt;a href="https://github.com/yunionio/onecloud/commit/a35a6f3c11fd014761ed2448ffe927949943ad01">a35a6f3c1&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> add IntelliNotify (&lt;a href="https://github.com/yunionio/onecloud/commit/5306add70a613ff1733ac2557d55666c7db06daa">5306add70&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> allow empty receivers for robot or webhook contact type (&lt;a href="https://github.com/yunionio/onecloud/commit/d799a71fdbe7b949929a6f36fa618f942a79fe0d">d799a71fd&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> support webhook contact type (&lt;a href="https://github.com/yunionio/onecloud/commit/436f1e5cb94a8473eeeb73c66f4e286bd9f349fd">436f1e5cb&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> call NotifyWebhook in the life cycle of guests (&lt;a href="https://github.com/yunionio/onecloud/commit/9dee4c1b907ad131dc021c9303859db2f755d0e1">9dee4c1b9&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="host-1">Host (1)&lt;/h3>
&lt;ul>
&lt;li>fix sync storage info duration' (&lt;a href="https://github.com/yunionio/onecloud/commit/7a9b491d134281287917258ed0cd8f506d1666e5">7a9b491d1&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="lockman-1">Lockman (1)&lt;/h3>
&lt;ul>
&lt;li>test: add prefix setting (&lt;a href="https://github.com/yunionio/onecloud/commit/f7f7c7be81145dcf6db712aaa06b88d76a31cfa0">f7f7c7be8&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="logger-2">Logger (2)&lt;/h3>
&lt;ul>
&lt;li>actionlog: i18n for distinct-field (&lt;a href="https://github.com/yunionio/onecloud/commit/0964c6ad82865f001a77f323f196916a7a8335ae">0964c6ad8&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>actionlog: readability change (&lt;a href="https://github.com/yunionio/onecloud/commit/c2589e7352fdb5b1f34a754a5d2f04af97bb88c8">c2589e735&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="monitor-2">Monitor (2)&lt;/h3>
&lt;ul>
&lt;li>set default influxdb datasource by endpoint type (&lt;a href="https://github.com/yunionio/onecloud/commit/b43f8b3fac7b996f0ec72d2d1e8dac24a66e80a0">b43f8b3fa&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>add alert resource (&lt;a href="https://github.com/yunionio/onecloud/commit/af11737e79fac7fea2d069c9e7f0659ff137ec24">af11737e7&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-15">Others (15)&lt;/h3>
&lt;ul>
&lt;li>commalertUpdateInput increat param: (&lt;a href="https://github.com/yunionio/onecloud/commit/002a2af2729a7574ed8e74d1277aa7fbf9a72868">002a2af27&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix on stream disk complete snapshots refcount not update (&lt;a href="https://github.com/yunionio/onecloud/commit/8e5b74a3f6ec4c8ce9444a7ed7a0e29c035e6f4b">8e5b74a3f&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>check disk is in reset before delete snapshot (&lt;a href="https://github.com/yunionio/onecloud/commit/d78068d43a4cd0d81cfaa5bc9afd86135c51f43a">d78068d43&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>bugfix: (&lt;a href="https://github.com/yunionio/onecloud/commit/e7674116e19a9edaea9e526b865c5e21a01e7360">e7674116e&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>host increase cpu mem max size (&lt;a href="https://github.com/yunionio/onecloud/commit/a4b1d3952da3f30caea8574b218038f8b94365ef">a4b1d3952&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix:get all project dns resource (&lt;a href="https://github.com/yunionio/onecloud/commit/66c81ee54858a89a928224741cdb7c78e194ba49">66c81ee54&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;li>fix informer backend (&lt;a href="https://github.com/yunionio/onecloud/commit/d6a9b5dac2f919a7ff8e7c9703b25cf19f555071">d6a9b5dac&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix fetch customize columns (&lt;a href="https://github.com/yunionio/onecloud/commit/f706d59ac5aa9040ecb112de8aaea66630596630">f706d59ac&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>lbcert delete bugfix (&lt;a href="https://github.com/yunionio/onecloud/commit/7da0a67af58a4ac06d813331780b36cc9bce5fd3">7da0a67af&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>remove try set informer backend (&lt;a href="https://github.com/yunionio/onecloud/commit/15bd6bacd6732cf39ebb235a84ebc9fbe2843972">15bd6bacd&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>telegraf-raid-plugin: update raid state to lower case (&lt;a href="https://github.com/yunionio/onecloud/commit/6706c39f85687d243e5a4a7a28beebd9dcd1838c">6706c39f8&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>keystone init etcd backend (&lt;a href="https://github.com/yunionio/onecloud/commit/8ce183eaf599dbafc05a911e4506f70093e845fc">8ce183eaf&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>.circleci: build: make with parallel level 2 (&lt;a href="https://github.com/yunionio/onecloud/commit/3aadaf15b7df28c2aec5efbd148822675f2d6d55">3aadaf15b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>add aliyun finance environment (&lt;a href="https://github.com/yunionio/onecloud/commit/a9c44ed3049143b737404a9ae8329050a831adc3">a9c44ed30&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>telegraf raid plugin (&lt;a href="https://github.com/yunionio/onecloud/commit/8b2680ed563633a5404fa5d9b4dcc5a18e8b1d14">8b2680ed5&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="notify-plugins">notify-plugins&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/notify-plugins">https://github.com/yunionio/notify-plugins&lt;/a>&lt;/p>
&lt;p>4 commits to &lt;a href="https://github.com/yunionio/notify-plugins/compare/v3.4.3...v3.4.4">notify-plugins - v3.4.4&lt;/a> since this release.&lt;/p>
&lt;h3 id="docker_push-1">Docker_push (1)&lt;/h3>
&lt;ul>
&lt;li>amd64 just use build_process (&lt;a href="https://github.com/yunionio/notify-plugins/commit/d4bbb03853d2317bcb442a8da0f3ef168de931c5">d4bbb03&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-2">Features (2)&lt;/h3>
&lt;ul>
&lt;li>add webhook robot(custom robot) (&lt;a href="https://github.com/yunionio/notify-plugins/commit/06bde6a56d2781c83b4ff8981ce4cd5498c99ca7">06bde6a&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>support multi webhooks config for robot (&lt;a href="https://github.com/yunionio/notify-plugins/commit/52669eb7e4e132c4fcb0e216529f8adbec5bbe15">52669eb&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-1">Others (1)&lt;/h3>
&lt;ul>
&lt;li>增加调试开关 (&lt;a href="https://github.com/yunionio/notify-plugins/commit/ab97c2ed859beb25e645c573abbd0d81e21f041f">ab97c2e&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-operator">onecloud-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-operator">https://github.com/yunionio/onecloud-operator&lt;/a>&lt;/p>
&lt;p>9 commits to &lt;a href="https://github.com/yunionio/onecloud-operator/compare/v3.4.3...v3.4.4">onecloud-operator - v3.4.4&lt;/a> since this release.&lt;/p>
&lt;h3 id="features-1">Features (1)&lt;/h3>
&lt;ul>
&lt;li>add webhook plugin for notify (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/e8cedb1ebd2c86a0661f9cf593a20d3588e15690">e8cedb1&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="monitor-2-1">Monitor (2)&lt;/h3>
&lt;ul>
&lt;li>alert for host_raid adapter should &amp;gt;= 0 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/dc520301725c4e207f29e2b744b8288d62a31b7e">dc52030&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>inject smart_device and host_raid alert rule (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/fee4e8a4d6e6df2d8700be620101ce23531ef1da">fee4e8a&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-6">Others (6)&lt;/h3>
&lt;ul>
&lt;li>更新 nginx 配置以防 dos 攻击 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/e1c8023f9a7e45672eada68c2161a0bd08a994b7">e1c8023&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>modify commonalert init policy : (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/c446862d7add2475ea14a133f215db5bcb71457e">c446862&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>bugfix: (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/5b4e57f375962922a9ae88e7868015f445b0c3ed">5b4e57f&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>make mod (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/8afc21f3d8aaf752a3650b69d2fd6b5c94a58707">8afc21f&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>telegraf add disk plugin (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/face8be831824adae1ed63d2b745729bac76e25c">face8be&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>set image default policy to if not present (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/96aaea711dad5ab304061977b5c4d61a94f53063">96aaea7&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-service-operator">onecloud-service-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-service-operator">https://github.com/yunionio/onecloud-service-operator&lt;/a>&lt;/p>
&lt;p>1 commits to &lt;a href="https://github.com/yunionio/onecloud-service-operator/compare/v3.4.3...v3.4.4">onecloud-service-operator - v3.4.4&lt;/a> since this release.&lt;/p>
&lt;h3 id="features-1-1">Features (1)&lt;/h3>
&lt;ul>
&lt;li>keep cloudresource when resource in k8s is invalid (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/68a1e4826486d5d3efc23b083f4ff7e06535768a">68a1e48&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.4.3</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-3/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-3/</guid><description>
&lt;p>发布时间 2020-10-16 17:58:13&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>8 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.4.2...v3.4.3">onecloud - v3.4.3&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-4">Bug Fixes (4)&lt;/h3>
&lt;ul>
&lt;li>hostname for instance (&lt;a href="https://github.com/yunionio/onecloud/commit/950a2c29fbbb8a0643c401b497936836fc880831">950a2c29f&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>get images distinct field (&lt;a href="https://github.com/yunionio/onecloud/commit/d298c75448cb0de58ba21eecb851cec4f5346ef0">d298c7544&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>resolve with_meta filter conflict (&lt;a href="https://github.com/yunionio/onecloud/commit/9c9cb17d329db926b28e5a1106bc3c475a152cbb">9c9cb17d3&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免并发同步安全组导致规则混乱 (&lt;a href="https://github.com/yunionio/onecloud/commit/4b2d67de4238d56f62d4daf225c23720bf3e1f2a">4b2d67de4&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="feature-1">Feature (1)&lt;/h3>
&lt;ul>
&lt;li>filter storages by image (&lt;a href="https://github.com/yunionio/onecloud/commit/45e092bd2db349dfebfb486bf4631bcdc7357689">45e092bd2&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-1">Features (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>esxi:&lt;/strong> do not specify portkey in NewVNIC (&lt;a href="https://github.com/yunionio/onecloud/commit/cc96c01c00c34d3dc3c7c060e770bd40133b2dc0">cc96c01c0&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-1">Others (1)&lt;/h3>
&lt;ul>
&lt;li>remove alpine build cache before make image (&lt;a href="https://github.com/yunionio/onecloud/commit/28cb75f41b87d054e09d5f5868df1942845389ce">28cb75f41&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="stringutils2-1">Stringutils2 (1)&lt;/h3>
&lt;ul>
&lt;li>add RemoveUtf8Strings func (&lt;a href="https://github.com/yunionio/onecloud/commit/64593fc882b076773720e4e605b75e8011933296">64593fc88&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.4.2</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-2/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-2/</guid><description>
&lt;p>发布时间 2020-10-15 20:07:38&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>12 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.4.1...v3.4.2">onecloud - v3.4.2&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-8">Bug Fixes (8)&lt;/h3>
&lt;ul>
&lt;li>allwo filter resource by with-meta and with-user-meta filter (&lt;a href="https://github.com/yunionio/onecloud/commit/ff2b7eb3450c19714d02fe2948cf9b95ce0ef5f9">ff2b7eb34&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>support filter rds sku by provider (&lt;a href="https://github.com/yunionio/onecloud/commit/7b5d822373f514b7e03b725ea043259a72ae742a">7b5d82237&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>filter project role with system=true (&lt;a href="https://github.com/yunionio/onecloud/commit/8042b9430cc5b43b367c9e550fbe668d4a4465ca">8042b9430&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>filter role assignments by project domains id or name (&lt;a href="https://github.com/yunionio/onecloud/commit/d1cbaead099d3e52d1ad8815f8d02e80fc8772c4">d1cbaead0&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>use new api (&lt;a href="https://github.com/yunionio/onecloud/commit/1768d1e7db5954513eebb8755efa6a457416f797">1768d1e7d&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>support fake tempalte when searching template vm (&lt;a href="https://github.com/yunionio/onecloud/commit/c7d6bb7811dd43cc3a46c2b3cfe3fd0443e61916">c7d6bb781&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>优化安全组规则同步 (&lt;a href="https://github.com/yunionio/onecloud/commit/d2d2934e803a4e65df43ff7a78989aa94d397d7d">d2d2934e8&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxiagent:&lt;/strong> check whether regexp is nil (&lt;a href="https://github.com/yunionio/onecloud/commit/2076a75113296bc2e7510772eedea46afb91cf19">2076a7511&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-3">Features (3)&lt;/h3>
&lt;ul>
&lt;li>add &amp;lsquo;vlan_id&amp;rsquo; param when creating network (&lt;a href="https://github.com/yunionio/onecloud/commit/ff34e938628e40b5c7bd14f5cb99f4dd3eeb7543">ff34e9386&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>change templateid as &lt;providerId>/&lt;uuid> in esxi (&lt;a href="https://github.com/yunionio/onecloud/commit/a891d1d876da6fb44e7abbe23dab8cd9268e6b69">a891d1d87&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxiagent:&lt;/strong> keep data disks when cloning vm (&lt;a href="https://github.com/yunionio/onecloud/commit/5d0d6d960b4be750d68d3c4d1f503f0841a2f091">5d0d6d960&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-1">Others (1)&lt;/h3>
&lt;ul>
&lt;li>fix:openstack lb 后端ip无法映射到主机的异常处理 (&lt;a href="https://github.com/yunionio/onecloud/commit/cf89e8a23a47e32e4ce7348d01902dfcf07b0360">cf89e8a23&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.4.1</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-1/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-1/</guid><description>
&lt;p>发布时间 2020-10-14 18:03:02&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>48 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.4.0...v3.4.1">onecloud - v3.4.1&lt;/a> since this release.&lt;/p>
&lt;h3 id="baremetal-1">Baremetal (1)&lt;/h3>
&lt;ul>
&lt;li>fix pxe filter network by guest_dhcp (&lt;a href="https://github.com/yunionio/onecloud/commit/d0d3d8e333128f1d81849a0f69fe04a6f48e6387">d0d3d8e33&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="bug-fixes-22">Bug Fixes (22)&lt;/h3>
&lt;ul>
&lt;li>qcloud set hostname for instance (&lt;a href="https://github.com/yunionio/onecloud/commit/5b79ba560703da088c4566db7638cdef8237fb38">5b79ba560&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>support public ip create (&lt;a href="https://github.com/yunionio/onecloud/commit/2a210407a59e7ef90485683a75063a6aaa66b7fa">2a210407a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>支持带宽包用户 (&lt;a href="https://github.com/yunionio/onecloud/commit/84e8e4e6c8e4167eaea77151321c205bb7f97516">84e8e4e6c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>trans google new region name (&lt;a href="https://github.com/yunionio/onecloud/commit/3fe15d2675017d190f59b31729ecf78ae97afa7b">3fe15d267&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>qcloud eip with bandwidth attr (&lt;a href="https://github.com/yunionio/onecloud/commit/d574a823ba5aa3b733d4fdc78654cdbcfd4a89d1">d574a823b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid qcloud secgroup cache name not sync (&lt;a href="https://github.com/yunionio/onecloud/commit/e8d737ff6c91b50d931c3250d87d5484026b4aba">e8d737ff6&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>server name auto index should start from 1 (&lt;a href="https://github.com/yunionio/onecloud/commit/7ce0d7b44b52cd123910111a0696ccdcbce5b0f0">7ce0d7b44&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>qcloud instance with max bandwidth (&lt;a href="https://github.com/yunionio/onecloud/commit/715db28e3ef78e98ddaaf178b386b6232b17b1e3">715db28e3&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>format errors that block make test (&lt;a href="https://github.com/yunionio/onecloud/commit/152ea54f369e4b5646eed302f3a8a781d1d92ac2">152ea54f3&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>project_id in resource details not correct (&lt;a href="https://github.com/yunionio/onecloud/commit/d2aacafa4c6257c4a6d021e97d134abaf1bfb1de">d2aacafa4&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>ldap sync not update user&amp;rsquo;s phone and email (&lt;a href="https://github.com/yunionio/onecloud/commit/1aa82ae950e70624380668d5e79ea4c1aa1bd88f">1aa82ae95&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>not clean pending domain usage (&lt;a href="https://github.com/yunionio/onecloud/commit/488e7e56a682b0bd2c1f1de35b103e88e69f2e68">488e7e56a&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>validate secgroup purge condition (&lt;a href="https://github.com/yunionio/onecloud/commit/9fbd4f05996d97850ea9ab6ba9279cc0dc0249ef">9fbd4f059&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid slice out of bounds (&lt;a href="https://github.com/yunionio/onecloud/commit/078b1d635a35bc23c4628ba6ec39a5d1f7ede719">078b1d635&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>filter cached images with host schedtag (&lt;a href="https://github.com/yunionio/onecloud/commit/49887e540ac710e9f1fc520aa8bb84bb7121fcd1">49887e540&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>sync huawei bucket project info (&lt;a href="https://github.com/yunionio/onecloud/commit/cb36572c1c72f9f06efaee408673c974308999fa">cb36572c1&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>error code of external bucket not found error should be 404 (&lt;a href="https://github.com/yunionio/onecloud/commit/76f794d1a2805d65d9ff178954d65b8308bd5289">76f794d1a&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> check whether some fields of vm are nil (&lt;a href="https://github.com/yunionio/onecloud/commit/27bd564d2dcfe3c760bb39a17b6c97169749effb">27bd564d2&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> check nil value when NewVirtualMachine (&lt;a href="https://github.com/yunionio/onecloud/commit/1bc4b3cb90644ae16586248e5eb111b56dc68c05">1bc4b3cb9&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> filter linkLocalAddress (&lt;a href="https://github.com/yunionio/onecloud/commit/b8e0599e3fbb3a9cf36deb2b4396fa50dbfff96b">b8e0599e3&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> search template from whole vCenter (&lt;a href="https://github.com/yunionio/onecloud/commit/2259fe1195ca638ba82ffa70b29ae3c2f4be7889">2259fe119&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> use system disk of template only when cloning vm (&lt;a href="https://github.com/yunionio/onecloud/commit/d16affc9a6e95e1f6d14d091846cabe5daf9edca">d16affc9a&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="eip-2">Eip (2)&lt;/h3>
&lt;ul>
&lt;li>NewEipForVMOnHost: add opslog (&lt;a href="https://github.com/yunionio/onecloud/commit/896bec8f43c539df59ad4b9f24a45b11dd1d7bfe">896bec8f4&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>construct a pointer type (&lt;a href="https://github.com/yunionio/onecloud/commit/a8426482bf4679a4e0b09c7f480d693e551e2f1f">a8426482b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="feature-1">Feature (1)&lt;/h3>
&lt;ul>
&lt;li>qcloud create VM with tags (&lt;a href="https://github.com/yunionio/onecloud/commit/ef9b64990eed1f902cbdd142f4eb85fc771a2cc3">ef9b64990&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-5">Features (5)&lt;/h3>
&lt;ul>
&lt;li>add vlanId for suggested network (&lt;a href="https://github.com/yunionio/onecloud/commit/7edcd151e3d500840eaa051429341171d36b94a2">7edcd151e&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>filter esxi ip by CIDR (&lt;a href="https://github.com/yunionio/onecloud/commit/552ce3b2ea27706d6d23a9cad76fc6e5f66db351">552ce3b2e&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>add &amp;lsquo;ip-list&amp;rsquo; for esxicli (&lt;a href="https://github.com/yunionio/onecloud/commit/8528d79817e30a067c0f85cfc4da70b9f9a21bdb">8528d7981&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> support fake template vm via regex filter (&lt;a href="https://github.com/yunionio/onecloud/commit/df90d99bc5c26b524633f26338314a7ef7e665eb">df90d99bc&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> make address recommendations more precise (&lt;a href="https://github.com/yunionio/onecloud/commit/91c852676a506e5d5602f697e2b6bc69e3569d82">91c852676&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="hotfix-1">Hotfix (1)&lt;/h3>
&lt;ul>
&lt;li>
&lt;ol>
&lt;li>allow merge networks without continuous addresses 2. filter guest_ip_start and guest_ip_end with contains operator (&lt;a href="https://github.com/yunionio/onecloud/commit/adccad34872144cf5b7b5e59f7ca196930bd5565">adccad348&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;h3 id="others-13">Others (13)&lt;/h3>
&lt;ul>
&lt;li>replace NewFloat by NewFloat64 and NewFloat32 (&lt;a href="https://github.com/yunionio/onecloud/commit/f19fe2178c44ef6bed6ac2603c1849ae72d48898">f19fe2178&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>make mode (&lt;a href="https://github.com/yunionio/onecloud/commit/2265c9422f0f5a61a1643190aeaa72fbc5fc4f37">2265c9422&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix:aliyun jsonRequest 增加i/o timeout retry (&lt;a href="https://github.com/yunionio/onecloud/commit/d72081770e1e32021198192e90aa9981c5696c3c">d72081770&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;li>fix host-deployer base image (&lt;a href="https://github.com/yunionio/onecloud/commit/407251975eba8f615b06d165a91f7d8babc7e216">407251975&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>在 docker push 脚本里创建_output 目录，以便容错 (&lt;a href="https://github.com/yunionio/onecloud/commit/b7fd879e44756f80ffb323edc6fcca6eb3eee90a">b7fd879e4&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>在 docker push 脚本里创建_output 目录，以便容错 (&lt;a href="https://github.com/yunionio/onecloud/commit/7efb85ba042bfe10d433ebb741d252b2ac41ba6f">7efb85ba0&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>resolve conflict (&lt;a href="https://github.com/yunionio/onecloud/commit/d7316b26aa6b19169a7dbda2bb2ddedb429c74cf">d7316b26a&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>genreate api models (&lt;a href="https://github.com/yunionio/onecloud/commit/dee1aa26dc367b1bf65bdfa6e1f34ee38549f4cc">dee1aa26d&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>add interface freeze virtual resource (&lt;a href="https://github.com/yunionio/onecloud/commit/c973bf16321ab35f34e3c8d0d6ebee013d0b0d06">c973bf163&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>Add web url to alarm template (&lt;a href="https://github.com/yunionio/onecloud/commit/58d52d947ca8d5696efd5c6f3a75c81b1b05e07d">58d52d947&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>bugfix:scoperesource FilterByOwner (&lt;a href="https://github.com/yunionio/onecloud/commit/c5ef564d357def027675bccee598d973b8b1d800">c5ef564d3&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>remove aws lbbg cache metedata (&lt;a href="https://github.com/yunionio/onecloud/commit/e82cf184f11271a8994d647dfc833824a8e69cb7">e82cf184f&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>modify suggest rule cli (&lt;a href="https://github.com/yunionio/onecloud/commit/bba2cf23fdea02baf9b37a74c25a3d431f533b11">bba2cf23f&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vpcagent-1">Vpcagent (1)&lt;/h3>
&lt;ul>
&lt;li>ovn: increase dhcp lease, renew, rebind time (&lt;a href="https://github.com/yunionio/onecloud/commit/e9415ae49e994d28b21b3bb0b771915a98bfe31b">e9415ae49&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="webconsole-2">Webconsole (2)&lt;/h3>
&lt;ul>
&lt;li>ssh: add keyboard-interactive as an option (&lt;a href="https://github.com/yunionio/onecloud/commit/63b0d0c071d419c4bd01f0f6bc7463682e04136c">63b0d0c07&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ssh: each argument on its own line (&lt;a href="https://github.com/yunionio/onecloud/commit/39a45229afccc0b3d78825d730434121ac04987d">39a45229a&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-operator">onecloud-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-operator">https://github.com/yunionio/onecloud-operator&lt;/a>&lt;/p>
&lt;p>2 commits to &lt;a href="https://github.com/yunionio/onecloud-operator/compare/v3.4.0...v3.4.1">onecloud-operator - v3.4.1&lt;/a> since this release.&lt;/p>
&lt;h3 id="others-1">Others (1)&lt;/h3>
&lt;ul>
&lt;li>not create notice (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/a834a78e6899d8bbc43c4f7638914689f0e3eceb">a834a78&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="regiondns-1">Regiondns (1)&lt;/h3>
&lt;ul>
&lt;li>configmap: quash trailing spaces (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/746963fc0749ba1a881f16f5834fdc197e2b0cd2">746963f&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.4.0</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-0/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.4/3-4-0/</guid><description>
&lt;p>发布时间 2020-09-30 16:43:35&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>607 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.3.8...v3.4.0">onecloud - v3.4.0&lt;/a> since this release.&lt;/p>
&lt;h3 id="add-3">Add (3)&lt;/h3>
&lt;ul>
&lt;li>openstack loadbalancer (&lt;a href="https://github.com/yunionio/onecloud/issues/7497">#7497&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/eb56fcf7bc012adc3bc66c4f5243ef75b7e27801">eb56fcf7b&lt;/a>, &lt;a href="mailto:1667402135@qq.com">lvyangyang&lt;/a>)&lt;/li>
&lt;li>region/sync openstack routetables (&lt;a href="https://github.com/yunionio/onecloud/commit/eac0a797b6dfd71a3886c23e14d89994be0bf56d">eac0a797b&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;li>region/openstack 迁移接入 (&lt;a href="https://github.com/yunionio/onecloud/commit/41a4188bbdb76611e3a6224b7491f44cd870dac2">41a4188bb&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="ansibleserver-1">Ansibleserver (1)&lt;/h3>
&lt;ul>
&lt;li>register metadata manager (&lt;a href="https://github.com/yunionio/onecloud/commit/1ae8c978617c23be80143f60d3b71c412e11fe24">1ae8c9786&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="appsrv-1">Appsrv (1)&lt;/h3>
&lt;ul>
&lt;li>quash low-value debug log lines (&lt;a href="https://github.com/yunionio/onecloud/commit/7a3f241450abb47cb1f0f9fa5a6182b0abaec57c">7a3f24145&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="baremetal-2">Baremetal (2)&lt;/h3>
&lt;ul>
&lt;li>fix hpssactl split last LV size out of limit (&lt;a href="https://github.com/yunionio/onecloud/issues/7426">#7426&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/b1603153e8fa7f9848c27234f0466f5a45874f4b">b1603153e&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>set zone when enable netif (&lt;a href="https://github.com/yunionio/onecloud/commit/c274331035ff2ed2078f049e848f0847e26f13c1">c27433103&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="bug-fixes-279">Bug Fixes (279)&lt;/h3>
&lt;ul>
&lt;li>允许域管理员可以看到共享的dns zone cache列表 (&lt;a href="https://github.com/yunionio/onecloud/commit/02bcce195cda554d83a8b8cd7a7e9e134c767585">02bcce195&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>emulated wire not sync vpc shared info (&lt;a href="https://github.com/yunionio/onecloud/commit/5c4423bcbef4d6ae8a6a1fc9919034fc7a1095a4">5c4423bcb&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>oidc response user&amp;rsquo;s info (&lt;a href="https://github.com/yunionio/onecloud/commit/8cdab93c15891f4970c1c72232302d30a4c9da88">8cdab93c1&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>revert filter-by-owner changes of scoped resource (&lt;a href="https://github.com/yunionio/onecloud/commit/8a28d26271460c78e8dc94c077c2197201af81e9">8a28d2627&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>allow domain admin view shared dns zone records (&lt;a href="https://github.com/yunionio/onecloud/commit/b0e1d0de23312b6f07b69f6d57962b9aded8a26c">b0e1d0de2&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid sync dns zone cache status is init (&lt;a href="https://github.com/yunionio/onecloud/commit/f931deb41f1df134ec065935bdc9344708729229">f931deb41&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>filter storages by host schedtag (&lt;a href="https://github.com/yunionio/onecloud/commit/11ea89795a7b084f32fc2d5fe4bebf979953ff58">11ea89795&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免azure同步项目失败 (&lt;a href="https://github.com/yunionio/onecloud/commit/1021bf1514d6f65d8b3315f8349f79d2646c8a5e">1021bf151&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>suffix template cache key (&lt;a href="https://github.com/yunionio/onecloud/commit/ad22483113c1f6204127f2b72ac6e1d6433f1b26">ad2248311&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>filter cloudprovider/network by host-schedtag-id (&lt;a href="https://github.com/yunionio/onecloud/commit/82c0dcfb38bf5b88cf6b27b91f06efeb4490f63c">82c0dcfb3&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>dns zone cache owner info (&lt;a href="https://github.com/yunionio/onecloud/commit/da8529a00a67b8d830b382e8410002af3ac555d1">da8529a00&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>allow create disk prefer manager (&lt;a href="https://github.com/yunionio/onecloud/commit/73aee1147437de9e0af04f3d7b10bd9d2291cc80">73aee1147&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>simplify forbidden user login message (&lt;a href="https://github.com/yunionio/onecloud/commit/91f098430cd940dcb54116ea359b870aeeed867d">91f098430&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>支持同步project标签到本地资源 (&lt;a href="https://github.com/yunionio/onecloud/commit/4794b1606ac559b4e1bf1f95307c84472efdcd13">4794b1606&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid purge storages (&lt;a href="https://github.com/yunionio/onecloud/commit/f5cf093e0f17c58360fb9f0f173ecfccd693d2c4">f5cf093e0&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>openstack zone not emulated (&lt;a href="https://github.com/yunionio/onecloud/commit/3903af786beab789143212d4932fdf4255e4e9a5">3903af786&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>allow cross doamin resource sync (&lt;a href="https://github.com/yunionio/onecloud/commit/91cac5c217225062f100aa43300d48c0ac8d0015">91cac5c21&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>avoid account delete failed (&lt;a href="https://github.com/yunionio/onecloud/commit/5f50314df6f3a10c84297333ea1d6e207729631a">5f50314df&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>sql err (&lt;a href="https://github.com/yunionio/onecloud/commit/310baa266bd2efbd9181f082f6127a922c28340c">310baa266&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>avoid compare err with cloudprovider.ErrNotFound direct (&lt;a href="https://github.com/yunionio/onecloud/commit/5f2c771f73d701cdb5564ebc0e190383d888f831">5f2c771f7&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>dns 错误信息补全 (&lt;a href="https://github.com/yunionio/onecloud/commit/8d28bfc6d2adae6ac5970f76240fe4238ad00059">8d28bfc6d&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;li>google资源名称兼容处理 (&lt;a href="https://github.com/yunionio/onecloud/commit/26a3df33bf8a4c681e597019988d32720d5906cf">26a3df33b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid serial vm creation (&lt;a href="https://github.com/yunionio/onecloud/commit/b5088230bffb72e6fd2b8690355e0f2123e0a722">b5088230b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>仅在可用区故障时可强制挂载磁盘 (&lt;a href="https://github.com/yunionio/onecloud/commit/4038bfb8a173639485df7c07aeb2d6cf7dfe2958">4038bfb8a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>scope resource filter by owner (&lt;a href="https://github.com/yunionio/onecloud/commit/975e7fb1e8227efbda0745d031eea7af8d0971b5">975e7fb1e&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>use i18n.Table to handle Chinese-English conversion (&lt;a href="https://github.com/yunionio/onecloud/commit/1c786a034bf76f4eaa9d73921ab64e4b73629206">1c786a034&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>keystone project resource count not accurate (&lt;a href="https://github.com/yunionio/onecloud/commit/95bde0a14e88edc1bb2c4dd4a5b76a6de3e78b8c">95bde0a14&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>sort quota list result by usage rate (&lt;a href="https://github.com/yunionio/onecloud/commit/f3fa6f82b66a7206de6856f36248a6a47e2de4ae">f3fa6f82b&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>disable domain sharing if non_default_domain_projects turned off (&lt;a href="https://github.com/yunionio/onecloud/commit/e796437a3cb0a21974cac13ad385b0de9df36523">e796437a3&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>Error occurs when suitableWire exists or all suitableNetwork exist. (&lt;a href="https://github.com/yunionio/onecloud/commit/5f1cd20aa456d847ae58186655bfe58a30c6e71d">5f1cd20aa&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>avoid account delete failed (&lt;a href="https://github.com/yunionio/onecloud/commit/c38cb271f884a829e147b8118d6561ef61df2e1c">c38cb271f&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>error 值重叠 (&lt;a href="https://github.com/yunionio/onecloud/commit/9a04238b77bc503ad6a3419b04d93aad239f1f9d">9a04238b7&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;li>避免同步不到其他域的云账号 (&lt;a href="https://github.com/yunionio/onecloud/commit/0a87b3101a7954a82d8a3aeeb7be5f33f4617b25">0a87b3101&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>role assignment filter by users not working for effective users in groups (&lt;a href="https://github.com/yunionio/onecloud/commit/b32eddce032cdfce5bb1fdb2949907239aa9d581">b32eddce0&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免腾讯云同步虚拟机ip异常 (&lt;a href="https://github.com/yunionio/onecloud/commit/f659ccd0d59ea2e12822b8b9a915c93adc3cdc62">f659ccd0d&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>apigateway userinfo includes project metadata (&lt;a href="https://github.com/yunionio/onecloud/commit/5b6b5eeb7d6b7aacbeb5aecb4e1dd6824ae5b742">5b6b5eeb7&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免添加新账号后长时间未同步iam用户 (&lt;a href="https://github.com/yunionio/onecloud/commit/b3c235fe3014ac2fb282056b4f0fe9adabc2087d">b3c235fe3&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>优化提取显示主账号名 (&lt;a href="https://github.com/yunionio/onecloud/commit/686df64ea96bdf727874d953bfb1f88e02bfbbd1">686df64ea&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>avoid not reture cloudprovider.ErrNotFound error (&lt;a href="https://github.com/yunionio/onecloud/commit/bb3317cc32518107e17663f9d203ccddbb0c2383">bb3317cc3&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>scheduler token not support policy (&lt;a href="https://github.com/yunionio/onecloud/commit/e444ab7a1565437e817ac16e39b6dc1d525c950b">e444ab7a1&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>reset user password without check (&lt;a href="https://github.com/yunionio/onecloud/commit/5f35bba0d0e47f3d9a6e3012281b90418d51b850">5f35bba0d&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>get jnlp xml from dell idrac6,7,9 (&lt;a href="https://github.com/yunionio/onecloud/commit/760ac9900faad269f773b9381af6f074837fd368">760ac9900&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>reduce totp verification overhead (&lt;a href="https://github.com/yunionio/onecloud/commit/49cf94abb0c7a63e56fe714b264aba401d672e82">49cf94abb&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>add esxicli vmrc/webmks command (&lt;a href="https://github.com/yunionio/onecloud/commit/5f9088d240fd88b1c8759c8b5c28c19612b4bef4">5f9088d24&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>disable qcloud verifyAppId temporarily (&lt;a href="https://github.com/yunionio/onecloud/commit/7601ca437a93948034d46b682b6a9041b6152a6a">7601ca437&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>keystone initialize data skip nil extra fields (&lt;a href="https://github.com/yunionio/onecloud/commit/967d46bbf6e6862d72bbe70c669af9c0f12166e0">967d46bbf&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>omit empty fail reason (&lt;a href="https://github.com/yunionio/onecloud/commit/a475a7b416b9ce10c021c14f1c37b2b3e33ed3e3">a475a7b41&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>enable generate name caused compability issue (&lt;a href="https://github.com/yunionio/onecloud/commit/0d798412e1870abfc83cb3efa40dd13cd2bacf30">0d798412e&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免名称重复 (&lt;a href="https://github.com/yunionio/onecloud/commit/a1ba06a927a434ad7b5ffedd90186941f409ca23">a1ba06a92&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>bucket object cnt fix (&lt;a href="https://github.com/yunionio/onecloud/commit/cc5e0cd7caf54bcae9e82578a2d99bc32abe7f02">cc5e0cd7c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>lock/unlock cleanup (&lt;a href="https://github.com/yunionio/onecloud/commit/ada7352469c753fe1e65ddd211f10c5a26935e57">ada735246&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>支持自动根据云上项目修改本地项目名称 (&lt;a href="https://github.com/yunionio/onecloud/commit/5c71349fe2fc32133838c1c6f9f258f6ffaa77e1">5c71349fe&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复权限组权限同步异常问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/24cbdf67361799d6fbf6bcdde2d5d407aa9b8262">24cbdf673&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>cos use proxy (&lt;a href="https://github.com/yunionio/onecloud/commit/0a5ee4ca67cc6c77d5c24a666eb4e94ddac7fb1a">0a5ee4ca6&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>check host sharing status when considering whether a host is assignable (&lt;a href="https://github.com/yunionio/onecloud/commit/6b5339900bb6d7ae4865ec63390627a3060b3610">6b5339900&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>disable webkms for esxi older than 6.5 (&lt;a href="https://github.com/yunionio/onecloud/commit/7cf5ad91333ea401205b9d0d9647ca59016fb238">7cf5ad913&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>默认不自动合并安全组 (&lt;a href="https://github.com/yunionio/onecloud/commit/ce777855a2a3dfcca88e458d0b4bdd9017b49d36">ce777855a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid sync natgateway eip panic (&lt;a href="https://github.com/yunionio/onecloud/commit/96074202984a361b792dcbe17c9f0af1de1d176d">960742029&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>优化sku同步逻辑 (&lt;a href="https://github.com/yunionio/onecloud/commit/ea518358c78659d8bac879977e564f716cc7b99a">ea518358c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>add dns recordset dns value check (&lt;a href="https://github.com/yunionio/onecloud/commit/2e93ee3d6d76918ace8fd72655efd31fa6589ce9">2e93ee3d6&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>平滑迁移数据 (&lt;a href="https://github.com/yunionio/onecloud/commit/d6d490af6cd8e44e4451cdbec7047c346ca87fb2">d6d490af6&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>腾讯云不支持同时设置秘钥和密码,若设置秘钥，则将密码置空 (&lt;a href="https://github.com/yunionio/onecloud/commit/5576819f017e0ddf140a9cd2f5118db2ea2726fe">5576819f0&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>optimized qcloud keypair (&lt;a href="https://github.com/yunionio/onecloud/commit/dc20313ef52e4995d48e98c2de4d9763f664159e">dc20313ef&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复cloudid问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/642af06ba9c87eb8fb770e3b188486f744978ea0">642af06ba&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>optimzed clouduser password (&lt;a href="https://github.com/yunionio/onecloud/commit/aa26c6ec99c8eca387e644a79f141a5d0cd99f32">aa26c6ec9&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免未本地缓存usercache (&lt;a href="https://github.com/yunionio/onecloud/commit/835261e9eae939f5505bdc83bb471efd1a4e2fb3">835261e9e&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>capability for cloudid (&lt;a href="https://github.com/yunionio/onecloud/commit/0b4a562f0dedb04ac7a6e2dc3e75405d4f2cd72d">0b4a562f0&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>optimzed clouduser (&lt;a href="https://github.com/yunionio/onecloud/commit/9281c54294a9fb89c092529c4ee70e95c6eddf89">9281c5429&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid create public zone failed (&lt;a href="https://github.com/yunionio/onecloud/commit/2ad1a4afe587fa30b498dd6d6a185d18e235ad6c">2ad1a4afe&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>recode project-role rpc handle to support group role assignment results by user or project (&lt;a href="https://github.com/yunionio/onecloud/commit/0268d95853fd2202b89947211e115e364813fec7">0268d9585&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>uniform cachedimage active status (&lt;a href="https://github.com/yunionio/onecloud/commit/025eca548f0779897ad70751713603fb804a725d">025eca548&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>wire usage stats incorrect (&lt;a href="https://github.com/yunionio/onecloud/commit/621c2796d6ac7dee0759c4fedd107f257aaae5b7">621c2796d&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>ignore 409 error when doing redfish power on (&lt;a href="https://github.com/yunionio/onecloud/commit/d10adf22d76eae40ee2fed7599f6007cf74e8462">d10adf22d&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>validate candiate ip for sync-fix-nics (&lt;a href="https://github.com/yunionio/onecloud/commit/f739c8ff0e1be8373f58828234ac854db06a6943">f739c8ff0&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>Override Master and Slave for scalinggroup_guest (&lt;a href="https://github.com/yunionio/onecloud/commit/ba2b1d9bd28fa104ef77c17c5c2873d3cc40ec5e">ba2b1d9bd&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>manager_id资源隔离获取 (&lt;a href="https://github.com/yunionio/onecloud/commit/9bb4eb5d44726d674c1c81403461a5e28a1df6b7">9bb4eb5d4&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>prevent users in disabled idp from login (&lt;a href="https://github.com/yunionio/onecloud/commit/e758c4aa97717de5dd8503ae0f968c4c2f2537e7">e758c4aa9&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>check assign-host previliges (&lt;a href="https://github.com/yunionio/onecloud/commit/623c71b1437c58854c74a4d1c21a0025904e2df3">623c71b14&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>sync groups for user (&lt;a href="https://github.com/yunionio/onecloud/commit/4cd73c16cad640e6de2b51ac871ece93e26c230e">4cd73c16c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>aliyun wulanchabu region (&lt;a href="https://github.com/yunionio/onecloud/commit/0a79d1d23e7f2f15eb35254c82c7f267f5823d3f">0a79d1d23&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>取消aliyun lb scheduler创建限制 (&lt;a href="https://github.com/yunionio/onecloud/commit/933dddd8a163285f64068b4b9fc1bcb11ca332d8">933dddd8a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复cloudid同步问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/88e5119fddcdee1ea1067f0055d834c9ed8a62c7">88e5119fd&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>user idps attributes includes template name (&lt;a href="https://github.com/yunionio/onecloud/commit/bfa4ce38e02f3b0a20947ee9dec231febab16bbe">bfa4ce38e&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>skup syncing lb, rds, redis instances in tasks (&lt;a href="https://github.com/yunionio/onecloud/commit/c5c2b4b699c95007322784fd8c413c79464047fc">c5c2b4b69&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>network address list respect privilige of user (&lt;a href="https://github.com/yunionio/onecloud/commit/29edf83293b33b37c7cdb65a93f916f10d694b21">29edf8329&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>cloudid optimized (&lt;a href="https://github.com/yunionio/onecloud/commit/390d6f07e1058b4f59e5b6680b73a3cb8cdb0576">390d6f07e&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>valid update name and update dns recordset (&lt;a href="https://github.com/yunionio/onecloud/commit/b4252c7c252777ae95312c295190b387bc5eee66">b4252c7c2&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>scheduler aware policy (&lt;a href="https://github.com/yunionio/onecloud/commit/485388394753fadc3c5c6978e5991a7e41652da2">485388394&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>support VirtualDiskRawDiskMappingVer1BackingInfo (&lt;a href="https://github.com/yunionio/onecloud/commit/0619da6f143bf3a64e85d4abdc2eedb7e876ce7b">0619da6f1&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>find correct esxi host access ip (&lt;a href="https://github.com/yunionio/onecloud/commit/29a3db9ff662e1d805e9b026d51e5a123555c55e">29a3db9ff&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>remove redundant auth cookie in sso login (&lt;a href="https://github.com/yunionio/onecloud/commit/c50497090e6275b711ec8df7654eb7ce2717e892">c50497090&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>公有云子账号加域属性 (&lt;a href="https://github.com/yunionio/onecloud/commit/02bf5b76d73c2f9011c04a4a5ec7e358f445adbf">02bf5b76d&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>优化安全组list速度，并发挥rule规则信息 (&lt;a href="https://github.com/yunionio/onecloud/commit/8279f62c9a4545d62bf808b588a9b1033105ee37">8279f62c9&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>clouduser can_delete always be false (&lt;a href="https://github.com/yunionio/onecloud/commit/91a5e4ab77c7d3889e079076c7a6f978d113b5ca">91a5e4ab7&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>同步不需要判断账号是否有iam权限 (&lt;a href="https://github.com/yunionio/onecloud/commit/2c17e6e66e17a1984d7a1c9c4a6e8714c63490be">2c17e6e66&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>optimzed sync (&lt;a href="https://github.com/yunionio/onecloud/commit/5cc25ae10abf983d548ac881b0c7f9921f75c841">5cc25ae10&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>optimized cloudid (&lt;a href="https://github.com/yunionio/onecloud/commit/cfd76b23a3d224ccc027259e1883f8b32c6ca4b5">cfd76b23a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>search by chs projectname or domainname (&lt;a href="https://github.com/yunionio/onecloud/commit/976dbd7796e093dd72551cdd78a7b24e271c9e07">976dbd779&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免slave zoneid异常 (&lt;a href="https://github.com/yunionio/onecloud/commit/cac7dc529a708591c522e7f4b1afb651c3923c42">cac7dc529&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>compatiblity fixes with lenovo RD620 and huawei 2288 (&lt;a href="https://github.com/yunionio/onecloud/commit/949e2ebed93bb946e1f7a826b9bf2542c4ec2259">949e2ebed&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>avoid nil panic (&lt;a href="https://github.com/yunionio/onecloud/commit/03456eaaa9a07d2c0046167019843edf80421dcf">03456eaaa&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid policy value not save (&lt;a href="https://github.com/yunionio/onecloud/commit/d03fddcd7d5eff2800f21b82236dea729e65a66f">d03fddcd7&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>climc params (&lt;a href="https://github.com/yunionio/onecloud/commit/893085a2c6e4650ee3628d38f762c7e991bbb26b">893085a2c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>add details for account delete (&lt;a href="https://github.com/yunionio/onecloud/issues/7703">#7703&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/800dd26c609114af3400ee7f509fb89820a9217a">800dd26c6&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>vmware esxi host detects vnic portgroup info (&lt;a href="https://github.com/yunionio/onecloud/issues/7660">#7660&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/836151eee358e8f91c47eccfb5700f9d84fd105f">836151eee&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>apigateway user info add is_local attribtue (&lt;a href="https://github.com/yunionio/onecloud/issues/7695">#7695&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/0566e1dec7c0398a48a69a6cce5e91f1c68422da">0566e1dec&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>server purge may fail (&lt;a href="https://github.com/yunionio/onecloud/issues/7698">#7698&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/cca22673892c19d3c4803a963ba435156c051a51">cca226738&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>http error limit request body length fix: http error limit request body length (&lt;a href="https://github.com/yunionio/onecloud/issues/7700">#7700&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/538bc873a04af197560945db2dc675bbf2f1e424">538bc873a&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>不限制openstack系统盘类型 (&lt;a href="https://github.com/yunionio/onecloud/issues/7675">#7675&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/9812864bce8a18c4a7d02b1431e6a2f433c6db84">9812864bc&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>cleanup logic for nics of pending_deleted guests (&lt;a href="https://github.com/yunionio/onecloud/issues/7669">#7669&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/5647a6842db069933f13c5def1788464ee932360">5647a6842&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>avoid delete aws iam user failed (&lt;a href="https://github.com/yunionio/onecloud/commit/6ed3a4833378a7715630940b75b5024b8b9f5f1f">6ed3a4833&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>aovid truncated data (&lt;a href="https://github.com/yunionio/onecloud/issues/7644">#7644&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/3243e5a035f2a2e1be42fec7bc4232081a7c61c0">3243e5a03&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>add keystone sync user debug info (&lt;a href="https://github.com/yunionio/onecloud/issues/7639">#7639&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/e3fe66e8eb3ca1904fd8c897ebf5019feacdacd4">e3fe66e8e&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>turn off some default project policies (&lt;a href="https://github.com/yunionio/onecloud/issues/7637">#7637&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/de80f17053eaa4930638947d4ed089cb4b66f423">de80f1705&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>avoid openstack image-list failed (&lt;a href="https://github.com/yunionio/onecloud/issues/7641">#7641&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/aef249ea8e7182ec4d32782b6c4182596b5a7d8b">aef249ea8&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>project role rpc returns policies info (&lt;a href="https://github.com/yunionio/onecloud/issues/7632">#7632&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/5b2b40d6ce9bfb61fad2357f13f4650503201b98">5b2b40d6c&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>add keystone sync user debug info (&lt;a href="https://github.com/yunionio/onecloud/commit/ccf55963acb1db8110b4fed6bf2b08d44ad1b934">ccf55963a&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>make old notify send SDK compatible (&lt;a href="https://github.com/yunionio/onecloud/issues/7628">#7628&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/707051ec0b5f486ff0a372a4c33af3157a9a31d4">707051ec0&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">Rain Zheng&lt;/a>)&lt;/li>
&lt;li>avoid network-list &amp;ndash;zone not work (&lt;a href="https://github.com/yunionio/onecloud/issues/7619">#7619&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/4593c1fb999b8bfa0bb84bde3ef32867ca3f849f">4593c1fb9&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>ignore invalid zone sku for rds sku sync (&lt;a href="https://github.com/yunionio/onecloud/issues/7617">#7617&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/ca2e8bece32cd45698bbb6e104fcc6db10e53f55">ca2e8bece&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>oauth2 not support default_project_id and default_role_id (&lt;a href="https://github.com/yunionio/onecloud/issues/7622">#7622&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/fea4a6b07b2a574ccc90ae6fa0982f62aba15173">fea4a6b07&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>idp deletel logic cleanup (&lt;a href="https://github.com/yunionio/onecloud/issues/7616">#7616&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/852a3bb13e7f5c065c81bf08fc9662148448c0ad">852a3bb13&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>hide locked cloud policy by default (&lt;a href="https://github.com/yunionio/onecloud/issues/7614">#7614&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/7c3fa87ed6046a8d1b15a844a2c84c324af20767">7c3fa87ed&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>GetDefaultClient always return a new http client instance (&lt;a href="https://github.com/yunionio/onecloud/commit/3762df8087d96be47e52bd6c0a27f160d0e91608">3762df808&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>avoid change user name for google (&lt;a href="https://github.com/yunionio/onecloud/issues/7613">#7613&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/c1a6b2db9f673ce95b9b5e438c29e826fd4395e2">c1a6b2db9&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>limit the length of error message when do idp redirect (&lt;a href="https://github.com/yunionio/onecloud/issues/7612">#7612&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/a94f32ed56655e1e3561c54f978a8db05883dd62">a94f32ed5&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>avoid storage=nil, dis can not delete (&lt;a href="https://github.com/yunionio/onecloud/issues/7608">#7608&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/4555b00c3554b308aac7694f12311903d67d30c4">4555b00c3&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>apigateway option to turn off login domain list (&lt;a href="https://github.com/yunionio/onecloud/commit/fe0182333dad5bba84ac7d71b82746a430b40141">fe0182333&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>optimized for cloudid (&lt;a href="https://github.com/yunionio/onecloud/issues/7604">#7604&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/5b898bbf6b93f5d39f5dc93e21f5f52476f81d48">5b898bbf6&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>opslog filter by owner_project_ids and owner_domain_ids (&lt;a href="https://github.com/yunionio/onecloud/issues/7600">#7600&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/777059648bd05ca2378953a0c5b831f9ed380123">777059648&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>
&lt;ol>
&lt;li>remove Azure OIDC extra user scope 2. yunionauth cookie missing (&lt;a href="https://github.com/yunionio/onecloud/issues/7599">#7599&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/7bab39daf9bd330c06c6357f33c63be15a88b4ec">7bab39daf&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>member user only can get user &amp;amp; domain resource (&lt;a href="https://github.com/yunionio/onecloud/issues/7597">#7597&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/a23a94714c44adb21ab451fb2958de71ceeb4de7">a23a94714&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>option for metadata path (&lt;a href="https://github.com/yunionio/onecloud/issues/7595">#7595&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/e70fe59bc7549069a0c9f4d2a2706cb204ac29d6">e70fe59bc&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>修复cloudid用户同步及权限同步 (&lt;a href="https://github.com/yunionio/onecloud/commit/8a78c54dc9507bce421eb10410e1caef1ee160b3">8a78c54dc&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>dns record create ignore is_public field (&lt;a href="https://github.com/yunionio/onecloud/commit/016b65a4b15117a11a82086660a57045c80cc6c7">016b65a4b&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>支持自定义权限 (&lt;a href="https://github.com/yunionio/onecloud/issues/7565">#7565&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/d5524d1ea1101350542b5d104d25451e3e23a3cf">d5524d1ea&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>GetIImages correctly without &amp;lsquo;image_cache&amp;rsquo; dir (&lt;a href="https://github.com/yunionio/onecloud/issues/7575">#7575&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/0ab75b52dfe63a752f26f0462067f79b84a41b71">0ab75b52d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">Rain Zheng&lt;/a>)&lt;/li>
&lt;li>allow delete shared role and policy (&lt;a href="https://github.com/yunionio/onecloud/commit/4a0439da82e58a41deb11ba48dc76ef60af3e5d1">4a0439da8&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>aovid duplicate sku name (&lt;a href="https://github.com/yunionio/onecloud/issues/7572">#7572&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/196d3b3604a45cf0391cff68fec114bdb0f4c6a9">196d3b360&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>cloud poilcy count (&lt;a href="https://github.com/yunionio/onecloud/commit/d2b9ba5bc6e5b87204a2258d8d69ee2f3bbd637b">d2b9ba5bc&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>json TAG_PREFIX invalid syntax (&lt;a href="https://github.com/yunionio/onecloud/issues/7564">#7564&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/6a57435f1c26c408774374dff04cd57203bca3cb">6a57435f1&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>avoid virtual resource project id is empty when cloudaccount with no project (&lt;a href="https://github.com/yunionio/onecloud/issues/7560">#7560&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/7cd419f78edb0d03e56cbc498d16d009ffc49102">7cd419f78&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>Merge the host network correctly when preparenet (&lt;a href="https://github.com/yunionio/onecloud/issues/7557">#7557&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/098b4e5b552380fb3397a987be210287beaca363">098b4e5b5&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">Rain Zheng&lt;/a>)&lt;/li>
&lt;li>network port count stat recode (&lt;a href="https://github.com/yunionio/onecloud/issues/7554">#7554&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/b8984558409525b24f5ee6587368e04df4b552a4">b89845584&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>user with sso idp fail to login with password (&lt;a href="https://github.com/yunionio/onecloud/issues/7552">#7552&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/320d7cabcdcff018021fdf69f1d5074acff20a91">320d7cabc&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>oidc auth callback url not complete (&lt;a href="https://github.com/yunionio/onecloud/issues/7545">#7545&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/a02611db1247582e649394e30531c1ae8cbb01dd">a02611db1&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>recode user project role list to include group info (&lt;a href="https://github.com/yunionio/onecloud/issues/7544">#7544&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/59c026f0d9ed7997da44bb172140290b4f829193">59c026f0d&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>change publicNetworkCount to autoAllocNetworkCount in Capability (&lt;a href="https://github.com/yunionio/onecloud/issues/7546">#7546&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/e1bd01162d8286014dcb694f6c4028e9abf6991e">e1bd01162&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>separete enabled and status field (&lt;a href="https://github.com/yunionio/onecloud/commit/5b31ca8daddc2460a947de3351019526d3f513ab">5b31ca8da&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>update vendor (&lt;a href="https://github.com/yunionio/onecloud/issues/7526">#7526&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/c277d492fc969c05245fab8f081b0d276b9706c9">c277d492f&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>optimized huawei security group get and create operation (&lt;a href="https://github.com/yunionio/onecloud/issues/7520">#7520&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/930ca23ea81ed4a7028e2e441fef74e6a2bf927f">930ca23ea&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>compatible for macOS (&lt;a href="https://github.com/yunionio/onecloud/commit/a6bff94983cf878c8f762dc293ddcc9bd9f2ab4a">a6bff9498&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复安全组合并导致重复计算虚拟机绑定安全组数量&amp;amp;优化安全组操作 (&lt;a href="https://github.com/yunionio/onecloud/issues/7496">#7496&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/f343b071fa00f39855728d0327a13724ac5c4e49">f343b071f&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>avoid nil pointer (&lt;a href="https://github.com/yunionio/onecloud/issues/7508">#7508&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/4696a3e4757034c245fe6ed312d2bf3efca41883">4696a3e47&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>password authentication may choose wrong idp backend (&lt;a href="https://github.com/yunionio/onecloud/issues/7513">#7513&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/c98e72e6e9db125920130107ff139d6f0b9def0f">c98e72e6e&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>preserve state while doing sso redirect (&lt;a href="https://github.com/yunionio/onecloud/commit/60eec6440b88926847ec705de2d53bef4d8b553e">60eec6440&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>提高zstack认证兼容性 (&lt;a href="https://github.com/yunionio/onecloud/commit/0850bd516ebb77e1f36c7b60a64c86be1a753157">0850bd516&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>隐藏auzre经典类型存储 (&lt;a href="https://github.com/yunionio/onecloud/commit/629a4e93d2ed52fe08ea832fd8a5da6927dbcf5e">629a4e93d&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>增加openstack兼容性 (&lt;a href="https://github.com/yunionio/onecloud/issues/7492">#7492&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/327b60baf6210a2dc9af4fa0e34537bc15df0634">327b60baf&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>do not search response key if empty json returned (&lt;a href="https://github.com/yunionio/onecloud/issues/7495">#7495&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/c63230f3773f3ee9fc463bc2551e71d01517332e">c63230f37&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>idp validate config not complete (&lt;a href="https://github.com/yunionio/onecloud/issues/7488">#7488&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/19b69de1dd66760219c71ea5eff9eec98173e316">19b69de1d&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>support AzureAD oidc in china area (&lt;a href="https://github.com/yunionio/onecloud/commit/12bbbc541aa8f67426199d83ff11a977e9382207">12bbbc541&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>capabilities get auto alloc network count (&lt;a href="https://github.com/yunionio/onecloud/issues/7483">#7483&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/d4a93f0dcda3e10327da47e094df6679570d42fe">d4a93f0dc&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>unlink-user illegal mix of collations (&lt;a href="https://github.com/yunionio/onecloud/issues/7482">#7482&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/0a580b3c9c82d5d2f7c819039035f4e9786a0674">0a580b3c9&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>filter public network count by zone and region (&lt;a href="https://github.com/yunionio/onecloud/issues/7477">#7477&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/04eaf3de6320505b40229b63dd3a91ca032432e2">04eaf3de6&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>typo running_geusts =&amp;gt; running_guests (&lt;a href="https://github.com/yunionio/onecloud/commit/eae229b35a8bc21b319182fa576e9125238d509f">eae229b35&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>typo (&lt;a href="https://github.com/yunionio/onecloud/commit/9da8095f8404d140a588b8608623d2552e1a80d8">9da8095f8&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>ignore bucket-set-acl not implemented error (&lt;a href="https://github.com/yunionio/onecloud/issues/7470">#7470&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/1929076fa55a5a1e5e9dff512c53b3a9b097b842">1929076fa&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>avoid host globalid change (&lt;a href="https://github.com/yunionio/onecloud/issues/7465">#7465&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/a51f0271ebbcde006b7b807a9ea4aae60418ff74">a51f0271e&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>avoid generated codes having duplicate PerformSetScope methods (&lt;a href="https://github.com/yunionio/onecloud/commit/9bdf2c75e166b93a88a3df10658c2ee172e6b518">9bdf2c75e&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免azure同步资源组异常 (&lt;a href="https://github.com/yunionio/onecloud/commit/be51f3b496cb4ae47924f53617e78a9e72084ff9">be51f3b49&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>sync share mode between vpc and wire (&lt;a href="https://github.com/yunionio/onecloud/commit/9ea80725a424188a26cf16918f4a9e2cdc987146">9ea80725a&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>upgrade aliyun sdk (&lt;a href="https://github.com/yunionio/onecloud/issues/7432">#7432&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/27168fc720b465ccea03edc49b60e3ff6a6c27f9">27168fc72&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>避免glance metadata-list project scope无权限 (&lt;a href="https://github.com/yunionio/onecloud/issues/7402">#7402&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/1244c170b79fcfefd2f19676da07540f9318ef41">1244c170b&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>优化openstack项目认证 (&lt;a href="https://github.com/yunionio/onecloud/issues/7397">#7397&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/fd2f1c0e36e0e6d19fb14c0e460ae8d60faed696">fd2f1c0e3&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>避免在仅调整虚拟机磁盘时opslog日志记录mem cpu异常 (&lt;a href="https://github.com/yunionio/onecloud/issues/7392">#7392&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/0cad2efd2c6d7f6181e0255f294e9689769937e6">0cad2efd2&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>avoid lost backend params (&lt;a href="https://github.com/yunionio/onecloud/commit/846f90d546420963c54af188a2175a29a6d2902c">846f90d54&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>openstack win image user data need encode (&lt;a href="https://github.com/yunionio/onecloud/commit/7816180231ca1890da60a24c5527c55003748154">781618023&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid account sync deadlock (&lt;a href="https://github.com/yunionio/onecloud/commit/509ebb92c76c76fdefcf14d0ce559dac29ac243c">509ebb92c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>ignore general s3 set acl not implemented error (&lt;a href="https://github.com/yunionio/onecloud/commit/7f829f24f7fe24f718690327a027dc47cd975358">7f829f24f&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>cloud account sync may block (&lt;a href="https://github.com/yunionio/onecloud/commit/1985aab89424228d814f1fbf3ca0312234b945bd">1985aab89&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>openstack多项目问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/859ab97175c4a00c89d0a863ab8acedbcc5efd77">859ab9717&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid parse json err nil pointer (&lt;a href="https://github.com/yunionio/onecloud/commit/598e8a9248488ec6a082750782eaeaa6caeb14ab">598e8a924&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid nil pointer (&lt;a href="https://github.com/yunionio/onecloud/commit/6477e0e140fdd522d29c98ca990e765f682e0cc5">6477e0e14&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>adjust API input field names according to spec (&lt;a href="https://github.com/yunionio/onecloud/issues/7382">#7382&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/f0f406c243938a57dc016f39a5de3ba112523fea">f0f406c24&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>use json to store task error message (&lt;a href="https://github.com/yunionio/onecloud/issues/7351">#7351&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/ba292dfedca37d61a252f4b8954ab5c4bf9d78e5">ba292dfed&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>添加阿里云rds备份恢复限制条件 (&lt;a href="https://github.com/yunionio/onecloud/issues/7378">#7378&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/3df146ff6f589501939e04ea9b6d8efe402953dc">3df146ff6&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>change owner should check required domain list (&lt;a href="https://github.com/yunionio/onecloud/issues/7375">#7375&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/984bfeb6e83955c6b32b8c5c1ba734ae298349d5">984bfeb6e&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>普通视图下，安全组仅统计可看到的vm count (&lt;a href="https://github.com/yunionio/onecloud/issues/7358">#7358&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/76f78cdda007a12c38e35775466086da3b3a6e7d">76f78cdda&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>同步sku与磁盘类型关系 (&lt;a href="https://github.com/yunionio/onecloud/issues/7368">#7368&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/d8f04636575943f6f826747bad68ba92260b4550">d8f046365&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>避免创建rds备份时对rds进行一些操作 (&lt;a href="https://github.com/yunionio/onecloud/issues/7354">#7354&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/78a68bffd110a1e4bc920a872279d14a0bf53e78">78a68bffd&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>修复vm绑定重复安全组 (&lt;a href="https://github.com/yunionio/onecloud/commit/8c31bba0aa30b00c1862d8c70cc2e8eee602141a">8c31bba0a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>add default perform allow policy to sysadmin (&lt;a href="https://github.com/yunionio/onecloud/commit/757706db9d16f4bc9e1d4e16b61f6a620cb0ffae">757706db9&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>cleanup auth error message return by apigateway (&lt;a href="https://github.com/yunionio/onecloud/commit/f1bfcfbd98a1adf86738f476bc936243b442706d">f1bfcfbd9&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免status_code&amp;gt;=400并且resp为空时err为nil (&lt;a href="https://github.com/yunionio/onecloud/issues/7264">#7264&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/a67f3e5481c2f00295e2dcd9ce256d96efa3fdfb">a67f3e548&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>cloud account delete may fail due to inconsistent status (&lt;a href="https://github.com/yunionio/onecloud/commit/9f8f2b6c4c307b81d535b49a1ac73a16044ae5eb">9f8f2b6c4&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>do accessibility check when dissociate eip from resource (&lt;a href="https://github.com/yunionio/onecloud/commit/845195440068974c3ba1f34f4f959b4f22dc9752">845195440&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>modify list details for guesttemplate (&lt;a href="https://github.com/yunionio/onecloud/commit/34e66ab2e3f5c0d61e7fbed4aa53b58fac3661e4">34e66ab2e&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>schedtag should be system resource (&lt;a href="https://github.com/yunionio/onecloud/commit/8f1b934721172cd85341e329ebf1793cb71c4194">8f1b93472&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>choose candidate list from the list returned from backend (&lt;a href="https://github.com/yunionio/onecloud/commit/35da086ccff148bedf9a0ad2783016795f92c982">35da086cc&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>单独添加更新账单文件日志 (&lt;a href="https://github.com/yunionio/onecloud/commit/c6df1944c8837103174e1d65daafa4db8d62df9a">c6df1944c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>支持多项目安全组规则过滤 (&lt;a href="https://github.com/yunionio/onecloud/commit/b20cd13645bf21b8f051640e9a9af223efacef65">b20cd1364&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>domain resource domain share to system when non_default_domain_projects off (&lt;a href="https://github.com/yunionio/onecloud/commit/8d8acab903986277d55747c9735af1b989a174c1">8d8acab90&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>update auto generate model api (&lt;a href="https://github.com/yunionio/onecloud/commit/208b69573ceb850ec0d3af02ec807a49c8d32daa">208b69573&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免未能导出共享安全组规则 (&lt;a href="https://github.com/yunionio/onecloud/commit/9a329453a7ea7550d51365948825218802dd1063">9a329453a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>image upload not clean pending usage (&lt;a href="https://github.com/yunionio/onecloud/commit/587f533daa5819fb4220fb1e92c9ba275f3cf98a">587f533da&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>quota usage not updated after disk resizing (&lt;a href="https://github.com/yunionio/onecloud/commit/ce3d0906b0f3895c5ca02bca886aff5c44dccbe9">ce3d0906b&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>google rds regional and zonal (&lt;a href="https://github.com/yunionio/onecloud/commit/718e36b327670d0ea90c5f85a74adb2a48ef2e5f">718e36b32&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>rds备份恢复优化 (&lt;a href="https://github.com/yunionio/onecloud/commit/8d85f04d86e70e54845deea0e9935cb086931404">8d85f04d8&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>default vpc must be shared globally (&lt;a href="https://github.com/yunionio/onecloud/commit/d3741d9a45a8bf3ce457f2df5d134ca805ea280c">d3741d9a4&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>globalvpc跟随云账号共享 (&lt;a href="https://github.com/yunionio/onecloud/commit/3bf9b5b0d92f1c00fc2169cd6624c75d1f2f9a14">3bf9b5b0d&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>过滤可用eip (&lt;a href="https://github.com/yunionio/onecloud/commit/ecaa1ad454e68f2350592df5f553dcd7fbce798e">ecaa1ad45&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免乌兰察布区域拉取资源异常 (&lt;a href="https://github.com/yunionio/onecloud/commit/8bd23cf3dea87fc7166dd6258e9eae62e35d5df3">8bd23cf3d&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>prefetch image error when create guest with vmware template (&lt;a href="https://github.com/yunionio/onecloud/commit/2f1093a14768698b6edfa10de25ea8fbf047be87">2f1093a14&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>not work for network-list &amp;ndash;zones (&lt;a href="https://github.com/yunionio/onecloud/commit/bf65a8816375d6e7f2dcbc25804ccadee1151de3">bf65a8816&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>sec rule export missing fields (&lt;a href="https://github.com/yunionio/onecloud/commit/3ddcaad3c733d240acaf994b76a123503a395f9b">3ddcaad3c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>check azure image format when rebuild root (&lt;a href="https://github.com/yunionio/onecloud/commit/466a3f7285412a78dce62549c36932da174c7bcc">466a3f728&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免华为云安全组规则删除失败 (&lt;a href="https://github.com/yunionio/onecloud/commit/cc948a4d548a3868344217ffd0e7de5b3ccae294">cc948a4d5&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>clouduser&amp;rsquo;s cloudgroups info (&lt;a href="https://github.com/yunionio/onecloud/commit/769dcae0e6fa9e98c99fadb2e84532fb17551dc1">769dcae0e&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>添加secgroup rule过滤参数 (&lt;a href="https://github.com/yunionio/onecloud/commit/6b591b455f6ebae16d18f57a679364caae45b0b3">6b591b455&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复cloudid get权限问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/34aa5511414a45ec962d580bc5a6b2c45a117ea5">34aa55114&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>azure 支持权限 (&lt;a href="https://github.com/yunionio/onecloud/commit/4cd67270a19dd0f1f7a6f688c80d4e3bef44a16c">4cd67270a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复cloudid用户列表权限问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/dccf685f665a5a88cc9c0c8a3597cd60ade40aaa">dccf685f6&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>优化webconsole代码&amp;amp;bugfix (&lt;a href="https://github.com/yunionio/onecloud/commit/dee1283c0f1efeacc2818e68706c3aa2a9b5b03c">dee1283c0&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复阿里云同步安全组规则异常问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/367c59117e14f2844172e51771ccca02f01dc7cb">367c59117&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>优化减少对etcd组件依赖 (&lt;a href="https://github.com/yunionio/onecloud/commit/9003d37027f2b68f0e10b3d567eb8151c62c539d">9003d3702&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>mo.VirtualMachine&amp;rsquo;s Config maybe nil (&lt;a href="https://github.com/yunionio/onecloud/commit/b6753af329274b946b3b38ae72119eaa6e81213a">b6753af32&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>优化azure订阅创建 (&lt;a href="https://github.com/yunionio/onecloud/commit/3d9e8b8727554486f70a1122f7a68fa0ab5fdf1a">3d9e8b872&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>支持azure创建订阅 (&lt;a href="https://github.com/yunionio/onecloud/commit/16f93d6658de55d1970537bfc8c8df9902ac77c2">16f93d665&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免google clouduser同步权限异常 (&lt;a href="https://github.com/yunionio/onecloud/commit/169b13f1600a87378cd3f2c92c7bedeec149f76a">169b13f16&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复vpc同步异常问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/d7e16e33422d83012d7de73895886061352f7a37">d7e16e334&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免越界访问 (&lt;a href="https://github.com/yunionio/onecloud/commit/45f5bc526d0adfd3a53250ebe597bf73cee327d3">45f5bc526&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>opslog show the owners operation logs only (&lt;a href="https://github.com/yunionio/onecloud/commit/d59bff3361e35a9d2f4fedbf7230bdc7a0930aeb">d59bff336&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>remove default allow policy for storages (&lt;a href="https://github.com/yunionio/onecloud/commit/6af7c59238fd8d851c5702f4f458feee6d95b496">6af7c5923&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>cloudid 权限修复 (&lt;a href="https://github.com/yunionio/onecloud/commit/dc32fe42e75bbd5a695f1ba68bb664382303b77e">dc32fe42e&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>cloudid 异常修复 (&lt;a href="https://github.com/yunionio/onecloud/commit/4b0bfa7342bb1f32bdd74dfe7c7874c503702f14">4b0bfa734&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复资源组云上同步异常问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/b41eea1d804376bd2022b019a3c8d69433ae875b">b41eea1d8&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复qcloud同步权限组异常问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/bfc41453015eb44974d0f52799eae8c18cba7ee3">bfc414530&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复azure 项目同步问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/cb1ad2cf03d0f97806a48b9eed23eb6201c80568">cb1ad2cf0&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免请求中国区iam异常 (&lt;a href="https://github.com/yunionio/onecloud/commit/c82f307e461d9f09a57fcda70ecfdc9aa9d205e6">c82f307e4&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复腾讯云操作日志时间异常问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/9507a7209467755fdb9cca4634ff5013eab6033a">9507a7209&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复elastic cache sku zone_id异常问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/862b926aa3a0fd9f53553e76faa37d8d4553341d">862b926aa&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>分开统计安全组关联虚拟机数量 (&lt;a href="https://github.com/yunionio/onecloud/commit/3db15d59f75b011d6bfda71642264d8d8cdaf687">3db15d59f&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>json request 支持自定义匹配err (&lt;a href="https://github.com/yunionio/onecloud/commit/5e50740b3f9aa7de279b727b53c0c25158328070">5e50740b3&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>orderedstring add performance improvements (&lt;a href="https://github.com/yunionio/onecloud/commit/f0c3b962745bf17a5de3478487ad4a57dc0d54b2">f0c3b9627&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>perform private on vpc will private all wires if no networks in wires (&lt;a href="https://github.com/yunionio/onecloud/commit/0005cf868e0fa0fe875a66e7bd25b833c477739b">0005cf868&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>remove default host list policy (&lt;a href="https://github.com/yunionio/onecloud/commit/87dc4743d3c106559d7dc3cde01d481787831530">87dc4743d&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>init wire domain_id for local vpc (&lt;a href="https://github.com/yunionio/onecloud/issues/7566">#7566&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/cedfd6410ea4954d297745f37f1993598b37a6b2">cedfd6410&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>避免cloudprovider同步缺失 (&lt;a href="https://github.com/yunionio/onecloud/commit/067b0ab760ddebc830d28b1557dde5e82cb48014">067b0ab76&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修正项目映射同步 (&lt;a href="https://github.com/yunionio/onecloud/commit/4b16fac0bacea7204b0944fb66562e5a83047cdd">4b16fac0b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>compute:&lt;/strong> return InputParameterError while ValidateCreateData (&lt;a href="https://github.com/yunionio/onecloud/commit/c050629ba2ce676ea7d9d6b05a2aa26516d21a5b">c050629ba&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> return when host.Vm is empty (&lt;a href="https://github.com/yunionio/onecloud/commit/6bfca36cb7caf8633db5efdea49225ad4d9a1917">6bfca36cb&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> Select correct unitNumber for ide control when creating disk (&lt;a href="https://github.com/yunionio/onecloud/commit/5975887d5ab5ce2beb8b931e679350a5394be00e">5975887d5&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">Rain Zheng&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> fetch templatevm from datacenter before clone vm (&lt;a href="https://github.com/yunionio/onecloud/commit/ac69f8a590a789a1fa546fcf171f2d69d50821e5">ac69f8a59&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> Guarantee the uniqueness of the schedtag for esxi host (&lt;a href="https://github.com/yunionio/onecloud/commit/5460f22444d87dc0fa259155e150ce16b644e63a">5460f2244&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxiagent:&lt;/strong> add HostDelayTaskWorkerCount (&lt;a href="https://github.com/yunionio/onecloud/commit/4e7e8a59dce4620076d90f983336697b3f6ec34e">4e7e8a59d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxiagent:&lt;/strong> return image extid not id (&lt;a href="https://github.com/yunionio/onecloud/commit/3ef91f92e5d787aabf06b44a25951e6607a62193">3ef91f92e&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> return correct value when sortContactType (&lt;a href="https://github.com/yunionio/onecloud/commit/d917e8e38654308bf86f1b9b5b5fc0c44b126088">d917e8e38&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> Replace String() with GetString() (&lt;a href="https://github.com/yunionio/onecloud/commit/8524fda7f882a86a91d3127ce3215ed2b87150b5">8524fda7f&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> Set default priority &amp;lsquo;normal&amp;rsquo; when creating notification (&lt;a href="https://github.com/yunionio/onecloud/commit/851b2d4bb7a9772271a0befd6c2359db63d3f9e3">851b2d4bb&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> break down permissions of notifyconfigs (&lt;a href="https://github.com/yunionio/onecloud/commit/72276d038d422c5d288efda7c9192152658a13ad">72276d038&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> Mark verified not enabled in MarkContactTypeVerified (&lt;a href="https://github.com/yunionio/onecloud/commit/ab02e166e90400461c10a5b70dc5661e128f26bf">ab02e166e&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> Allow user list receivers (&lt;a href="https://github.com/yunionio/onecloud/commit/82b7e659ad2de3c4d18217b476cdd0ccc08ece75">82b7e659a&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> use AfterSend for contact with succuessful sending (&lt;a href="https://github.com/yunionio/onecloud/commit/9e1a7c5e12d66b0f4772e90eee66dbf269b7bd5d">9e1a7c5e1&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> clean verifyNote when mark verified (&lt;a href="https://github.com/yunionio/onecloud/commit/09bebcf5f4dc20b8b284af0d516b817b2c1cf3ea">09bebcf5f&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> pull contact for workwx, dingtalk and feishu (&lt;a href="https://github.com/yunionio/onecloud/commit/dba92d4b0b98f338242725cd6d50ca5effe26cc2">dba92d4b0&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> modify name of notification to avoid duplication (&lt;a href="https://github.com/yunionio/onecloud/commit/043fdcfec268fc44a72fc211e9d11b37331ce334">043fdcfec&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> allow normal user create their receiver (&lt;a href="https://github.com/yunionio/onecloud/commit/aecf977801c75e7afe0bcd0e755f6ed34d88225c">aecf97780&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> add RequestSyncstatusOnHost for SESXiGuestDriver (&lt;a href="https://github.com/yunionio/onecloud/commit/55b2b290018933ae147accce01886a7900e84465">55b2b2900&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> add GetSlaveFieldName for ScalingGroupGuest (&lt;a href="https://github.com/yunionio/onecloud/commit/35842df1bd88c4bea486b6dcd0ff7ab154040c85">35842df1b&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> set ownerId as userCred when can&amp;rsquo;t FetchOwnerId (&lt;a href="https://github.com/yunionio/onecloud/commit/1215d723af47a95b2076b90ba3ab0bac7dcb6335">1215d723a&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> Don&amp;rsquo;t allow address conflicts under vpc (&lt;a href="https://github.com/yunionio/onecloud/commit/47b9b91b88b77b6356850fdd45334a37337a0f17">47b9b91b8&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> zone from guesttemplate&amp;rsquo;s preferzone maybe nil (&lt;a href="https://github.com/yunionio/onecloud/issues/7387">#7387&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/0deb908ac7c6fdb812004bf13ce7b71f6b8fae86">0deb908ac&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">Rain Zheng&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> split brand as &amp;lsquo;YunionCloud&amp;rsquo; and &amp;lsquo;云联壹云&amp;rsquo; when notify server event (&lt;a href="https://github.com/yunionio/onecloud/commit/471e2b4f13c24305ee8fcbae14d8bc55acc92b9a">471e2b4f1&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> fetch correct ownerId in PerformPrepareNets (&lt;a href="https://github.com/yunionio/onecloud/commit/c7b8e84ffe6ce440f435b3370660f39e7ab7ddcf">c7b8e84ff&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> Remove default secgroup for esxi guest (&lt;a href="https://github.com/yunionio/onecloud/commit/68ba4361db60a11c15b45a3fdf786bb95bce2752">68ba4361d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>scheduler:&lt;/strong> more standardized testing (&lt;a href="https://github.com/yunionio/onecloud/commit/348ca46a08d54ec5aad0c550880d2dd4ea1e59b2">348ca46a0&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>scheduler:&lt;/strong> fix array out of bounds when sorting hosts (&lt;a href="https://github.com/yunionio/onecloud/commit/4f9c37239e3a847d1a548b1d09595e25cfa9da07">4f9c37239&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>scheduler:&lt;/strong> filter InstanceGroup whose enabled is false (&lt;a href="https://github.com/yunionio/onecloud/commit/e6de7be7e1ada55797ad936b0d5eaeb2efbb81e0">e6de7be7e&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="bugfix-1">Bugfix (1)&lt;/h3>
&lt;ul>
&lt;li>collect esxi metric timout (&lt;a href="https://github.com/yunionio/onecloud/commit/caa26b756715751f7dd4b8bd325d1302a761c0c7">caa26b756&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="build-3">Build (3)&lt;/h3>
&lt;ul>
&lt;li>ansibleserver: use native alpine, include openssh (&lt;a href="https://github.com/yunionio/onecloud/commit/28ad028d818b13493302211c57fce81d6f5a2318">28ad028d8&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>use alpine-build:1.0-2 (&lt;a href="https://github.com/yunionio/onecloud/commit/e94d41558ddcbf1f410632ca3f957ea9f0bb6671">e94d41558&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>docker-centos-build: use centos-build:1.1-1 (&lt;a href="https://github.com/yunionio/onecloud/commit/e1e56eaa7d05f10a9691b16465737eef35262ff2">e1e56eaa7&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="capability-1">Capability (1)&lt;/h3>
&lt;ul>
&lt;li>public network count filter by default vpc (&lt;a href="https://github.com/yunionio/onecloud/commit/8dd25e01c59419def2f157ca18f5afb936d23d48">8dd25e01c&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="climc-8">Climc (8)&lt;/h3>
&lt;ul>
&lt;li>add k8s fed resource sync action (&lt;a href="https://github.com/yunionio/onecloud/commit/37b9a2e53d263669e5674b2841b6d17122d7af7e">37b9a2e53&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>refactor k8s sub command (&lt;a href="https://github.com/yunionio/onecloud/commit/51020aac04cfdbe2185f93acf4bf4cfef0621fcf">51020aac0&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>add k8s federated resource cmd (&lt;a href="https://github.com/yunionio/onecloud/commit/02dc68f20db0590d91cda74a35976fffe2a37176">02dc68f20&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>k8s cluster grafana componet support subpath (&lt;a href="https://github.com/yunionio/onecloud/commit/7f5124bdf20c6d0fa7c7e4b5f1c118204d74b4e3">7f5124bdf&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>add cmd helper to reduce duplicate code (&lt;a href="https://github.com/yunionio/onecloud/commit/aa8177f531761fedcd0461c61a4e49a7d61213a0">aa8177f53&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>update k8s resource list options (&lt;a href="https://github.com/yunionio/onecloud/commit/cd25b4ac64548d3a980931a8fac5a62dd15acbe3">cd25b4ac6&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>refactor k8s resource (&lt;a href="https://github.com/yunionio/onecloud/commit/e5bd6f26d5fd6a4c81f17efed001eb6af8d626bc">e5bd6f26d&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>update k8s-release-create params (&lt;a href="https://github.com/yunionio/onecloud/commit/253dc22cf4bc7a815ff64dd50f47c696f0c5fd44">253dc22cf&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="cloudcommon-11">Cloudcommon (11)&lt;/h3>
&lt;ul>
&lt;li>get joint model should aware fieldname (&lt;a href="https://github.com/yunionio/onecloud/commit/4164bf58c1c948aa9fb7c913a68f00431c151a90">4164bf58c&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>joint model list should add field_name into query (&lt;a href="https://github.com/yunionio/onecloud/commit/82e38b8f5153d86860b455bc9719c82a2b56fc58">82e38b8f5&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>remove query for fetchitem when not GET (&lt;a href="https://github.com/yunionio/onecloud/issues/7551">#7551&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/c672521ce2831c637610cd47b18b0c32d8d11cb1">c672521ce&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>remove unnecessary joint interface (&lt;a href="https://github.com/yunionio/onecloud/issues/7524">#7524&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/9af25a2aa9fb7bb0e13c3d1b65a6da7ebe2f3194">9af25a2aa&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>taskman: fix table insert (&lt;a href="https://github.com/yunionio/onecloud/commit/de1e1b1008e327f83f69d9d5cb627c5a44257cc8">de1e1b100&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>tablespec: informer: use %#v to log bad obj (&lt;a href="https://github.com/yunionio/onecloud/commit/4fc35f92cb89ddc986e451fa3709eda4c9da20ba">4fc35f92c&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>taskman: SetModelManager (&lt;a href="https://github.com/yunionio/onecloud/commit/08cd41b60d83ad9233ae4f5ee657ac559a45e246">08cd41b60&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>etcd: quash low-value debug log lines (&lt;a href="https://github.com/yunionio/onecloud/commit/2eeb45deda1d7bdc43e579e4eb74177dedf13d25">2eeb45ded&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>policy: fix interval and oneshot sync (&lt;a href="https://github.com/yunionio/onecloud/commit/29a3171a3a6cdbab4cbb4bc84cc091ecf057989e">29a3171a3&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>tablespec: informer: log obj type (&lt;a href="https://github.com/yunionio/onecloud/commit/145c88f79bc2bc829188064d43ac2d5d063adf94">145c88f79&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>app: cosmetic change (&lt;a href="https://github.com/yunionio/onecloud/commit/d9f3dfbbfe97a124eb3635034ec9bae1ea1498b7">d9f3dfbbf&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="cloudprovider-1">Cloudprovider (1)&lt;/h3>
&lt;ul>
&lt;li>remove redundant error log (&lt;a href="https://github.com/yunionio/onecloud/commit/ffcea2ae56f2ffb6045e4847878be08a3ce898b1">ffcea2ae5&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="code-refactoring-6">Code Refactoring (6)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>esxi:&lt;/strong> replace GetTemplateVMById with FetchTemplateVMById (&lt;a href="https://github.com/yunionio/onecloud/commit/42faf34f151e5b3cc2f44d82abc7a9a83c8110dc">42faf34f1&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> fetchVms and fetchHardwareInfo (&lt;a href="https://github.com/yunionio/onecloud/commit/ef8768fcef541ef93656259f2f30ee831b667939">ef8768fce&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> hide SSunContact webconsole (&lt;a href="https://github.com/yunionio/onecloud/commit/10caff1d9cbccb4e68968e7e10bbc437e6657d5b">10caff1d9&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> replace &amp;lsquo;ActualCapacity&amp;rsquo; with &amp;lsquo;ActualCapacityUsed&amp;rsquo; (&lt;a href="https://github.com/yunionio/onecloud/commit/e0c94daaf7a78ee62e45b086901bbd2e26c8b14a">e0c94daaf&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> optimize preparenet of cloudaccount (&lt;a href="https://github.com/yunionio/onecloud/commit/3f77c01e6b47ce49ecdb20fb2ada8af45ae433b8">3f77c01e6&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>scheduler:&lt;/strong> make forcast result clearer (&lt;a href="https://github.com/yunionio/onecloud/commit/6000874b3cf5853a40256a7a167c953d5d4b8cf1">6000874b3&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="db-1">Db (1)&lt;/h3>
&lt;ul>
&lt;li>IModel: add GetI18N() method (&lt;a href="https://github.com/yunionio/onecloud/commit/62c0c11c305756bb360a68e6c9967216d27f9790">62c0c11c3&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="db_dispatcher-1">Db_dispatcher (1)&lt;/h3>
&lt;ul>
&lt;li>pass query for fetchItem (&lt;a href="https://github.com/yunionio/onecloud/commit/c777793d96162456d56759868a1b836a47619322">c777793d9&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="disk-1">Disk (1)&lt;/h3>
&lt;ul>
&lt;li>check disk is need renew on guest set renew (&lt;a href="https://github.com/yunionio/onecloud/commit/77f479ce60a4d692f5782755ca1833f294c8f5d6">77f479ce6&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="dns-1">Dns (1)&lt;/h3>
&lt;ul>
&lt;li>isMyDomain: match only strict subdomain of dns_domain (&lt;a href="https://github.com/yunionio/onecloud/commit/7e191a503cbdf42db0428760218dcc64c2c2d0f4">7e191a503&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="elasticips-3">Elasticips (3)&lt;/h3>
&lt;ul>
&lt;li>error when we have no usable eip network (&lt;a href="https://github.com/yunionio/onecloud/commit/59a5e9201eb676de6ba5544979b3bfed8d73c07e">59a5e9201&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>fix calling FilterByOwner (&lt;a href="https://github.com/yunionio/onecloud/commit/430e9cd0fc6958abea7b8cd9ae808354ccacc58f">430e9cd0f&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>filter by owner when doing auto allocation (&lt;a href="https://github.com/yunionio/onecloud/commit/8a0f940b388271c75b045a4319edd0e3c7637974">8a0f940b3&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="feature-13">Feature (13)&lt;/h3>
&lt;ul>
&lt;li>add dns interface (&lt;a href="https://github.com/yunionio/onecloud/commit/a85a1aecd48af5031942eb5a82bd717a0be4b3b5">a85a1aecd&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>use informer to update endpoint, policy and service configs (&lt;a href="https://github.com/yunionio/onecloud/issues/7596">#7596&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/34ee80f011c1eab09726e64bf1278562f7a6eba3">34ee80f01&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>cloudid saml support phase1 &amp;ndash; framework and api (&lt;a href="https://github.com/yunionio/onecloud/commit/92f05be3093b509f63913c00c1ec4d09ab7d2572">92f05be30&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>do uniqueness check when create/update idp configs (&lt;a href="https://github.com/yunionio/onecloud/issues/7584">#7584&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/2b7586140a9b474c27a584389af694b88fe094ca">2b7586140&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>OpenID Connect provider support (&lt;a href="https://github.com/yunionio/onecloud/issues/7490">#7490&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/604b6b7fffd9c28c3398b032148c35039b87f61c">604b6b7ff&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>OpenID Connect provider support (&lt;a href="https://github.com/yunionio/onecloud/issues/7446">#7446&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/0e775e68ec5966056adf61435cab3aeddf0ddc1e">0e775e68e&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>add is_auto_alloc flag to networks (&lt;a href="https://github.com/yunionio/onecloud/issues/7473">#7473&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/1ba9715ec2bbc73804d34c31390d698c1d76ef43">1ba9715ec&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>unified sso login framework (&lt;a href="https://github.com/yunionio/onecloud/commit/0967843896c04806f78b8b4b03458b0ec062cd5b">096784389&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>project filter that list jointable projects for user or group (&lt;a href="https://github.com/yunionio/onecloud/commit/eb4a252d08076618838123589db6667b0ba3092a">eb4a252d0&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>apigateway store auth state in cookie instead of sqlite (&lt;a href="https://github.com/yunionio/onecloud/commit/7ba3945d8689f977b19cb6590b47cd71b90fd26b">7ba3945d8&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>keystone add support for OpenID Connection idp (&lt;a href="https://github.com/yunionio/onecloud/commit/2183490a53356bd0fe8d57b6842401beae651db2">2183490a5&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>
&lt;ol>
&lt;li>idp as domain resource 2. keystone support SAML IDP (&lt;a href="https://github.com/yunionio/onecloud/commit/889a35bc7a976925c1e8647985ad61634b476168">889a35bc7&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>support SAML idp (&lt;a href="https://github.com/yunionio/onecloud/commit/3b7a1e94673da1fe640f831361234e04700e131a">3b7a1e946&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-28">Features (28)&lt;/h3>
&lt;ul>
&lt;li>add NotifyError in notifyclient (&lt;a href="https://github.com/yunionio/onecloud/commit/cee07e7861c7ac2965a3f6e009d8ef676a4d7b2a">cee07e786&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Add BatchSendMessage for feishu SDK (&lt;a href="https://github.com/yunionio/onecloud/commit/aa364a3d74a59271f695b9e5510862435d6065c2">aa364a3d7&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>add GetCapacityUsedMB for ICloudStorage (&lt;a href="https://github.com/yunionio/onecloud/commit/116d347c880c0be15b696a33f4582313d7e2e852">116d347c8&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Add method &amp;lsquo;Sku&amp;rsquo; to CandidatePropertyGetter (&lt;a href="https://github.com/yunionio/onecloud/commit/d086161a68c860f6f5c2407f5febcdfa50278260">d086161a6&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>add WithCtx version to notifyclient function (&lt;a href="https://github.com/yunionio/onecloud/commit/8eba2c369f7b1fff9564b05555d28dbebf7418e4">8eba2c369&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>add GetSchedtags for ICloudHost (&lt;a href="https://github.com/yunionio/onecloud/commit/0d05f9ee18c6111396ddec126d6c9a1d582c388f">0d05f9ee1&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>log err when sending notification via notifyclient (&lt;a href="https://github.com/yunionio/onecloud/commit/2d5055c9080f65871bd3df9f241cd5578a904baa">2d5055c90&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>inherit lang from ctx fro Task (&lt;a href="https://github.com/yunionio/onecloud/commit/8da2d5ff7a2af08a24769667cebcfe2895d411c5">8da2d5ff7&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Add IResultHelper (&lt;a href="https://github.com/yunionio/onecloud/commit/39fed764feaa67452ff4d46edb719a9f3f5f912f">39fed764f&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>notify user when failing to change config (&lt;a href="https://github.com/yunionio/onecloud/commit/0308ce2882eff60ce4dcf89c8082e0253fe87c48">0308ce288&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> support fetchVM form datacenter (&lt;a href="https://github.com/yunionio/onecloud/commit/6b340264e47951cd0271df5558ba34a8dfbabf31">6b340264e&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> add GetSchedtags implementation for esxi.SHost (&lt;a href="https://github.com/yunionio/onecloud/commit/857e76ab784f089c2e2d9954321eede2fb05260e">857e76ab7&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> correctly judge whether inet is nil (&lt;a href="https://github.com/yunionio/onecloud/commit/65ca3ace7494fe266269f8ab72ce41e4a6e3a3dd">65ca3ace7&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxicli:&lt;/strong> better vm operator (&lt;a href="https://github.com/yunionio/onecloud/commit/3f8f9e6c56cc4da57680458e21fc990433da2ac6">3f8f9e6c5&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> replace VerifiedContactTypes with VerifiedInfos in ReceiverDetails (&lt;a href="https://github.com/yunionio/onecloud/commit/8c6fdd1106d8b5d57c1dd8f8d9f542ab87374f95">8c6fdd110&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> Support trigger-verify for feishu, dingtalk and workwx (&lt;a href="https://github.com/yunionio/onecloud/commit/beee6e2c9f498b017193ebe5472218094f402740">beee6e2c9&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> Add VerifiedNote for SSubContact (&lt;a href="https://github.com/yunionio/onecloud/commit/60412cf7e8fb452a046951dbfdc469415095f226">60412cf7e&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> break down error from UseridByMobile (&lt;a href="https://github.com/yunionio/onecloud/commit/90b84e995b8f14cc18a2862bc65af7182fda3bd0">90b84e995&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> sort the returned contact type array (&lt;a href="https://github.com/yunionio/onecloud/commit/f24950da96f72e99fad90333f708651acb2f1137">f24950da9&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> Allow use topic to filter notification (&lt;a href="https://github.com/yunionio/onecloud/commit/ff52e00448a2b58daf162a8c2012d350767ef709">ff52e0044&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> Add TNotifyChannel const of robot (&lt;a href="https://github.com/yunionio/onecloud/commit/7c6e053a080b67ac5cf67ed5bbb2b9a53fc74930">7c6e053a0&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> sync capacityUsed for storage after deploying or deleting guest (&lt;a href="https://github.com/yunionio/onecloud/commit/9ded6e43f1cb1c5579e47174e4f678e179274330">9ded6e43f&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> change fomat &amp;lsquo;id&amp;rsquo; to &amp;lsquo;name(id)&amp;rsquo; in scheduledtasks' log (&lt;a href="https://github.com/yunionio/onecloud/commit/7b67554dcce96a562307c44580d96bd1e7c4dcaf">7b67554dc&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> replace 虚拟机 with 主机 or 云主机 (&lt;a href="https://github.com/yunionio/onecloud/commit/c542249c7c3d7b624a38782094846e48bf9134bb">c542249c7&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> divide notify templates into Chinese and English versions (&lt;a href="https://github.com/yunionio/onecloud/commit/5a10f9dd9c96346898ac66a4216c860376bcbbe5">5a10f9dd9&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> sync schedtags when syncing host (&lt;a href="https://github.com/yunionio/onecloud/commit/679ccb825a3a1c60c33c5d17d4a55f0c0c043d7a">679ccb825&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> sync CapacityUsed for Storage (&lt;a href="https://github.com/yunionio/onecloud/commit/547b2960b1552f3b437066399cbe657634dfbefe">547b2960b&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>scheduler:&lt;/strong> Change the action for guests with backup and instanceGroup (&lt;a href="https://github.com/yunionio/onecloud/commit/fa0450b4540e970071ee8d3919b494e376683728">fa0450b45&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="glance-1">Glance (1)&lt;/h3>
&lt;ul>
&lt;li>check min disk size on update (&lt;a href="https://github.com/yunionio/onecloud/commit/00265fedda74449b76c431c67df4bae52389a2b3">00265fedd&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="guests-1">Guests (1)&lt;/h3>
&lt;ul>
&lt;li>guests with vpc nics are available for eip association (&lt;a href="https://github.com/yunionio/onecloud/commit/5c7ae23d855d8ecf5265f24c9f485981450fd66c">5c7ae23d8&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="host-1">Host (1)&lt;/h3>
&lt;ul>
&lt;li>fix rbd storage cache iso image (&lt;a href="https://github.com/yunionio/onecloud/commit/6a7cf0608d9ff6c64341fe9bcc26b20817a6cfa4">6a7cf0608&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="hostinfo-1">Hostinfo (1)&lt;/h3>
&lt;ul>
&lt;li>try create network add is_on_premise (&lt;a href="https://github.com/yunionio/onecloud/issues/7707">#7707&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/607e3d8fdc040f4dbab2e1daf1566a624575535b">607e3d8fd&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="hotfix-1">Hotfix (1)&lt;/h3>
&lt;ul>
&lt;li>vpc change owners with wire (&lt;a href="https://github.com/yunionio/onecloud/commit/5e721b9297e8fae5dc7885f9f1fb986cb15c94dd">5e721b929&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="httperrors-3">Httperrors (3)&lt;/h3>
&lt;ul>
&lt;li>HTTPError: use Error type (&lt;a href="https://github.com/yunionio/onecloud/commit/918dce80e864910a4cc36edabcc56b84c459f544">918dce80e&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>add Error type (&lt;a href="https://github.com/yunionio/onecloud/commit/12899ab007d04ce222f16d075dd7ff359182acb1">12899ab00&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>use existing details if id is not present (&lt;a href="https://github.com/yunionio/onecloud/issues/7711">#7711&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/bde5e1b96a983add7439d34bb6c201f38e4dcb77">bde5e1b96&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="httputils-1">Httputils (1)&lt;/h3>
&lt;ul>
&lt;li>preserve format val types (&lt;a href="https://github.com/yunionio/onecloud/commit/4fb45676a440403a1158b4b4ef4c9b70799373e9">4fb45676a&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="i18n-2">I18n (2)&lt;/h3>
&lt;ul>
&lt;li>add ITable (&lt;a href="https://github.com/yunionio/onecloud/commit/8164854fd09574bdea254ac44cea7bbc61d47e6c">8164854fd&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>move out from httperrors pkg (&lt;a href="https://github.com/yunionio/onecloud/commit/8dc1796768bd086b4c87c8fcd548031e77e71d1f">8dc179676&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="iproute2-1">Iproute2 (1)&lt;/h3>
&lt;ul>
&lt;li>address: make Exact idempotent (&lt;a href="https://github.com/yunionio/onecloud/commit/05b72a9d0278be55fa058c94970316f374c1fda5">05b72a9d0&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="keystone-2">Keystone (2)&lt;/h3>
&lt;ul>
&lt;li>passwords: SetModelManager (&lt;a href="https://github.com/yunionio/onecloud/commit/61cd611aac47e5e1b03d69594955f81679164bf9">61cd611aa&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>config: SetModelManager for whitelisted config (&lt;a href="https://github.com/yunionio/onecloud/commit/6c9e8f1948f2035159e41f33733f6ad87ab24c84">6c9e8f194&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="lb-1">Lb (1)&lt;/h3>
&lt;ul>
&lt;li>include cluster name info in details (&lt;a href="https://github.com/yunionio/onecloud/commit/7add764152c290b40e0cafb9e9ce2db398e1ebb6">7add76415&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="locales-3">Locales (3)&lt;/h3>
&lt;ul>
&lt;li>monitor: add translations (&lt;a href="https://github.com/yunionio/onecloud/commit/70fd9dfb705b094bb043a0455980c56cc68dcf80">70fd9dfb7&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>update translation (&lt;a href="https://github.com/yunionio/onecloud/commit/a54d0e59202b80ba6b6b1f605e7c4fe6cb69bd0f">a54d0e592&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>update translations (&lt;a href="https://github.com/yunionio/onecloud/commit/c4f4e7d30b9d43e1a1c817a171f8f1944070363e">c4f4e7d30&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="logclient-5">Logclient (5)&lt;/h3>
&lt;ul>
&lt;li>i18n: en for const (&lt;a href="https://github.com/yunionio/onecloud/commit/6bff7caf9be611fd0089f9f410a3e21449ce3ecd">6bff7caf9&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>i18n: cn for const (&lt;a href="https://github.com/yunionio/onecloud/commit/27d0452fafa94c72924b51033b62c755928071c5">27d0452fa&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>convert const val to use latin chars (&lt;a href="https://github.com/yunionio/onecloud/commit/b1a332fec1c109cc2ffac6479ff5bb3195c74fba">b1a332fec&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>move ws list to separate file (&lt;a href="https://github.com/yunionio/onecloud/commit/bc066edc095161b4f8598542843413953e073fc4">bc066edc0&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>separate lines (&lt;a href="https://github.com/yunionio/onecloud/commit/0b878134b6136e25efaa03cb1e85ea1604ba9d65">0b878134b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="logger-2">Logger (2)&lt;/h3>
&lt;ul>
&lt;li>actionlog: add GetI18N (&lt;a href="https://github.com/yunionio/onecloud/commit/3f7155c39c7ba7f3be00f69ea455b9782f928206">3f7155c39&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>actionlog: remove redundant comments (&lt;a href="https://github.com/yunionio/onecloud/commit/b13d0f6035a323fb8ec96696ad02f002e05c19aa">b13d0f603&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="mcclient-1">Mcclient (1)&lt;/h3>
&lt;ul>
&lt;li>options: loadbalanceragents: yum as the default deploy method (&lt;a href="https://github.com/yunionio/onecloud/commit/24379db85b58e830e3a3d9cf639a3d400e122c6a">24379db85&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="monitor-4">Monitor (4)&lt;/h3>
&lt;ul>
&lt;li>error fmt (&lt;a href="https://github.com/yunionio/onecloud/commit/572e45968deac54c91555fec88a9a5cd081af3a0">572e45968&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>suggestsysalert add ignore action (&lt;a href="https://github.com/yunionio/onecloud/commit/7aa3c9ddeccd2158960d81570309da128ee6ebb4">7aa3c9dde&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>reduce subscription mysql usage (&lt;a href="https://github.com/yunionio/onecloud/commit/cdf33052c13ae5eead9f3e691c9d721622c23a4f">cdf33052c&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>support suggest rule alert config and add snapshot_unused driver (&lt;a href="https://github.com/yunionio/onecloud/commit/7a9662c6f5d0e53ccf00d7b1881fa5d3f1c99894">7a9662c6f&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="opslog-1">Opslog (1)&lt;/h3>
&lt;ul>
&lt;li>move const to separate file (&lt;a href="https://github.com/yunionio/onecloud/commit/986031fc972c346ce620e26c8e5d7b3c0a4ce893">986031fc9&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="opt-1">Opt (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>scheduler:&lt;/strong> better sort for hosts when selectHost (&lt;a href="https://github.com/yunionio/onecloud/commit/ed4847dffcb25fea3045e54b4b8be85be8766a8c">ed4847dff&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="optimized-2">Optimized (2)&lt;/h3>
&lt;ul>
&lt;li>create eip params (&lt;a href="https://github.com/yunionio/onecloud/commit/becf92f6bf8ce198f1e0af6fcc05c4b9ca39975a">becf92f6b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>支持ip和端口过滤安全组 (&lt;a href="https://github.com/yunionio/onecloud/commit/594f05d94bc60991159eba9297c4a6e186c5fe0b">594f05d94&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-178">Others (178)&lt;/h3>
&lt;ul>
&lt;li>fix:允许cname record通过policy多值 (&lt;a href="https://github.com/yunionio/onecloud/commit/9b7fbf33b8eaa270e32f19f0b34b9975f3231642">9b7fbf33b&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;li>aliyun public elb region fix (&lt;a href="https://github.com/yunionio/onecloud/commit/7a61d77b06cb37ed34a0fe207b78cd87db1241ea">7a61d77b0&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>bugfix commalert 3.4 (&lt;a href="https://github.com/yunionio/onecloud/commit/e87d2c0e86d53bb097ed27427062d210a99638da">e87d2c0e8&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>bugfix:commonalert (&lt;a href="https://github.com/yunionio/onecloud/commit/a9c95cf36391f76f8f65410ef00336305015af83">a9c95cf36&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>aliyun public elb brand fix (&lt;a href="https://github.com/yunionio/onecloud/commit/540f4631f461340fc06db34c8dbf646d4a7cf19b">540f4631f&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>fix:forbid top level public domain name (&lt;a href="https://github.com/yunionio/onecloud/commit/fba8349e8492edcc5d9d09660ec54d1c7d4f47ef">fba8349e8&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;li>mcclient modules: fix k8s fed rolebinding joint wrong resource manager (&lt;a href="https://github.com/yunionio/onecloud/commit/1a1d7c70ad2c8e529a8b5161d67cce0ea774bd5b">1a1d7c70a&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>bugfix :esxi 多机器环境下拉取监控超时 (&lt;a href="https://github.com/yunionio/onecloud/commit/b88c114ba6fbb5d1bb1cae5792aaefe889e278a8">b88c114ba&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>aliyun create public lb fix (&lt;a href="https://github.com/yunionio/onecloud/commit/3ddce26aa0ea0592e18fd78349ff4213fc258d7d">3ddce26aa&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>fix:/dnsrecordset重复检查,dnszonevpc数量 (&lt;a href="https://github.com/yunionio/onecloud/commit/d94e55501a442aac2afa8bb5a48f24b9cd737044">d94e55501&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;li>increase rbd check timeout (&lt;a href="https://github.com/yunionio/onecloud/commit/adbe292f488b54c5cf1d87362964db637287e986">adbe292f4&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>umount nfs on detach storage (&lt;a href="https://github.com/yunionio/onecloud/commit/61cc1801016df8457e4255b71e5c1d05f9e29eb7">61cc18010&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix:(region) correct syncSchedtags (&lt;a href="https://github.com/yunionio/onecloud/commit/4586c82cb224701c4585c812eeb54bcd4569c7e3">4586c82cb&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>huawei client request add throttling control (&lt;a href="https://github.com/yunionio/onecloud/commit/77865d894e1a9cd8abd5fbaf8ddf4c18f72e45a3">77865d894&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>huawei elb get params log (&lt;a href="https://github.com/yunionio/onecloud/commit/454aabca751c6c2cde5803b4a7443bd2b2e4b8cb">454aabca7&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>qcloud elb create listener fix (&lt;a href="https://github.com/yunionio/onecloud/commit/c6d2149914641918f29dffacf5750c63cc93ec78">c6d214991&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>huawei snapshot delete fix (&lt;a href="https://github.com/yunionio/onecloud/commit/ebee60810919147228fe6d6fdbdfeb28d30ba608">ebee60810&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>set stagefail on clean fail (&lt;a href="https://github.com/yunionio/onecloud/commit/7e2e7ade19d2db8f6e73ff0e6852083c5fa187bb">7e2e7ade1&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>wait deleted (&lt;a href="https://github.com/yunionio/onecloud/commit/d90b661f7e956727ca91e1c6ee77dfe808317b0a">d90b661f7&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;li>commonalert bugfix 3.4 (&lt;a href="https://github.com/yunionio/onecloud/commit/365e555c98f06da7ca844a0346ab0af82b1f520c">365e555c9&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>bugfix:esxi collect metric (&lt;a href="https://github.com/yunionio/onecloud/commit/a7198dc21b098e6fb1da8a88976b81e84a3c4e17">a7198dc21&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix esxi-agent dockerfile typo (&lt;a href="https://github.com/yunionio/onecloud/commit/78fc35d3a61e295541b7770d4a196a0837b3f044">78fc35d3a&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>support mutli params (&lt;a href="https://github.com/yunionio/onecloud/commit/8102e7ed00d50eac2371c952b9e2c9cf7c2fbc61">8102e7ed0&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>make with ARCH argument (&lt;a href="https://github.com/yunionio/onecloud/commit/384e866649f749704b428a0bfc99e51f1677aa7a">384e86664&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>support search ip (&lt;a href="https://github.com/yunionio/onecloud/commit/884e82a1507d19088c3c548085f5e1ad2d05a19b">884e82a15&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>regional network filter bugfix (&lt;a href="https://github.com/yunionio/onecloud/commit/0bba6e63f0768b7963d2d51389d5c1b7ffadf690">0bba6e63f&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>ctyun sync secgroup fix &amp;amp; cloudaccount delete fix (&lt;a href="https://github.com/yunionio/onecloud/commit/0acbfc89f353400cb8360e6dce7d267d98fae3fa">0acbfc89f&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>common alert bugfix/3.4 (&lt;a href="https://github.com/yunionio/onecloud/commit/477d36f827d969bd49c3ffe11e89018eb388b5da">477d36f82&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix host deployer base image (&lt;a href="https://github.com/yunionio/onecloud/commit/33fb33a58973f77874765a35ab09095a02a7285f">33fb33a58&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>ctyun add region cn-bj1 (&lt;a href="https://github.com/yunionio/onecloud/commit/12bd187ec904a3a581c49307db32830223434078">12bd187ec&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>fix set host image cache properties (&lt;a href="https://github.com/yunionio/onecloud/commit/5593b88e9882186db0121f18b51363f75980b82f">5593b88e9&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix update image status after save failed (&lt;a href="https://github.com/yunionio/onecloud/commit/785da09d6283bf21c87b62d2df01b41257cc3c7c">785da09d6&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>host sync storage size (&lt;a href="https://github.com/yunionio/onecloud/commit/585ef583327f5c16a1b7f0214d37cb04af841225">585ef5833&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>dup record process (&lt;a href="https://github.com/yunionio/onecloud/commit/4487867f534b564900520c960c255f851eef726c">4487867f5&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;li>suggest rule modify: (&lt;a href="https://github.com/yunionio/onecloud/commit/9b12c675d2c438a83e58ca0a93257db18fbd6112">9b12c675d&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>bugfix vmware monitor (&lt;a href="https://github.com/yunionio/onecloud/commit/2a680f99a7ab4c13e8f00d91373868ac143bbd3f">2a680f99a&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>dns access (&lt;a href="https://github.com/yunionio/onecloud/commit/70297e3130bb02eb03b09afc13023015213342ea">70297e313&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;li>commonalet bugfix: (&lt;a href="https://github.com/yunionio/onecloud/commit/1a323667ad2d7bcda32cd5c4cba8525138eabda9">1a323667a&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>Add mock test for genericScheudler.Schedule (&lt;a href="https://github.com/yunionio/onecloud/commit/89980b6267ed0c8046754f4e6858396760c94cd3">89980b626&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>fix host error output (&lt;a href="https://github.com/yunionio/onecloud/commit/ada6c870d801338a80ef816323d3a0bb25ab5a8e">ada6c870d&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>isolated devices info reenterable (&lt;a href="https://github.com/yunionio/onecloud/commit/78f9db1ba00bdb81a193a67f7ca8dcd8f5859769">78f9db1ba&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>guest short desc add backup host id (&lt;a href="https://github.com/yunionio/onecloud/commit/8c4941ea70ebae9773ec59fff1fbf3f2d162fd06">8c4941ea7&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix get ubuntu version (&lt;a href="https://github.com/yunionio/onecloud/commit/d22676906c3a557558129830ecf52c44dc1e7c5a">d22676906&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>optimized cachedimages sync (&lt;a href="https://github.com/yunionio/onecloud/commit/7095ea8f8b83cdd3248d045983506d50f24f04f4">7095ea8f8&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>pex register add optional column mac_access (&lt;a href="https://github.com/yunionio/onecloud/commit/24af17757d230ee1e7930baa29351e7732ee50f2">24af17757&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>create classic vpc fix (&lt;a href="https://github.com/yunionio/onecloud/commit/612ad9286b2e32e5eaa97ce9c09c9cd0bd135838">612ad9286&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>Automated cherry pick of &lt;a href="https://github.com/yunionio/onecloud/issues/7714">#7714&lt;/a>: Feature &amp;amp; Fix for Notify (&lt;a href="https://github.com/yunionio/onecloud/issues/7715">#7715&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/eb9d794fab588616fe2240a6d24aa70209d45f23">eb9d794fa&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">Rain Zheng&lt;/a>)&lt;/li>
&lt;li>update host status to unknown on host offline (&lt;a href="https://github.com/yunionio/onecloud/commit/20b949091e3726f7e8c42fe47b2fbe70fe442ee1">20b949091&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>vmware disk support deploy lvm partition (&lt;a href="https://github.com/yunionio/onecloud/commit/43ce3b5455e27536397e09ba2ef86e337e70a79b">43ce3b545&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>listfilter by alert_id (&lt;a href="https://github.com/yunionio/onecloud/commit/d95e64e593adce66bf50bb236ed8a9d17e6c07b0">d95e64e59&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>alert record bugfix (&lt;a href="https://github.com/yunionio/onecloud/commit/06bd735f0bdb89a371a63c6f96c67e9d5065086e">06bd735f0&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>Automated cherry pick of &lt;a href="https://github.com/yunionio/onecloud/issues/7712">#7712&lt;/a>: httperrors: support setting lang with X-Yunion-Lang (&lt;a href="https://github.com/yunionio/onecloud/issues/7713">#7713&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/77a5c1ff85382de984991a0babcb3e4663e27e5c">77a5c1ff8&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>Automated cherry pick of &lt;a href="https://github.com/yunionio/onecloud/issues/7692">#7692&lt;/a>: feat(notify): Support update for notify config (&lt;a href="https://github.com/yunionio/onecloud/issues/7693">#7693&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/b03c8ce506016e83339d467dc32fdc57004026f3">b03c8ce50&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">Rain Zheng&lt;/a>)&lt;/li>
&lt;li>Automated cherry pick of &lt;a href="https://github.com/yunionio/onecloud/issues/7661">#7661&lt;/a>: fix(host-deployer): Exit correctly after mounting (&lt;a href="https://github.com/yunionio/onecloud/issues/7672">#7672&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/c914dafa75ec75d5d18964cdf57802ad6a7b76b4">c914dafa7&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">Rain Zheng&lt;/a>)&lt;/li>
&lt;li>fix host get guests (&lt;a href="https://github.com/yunionio/onecloud/issues/7683">#7683&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/4af4bcb963ce841ab8d0199976c6a87d35fd2185">4af4bcb96&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix get storage capacity on init' (&lt;a href="https://github.com/yunionio/onecloud/issues/7687">#7687&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/b85fb98297746fb3d261f316c4769509cf334040">b85fb9829&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>snapshot list by guest (&lt;a href="https://github.com/yunionio/onecloud/commit/438c1ced5fc954ae0ffe97eb0d2dfc5b734cd95e">438c1ced5&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>commonalert bugfix (&lt;a href="https://github.com/yunionio/onecloud/commit/be5bf11ebe4c0bf9c23fc81b51e138c60afe1b2a">be5bf11eb&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>统一监控查询面板保存 (&lt;a href="https://github.com/yunionio/onecloud/commit/6cea2883ab0e53a11b263f4673d359f390e6d1e4">6cea2883a&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>update host deployer base image version (&lt;a href="https://github.com/yunionio/onecloud/commit/53a6c40a8a5c811b39a5616267e3a566bcf13426">53a6c40a8&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>baremetal colloct isolated devices info (&lt;a href="https://github.com/yunionio/onecloud/issues/7658">#7658&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/eee193165eec57d5a749bb3a8a8f31e3e9b37190">eee193165&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix mount fetcher fs (&lt;a href="https://github.com/yunionio/onecloud/issues/7657">#7657&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/8e83ab47682ce83169bf652a9abe601d65e5ae02">8e83ab476&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>remove backup metadata on delete backup (&lt;a href="https://github.com/yunionio/onecloud/issues/7654">#7654&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/b977641336d27941038ad46353ec7b4046b48010">b97764133&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>eip &amp;amp; vpc manager match fix (&lt;a href="https://github.com/yunionio/onecloud/commit/132c5837909a1b29280970d8af846853e99517bd">132c58379&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>fix build baremetal agent image (&lt;a href="https://github.com/yunionio/onecloud/issues/7647">#7647&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/557240155d827ef7e560a1b0d1d995851a27dba9">557240155&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>metric describe 接口 (&lt;a href="https://github.com/yunionio/onecloud/issues/7381">#7381&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/dd8a07f3641fccbb63a4bcd5ceb1bac750766fc1">dd8a07f36&lt;/a>, &lt;a href="mailto:39040177+zhaoxiangchun@users.noreply.github.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix github action workflow (&lt;a href="https://github.com/yunionio/onecloud/issues/7635">#7635&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/c1cf728995d06cc32e0583b450d7a5628d392482">c1cf72899&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>separate guest doamin and dns (&lt;a href="https://github.com/yunionio/onecloud/issues/7621">#7621&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/61214f2e2c76e0fbf79d80b3cd59473a8854e999">61214f2e2&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix gpfs check mountpoint (&lt;a href="https://github.com/yunionio/onecloud/issues/7623">#7623&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/2904364de219fa69f01a200692db757931b0ee82">2904364de&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>Refactor for Notify (&lt;a href="https://github.com/yunionio/onecloud/issues/7611">#7611&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/853153c739856a9f3e9a1127ba18b6979f2a221a">853153c73&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">Rain Zheng&lt;/a>)&lt;/li>
&lt;li>docker build support buildx and arm architecture (&lt;a href="https://github.com/yunionio/onecloud/commit/6b944626b788e2a59866d007fd825ec7919d336a">6b944626b&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>Feature/yousong text (&lt;a href="https://github.com/yunionio/onecloud/issues/7487">#7487&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/c2bca8ab397009d9540b5fa7d947595be908c60e">c2bca8ab3&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>feature:host image fetcher fs (&lt;a href="https://github.com/yunionio/onecloud/issues/7606">#7606&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/a4b27a3cf36745441b66179ffc10049a362cafad">a4b27a3cf&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix:wrap params (&lt;a href="https://github.com/yunionio/onecloud/issues/7605">#7605&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/46683b210b41af7ee23b1c5935864e5e9be70d58">46683b210&lt;/a>, &lt;a href="mailto:1667402135@qq.com">lvyangyang&lt;/a>)&lt;/li>
&lt;li>alter table guestcdrom_tbl modify column size bigint (&lt;a href="https://github.com/yunionio/onecloud/issues/7593">#7593&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/dcf8183c309e478addfa4fe508ea2f8a8ae4745a">dcf8183c3&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>only notify watched resource (&lt;a href="https://github.com/yunionio/onecloud/issues/7592">#7592&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/86253534d79754da04df2b0c447a4ac5ce98c99d">86253534d&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>Bugfix/yousong vpc ext (&lt;a href="https://github.com/yunionio/onecloud/issues/7585">#7585&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/6dc007425ce92561a910e3a17a3ce8c6dbd53002">6dc007425&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>Bugfix/yousong hostman routes (&lt;a href="https://github.com/yunionio/onecloud/issues/7563">#7563&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/e01f0ce2a284fd13bf612329a75f6f40edcb1fef">e01f0ce2a&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>fix usage not set prefix (&lt;a href="https://github.com/yunionio/onecloud/issues/7568">#7568&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/29c0e538498a3924783b387cd87f747a8587757f">29c0e5384&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>support diable usb kbd (&lt;a href="https://github.com/yunionio/onecloud/commit/df9e47cbfc720dd6819832a626fd29ba031d2760">df9e47cbf&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix usage get storage capbility (&lt;a href="https://github.com/yunionio/onecloud/issues/7527">#7527&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/aa483edebaa4ade8241985a2c1430eaadec6a6fc">aa483edeb&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix mount xfs (&lt;a href="https://github.com/yunionio/onecloud/commit/cdaff21269e501ca4e90212cca12217c45e19264">cdaff2126&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>usage report reserved memory (&lt;a href="https://github.com/yunionio/onecloud/issues/7525">#7525&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/54ff56c04e0ce48c4af569cea22bd7b8038ed452">54ff56c04&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>set disk status on disk detached (&lt;a href="https://github.com/yunionio/onecloud/issues/7517">#7517&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/cad24ac69b91775987029c9439dd0abccd4b8f07">cad24ac69&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>nodealert bugfix： (&lt;a href="https://github.com/yunionio/onecloud/issues/7512">#7512&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/b63d9b55d81de4e1013ebb09979b167833233b3e">b63d9b55d&lt;/a>, &lt;a href="mailto:39040177+zhaoxiangchun@users.noreply.github.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>modify telegraf reporting tag (&lt;a href="https://github.com/yunionio/onecloud/issues/7489">#7489&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/22cd20c3f9db3ad468dc4af456967b6e0668bd22">22cd20c3f&lt;/a>, &lt;a href="mailto:39040177+zhaoxiangchun@users.noreply.github.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>add image upload&amp;amp; s3 upload api (&lt;a href="https://github.com/yunionio/onecloud/issues/7514">#7514&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/280039ab385a1fa2b6a24ff264731f5cf7eb72b9">280039ab3&lt;/a>, &lt;a href="mailto:41716617+tb365@users.noreply.github.com">tb365&lt;/a>)&lt;/li>
&lt;li>Hotfix/qj password login wrong idp (&lt;a href="https://github.com/yunionio/onecloud/issues/7511">#7511&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/b0505ba5fdc04db979e2abd07262ff6e2fd98b59">b0505ba5f&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>fix host info get sshkey (&lt;a href="https://github.com/yunionio/onecloud/issues/7484">#7484&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/716f647f7a988e3713a96dcf469c63a3646e9c20">716f647f7&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix reauth condition on influxdb not found (&lt;a href="https://github.com/yunionio/onecloud/issues/7456">#7456&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/a962db0e9a802de48fd7e05f539e622789a2c1c1">a962db0e9&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix cache non lvm disks (&lt;a href="https://github.com/yunionio/onecloud/issues/7459">#7459&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/2cdfed2cabd308f4d0ec090d376aede25b03f97a">2cdfed2ca&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>aws elb listener&amp;amp;rule name too long fix (&lt;a href="https://github.com/yunionio/onecloud/commit/ff4840b468808bfb95a1e055502f73a787df9942">ff4840b46&lt;/a>, &lt;a href="mailto:tangbin@yunionyun.com">tangbin&lt;/a>)&lt;/li>
&lt;li>fix redis reset account password action log (&lt;a href="https://github.com/yunionio/onecloud/commit/e59e40d3b517c04b705b07720de79db81fcc4ab8">e59e40d3b&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>loadblancer listener modify name fix (&lt;a href="https://github.com/yunionio/onecloud/commit/bd3d581f4553925649360e36a947e80961f7d380">bd3d581f4&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix deploy admin auth key (&lt;a href="https://github.com/yunionio/onecloud/commit/9bc1cfe6fcc09c98e48c707d3888a536f05ee02d">9bc1cfe6f&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>Feature/yousong lblis names (&lt;a href="https://github.com/yunionio/onecloud/issues/7395">#7395&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/d95584b116bb0438bd6d26b45846658873f119ef">d95584b11&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>fix host register info (&lt;a href="https://github.com/yunionio/onecloud/issues/7401">#7401&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/ae0bd556caba40437cdb004a530e3211e452a3d7">ae0bd556c&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix panic on storage failed get host (&lt;a href="https://github.com/yunionio/onecloud/issues/7390">#7390&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/d6fdf33614ae76821fa61714576c7bfe782b6f90">d6fdf3361&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>make rpc handle exportable (&lt;a href="https://github.com/yunionio/onecloud/issues/7367">#7367&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/9acc8c629db72bd9d2c6e5ecf132b1f13f47a608">9acc8c629&lt;/a>, &lt;a href="mailto:41716617+tb365@users.noreply.github.com">tb365&lt;/a>)&lt;/li>
&lt;li>adjust schedule resource condition width (&lt;a href="https://github.com/yunionio/onecloud/commit/59e4f7d61e5e2d0b4bc5b9865d7d887df0a03076">59e4f7d61&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>Add more tips for make image cmd (&lt;a href="https://github.com/yunionio/onecloud/commit/51cb278ae2928b7e0dad0e7864200369502c4098">51cb278ae&lt;/a>, &lt;a href="mailto:liushaohui@xiaomi.com">Shaohui Liu&lt;/a>)&lt;/li>
&lt;li>fix schedtag list output (&lt;a href="https://github.com/yunionio/onecloud/commit/05120506675a6eb5032581c078add6ecff19c529">051205066&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>Add metadata for GuestTempalte details (&lt;a href="https://github.com/yunionio/onecloud/commit/49e4e31dac6da019037e4ffb159581dfb3af652e">49e4e31da&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Add network info when list scalingGroup details (&lt;a href="https://github.com/yunionio/onecloud/commit/45a3e0805525056477581b6c555397912e314589">45a3e0805&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>修改报警消息模版： (&lt;a href="https://github.com/yunionio/onecloud/commit/5e0cb931998e88ebc563580763de5a50976ff223">5e0cb9319&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>go fmt (&lt;a href="https://github.com/yunionio/onecloud/commit/1583da57fe1864f2a4494e7e5dfa67552edc63a6">1583da57f&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>go fmt (&lt;a href="https://github.com/yunionio/onecloud/commit/d45ee2c0eb201ee1d069e0b1ebcb78f140dd829d">d45ee2c0e&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>host upload template check (&lt;a href="https://github.com/yunionio/onecloud/commit/e660e25be9e8ad88ae3908142cb7e41addf521c3">e660e25be&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>huawei fetch regions&amp;amp;projects fix (&lt;a href="https://github.com/yunionio/onecloud/commit/0f2453189488523660433ac15c7a6d82f62f953d">0f2453189&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>修复统一报警bug (&lt;a href="https://github.com/yunionio/onecloud/commit/9214724557f80af247dae93ca995da59889cb15f">921472455&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>rename vgname centos (&lt;a href="https://github.com/yunionio/onecloud/commit/39948899106f01516a9a2fe5afe21b68b32c5d67">399488991&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix clone clean pending usage (&lt;a href="https://github.com/yunionio/onecloud/commit/31c0d5a42c90b99f8f6454ca52e3137297f55707">31c0d5a42&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>capabilites add available host count (&lt;a href="https://github.com/yunionio/onecloud/commit/64935a4656379cb3f723791f3ba052966a5e18aa">64935a465&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix snapshot clean pending usage (&lt;a href="https://github.com/yunionio/onecloud/commit/cd5d317632ca1f20d3d35701828b7900849fa3e1">cd5d31763&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>Remove sudo before the docker cmd (&lt;a href="https://github.com/yunionio/onecloud/commit/96bb34ea0114637d4d6af2253c629b88a2a3b2d9">96bb34ea0&lt;/a>, &lt;a href="mailto:liushaohui@xiaomi.com">Shaohui Liu&lt;/a>)&lt;/li>
&lt;li>
&lt;ul>
&lt;li>add precheck for perform action (&lt;a href="https://github.com/yunionio/onecloud/commit/a677f24351cf304fc261d66a6765e44a7e0b6933">a677f2435&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>format fix (&lt;a href="https://github.com/yunionio/onecloud/commit/d10e15ed981a60e528c36c654cbd967a6e0c0097">d10e15ed9&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix empty else (&lt;a href="https://github.com/yunionio/onecloud/commit/d5591001cc74ea4dab84e5f2d26a2d8f2da965f6">d5591001c&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix host import (&lt;a href="https://github.com/yunionio/onecloud/commit/3ff402f4b66681e53867ba7cb1b0eb549a342aa4">3ff402f4b&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix huawei delete resource (&lt;a href="https://github.com/yunionio/onecloud/commit/94bb917165b2ad9ceca53d84754d4d7da81ab26b">94bb91716&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix huawei elb disable healthcheck (&lt;a href="https://github.com/yunionio/onecloud/commit/7fcc85f8565867221eac8071497e05b7708d5bf2">7fcc85f85&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>lb sync project fix (&lt;a href="https://github.com/yunionio/onecloud/commit/6d9a5563815761fdc82d64076c652dbbf150fdb4">6d9a55638&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>add more log (&lt;a href="https://github.com/yunionio/onecloud/commit/edc10b14da27a33cf84c61e64c1712529182943f">edc10b14d&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>apigateway host imports data validate (&lt;a href="https://github.com/yunionio/onecloud/commit/cea0121625ff010ff00db9495665541be23df06b">cea012162&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>update vendor (&lt;a href="https://github.com/yunionio/onecloud/commit/5d4efcc63aff9fa9febdd7b999ea5cbed2a5bbc9">5d4efcc63&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>fix GetOrCreateVpcForClassicNetwork (&lt;a href="https://github.com/yunionio/onecloud/commit/a755d0d37e5b3f354e5aa09bc4dd7062e2fad112">a755d0d37&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>修复监控报警规则删除的问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/bd80fa889de105c9813d98f296f8916a09aa71c0">bd80fa889&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix error output (&lt;a href="https://github.com/yunionio/onecloud/commit/7f8be7d4b1372569302dd8e958a1c5ca8ebb8af7">7f8be7d4b&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>huawei eip delete fix (&lt;a href="https://github.com/yunionio/onecloud/commit/081a3eabd0a1da6b5c8b952a3fd54acbb878e7ed">081a3eabd&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>acl delete condition fix (&lt;a href="https://github.com/yunionio/onecloud/commit/a74853db79d5c0874a762b1e953c9233c263bf7f">a74853db7&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix server sync status (&lt;a href="https://github.com/yunionio/onecloud/commit/41fcf38cff5d0be03c5677736ab0eba9a505d1ca">41fcf38cf&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>sync classic redis fix (&lt;a href="https://github.com/yunionio/onecloud/commit/b9a45c8bb26ba4bdf75a14c7da4fcd9e7863d9cf">b9a45c8bb&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>add params auto_migrate_on_host_down (&lt;a href="https://github.com/yunionio/onecloud/commit/a39b0c87e52726cec171d85083f3b3bc773a4848">a39b0c87e&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>misc ha guest fix (&lt;a href="https://github.com/yunionio/onecloud/commit/3e759a3a48260ff504a62518f93313140d5e4e07">3e759a3a4&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix list guests on host (&lt;a href="https://github.com/yunionio/onecloud/commit/f4ee70c0b52df3e107c19f50daa9ff187c2a8ea6">f4ee70c0b&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>cloudprovider usable filter with zone (&lt;a href="https://github.com/yunionio/onecloud/commit/22d000e73b9c130f4582f5d1323ffd03d9ca4de1">22d000e73&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>disable procutils print error info (&lt;a href="https://github.com/yunionio/onecloud/commit/66064a4c47f29317f4d2d2d3187bdd8b53bd1cad">66064a4c4&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix guest template health check (&lt;a href="https://github.com/yunionio/onecloud/commit/014540e4dfd2630f69f6076a1cfc3d87baf8c9f4">014540e4d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>fix:修复路由表映射到public网络的问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/2d12d7898f9a5435d9f2fcf02acf6f47e7f3fd3f">2d12d7898&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;li>user batch register bugfix (&lt;a href="https://github.com/yunionio/onecloud/commit/c1e49d02ca0313a16b6eaba5885a2711a47eaad6">c1e49d02c&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>新增优化建议： (&lt;a href="https://github.com/yunionio/onecloud/commit/7cd1f1de5a61ded451d4c3a71ef951ca3e3292a4">7cd1f1de5&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix format (&lt;a href="https://github.com/yunionio/onecloud/commit/f24fd4aa1bb208a569d9a1b5c69a62b2a04223b5">f24fd4aa1&lt;/a>, &lt;a href="mailto:zhangxu@yunionyun.com">bistuzx@163.com&lt;/a>)&lt;/li>
&lt;li>add cost alert modules (&lt;a href="https://github.com/yunionio/onecloud/commit/f5a2215a9b547c6ba3f5d21ab02d60ec0f911600">f5a2215a9&lt;/a>, &lt;a href="mailto:zhangxu@yunionyun.com">bistuzx@163.com&lt;/a>)&lt;/li>
&lt;li>vendor update: update jsonutils (&lt;a href="https://github.com/yunionio/onecloud/commit/2028dbabb63250e9d140060dcb80946e4af15b6c">2028dbabb&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>
&lt;ul>
&lt;li>fix local storage init local man (&lt;a href="https://github.com/yunionio/onecloud/commit/e2043d6bcc567a5d648f415c6cd664b9843c092c">e2043d6bc&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>misc fix (&lt;a href="https://github.com/yunionio/onecloud/commit/04dfa48799ebc7b70c0906112588b475992d1404">04dfa4879&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>add:region/esxi 迁移接口 (&lt;a href="https://github.com/yunionio/onecloud/commit/c75b63eb7cef63b741c73418ddc516eeaa23e8a8">c75b63eb7&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;li>fix set storage info bind mount (&lt;a href="https://github.com/yunionio/onecloud/commit/e2ad0101e34b860ba2d33212638b43a3b5c6881e">e2ad0101e&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>update vendor (&lt;a href="https://github.com/yunionio/onecloud/commit/47bb16e517590dec1cc4097272f74d81b3eab097">47bb16e51&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>Update docker image onecloud-base and its references (&lt;a href="https://github.com/yunionio/onecloud/commit/81784aea3a55a5ef81c97e066017bde88eeb1882">81784aea3&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>suggestAlert cost:modify the request param to meter (&lt;a href="https://github.com/yunionio/onecloud/commit/a0dc3326603357dc523d0e676d519c202442c392">a0dc33266&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>增加influxdb的tag 的一些filter (&lt;a href="https://github.com/yunionio/onecloud/commit/98d2e489ea9d976e7ab59f9dec8c072a7dd525de">98d2e489e&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>update vendor (&lt;a href="https://github.com/yunionio/onecloud/commit/00d7ce83ed5846e5c355b6c91778295ec9d450e3">00d7ce83e&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>remove obsolete codes from apigateway (&lt;a href="https://github.com/yunionio/onecloud/commit/27b3fb5d525cf1d0ad0f4fcf87f485f524a3af12">27b3fb5d5&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>itsm climc (&lt;a href="https://github.com/yunionio/onecloud/commit/36408ab4a00fbe5327f11b7366b13f0ce7dcd078">36408ab4a&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>add mcclient cloudaccount gcp&amp;amp;huawei bucket (&lt;a href="https://github.com/yunionio/onecloud/commit/6e9718d4ecbd538ada9730d9079b65f7d1a1f68e">6e9718d4e&lt;/a>, &lt;a href="mailto:zhangxu@yunionyun.com">bistuzx@163.com&lt;/a>)&lt;/li>
&lt;li>Update Dockerfile.ansibleserver (&lt;a href="https://github.com/yunionio/onecloud/commit/f909a1d2c0b88d0dcb3d559159d66ce4da2b5d8b">f909a1d2c&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>优化建议中增加费用统计接口 (&lt;a href="https://github.com/yunionio/onecloud/commit/2fde317644840290ef0ecd987b4b31b541b318c8">2fde31764&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>update vendor (&lt;a href="https://github.com/yunionio/onecloud/commit/182c96a160d55ad7e331dc9138338e800caf700d">182c96a16&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>add meter modules amount_estimation&amp;amp;daily_bill (&lt;a href="https://github.com/yunionio/onecloud/commit/70c07d4a82a14b3144ba59c01582ae1a878bfa60">70c07d4a8&lt;/a>, &lt;a href="mailto:zhangxu@yunionyun.com">张旭&lt;/a>)&lt;/li>
&lt;li>bind mount nfs storage path (&lt;a href="https://github.com/yunionio/onecloud/commit/322117f6d9ad4594994cba1b0b56fabf978ea322">322117f6d&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>cluster_d required-&amp;gt;optional (&lt;a href="https://github.com/yunionio/onecloud/commit/63babfed8528e8ee16adbe041525bde4f0189c55">63babfed8&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix the bug introduced in &lt;a href="https://github.com/yunionio/onecloud/issues/6643">#6643&lt;/a> (&lt;a href="https://github.com/yunionio/onecloud/commit/17721c4d5967ff982c671500c7772e8d5f67eb35">17721c4d5&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>update jsonutils (&lt;a href="https://github.com/yunionio/onecloud/commit/ae3827f9a1758a3cbe9a27920a56b766c0c8ab7a">ae3827f9a&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>copyright api update (&lt;a href="https://github.com/yunionio/onecloud/commit/60c8c25c02d8d8aaf081abbd908825bc14103ab2">60c8c25c0&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix deploy backup server order (&lt;a href="https://github.com/yunionio/onecloud/commit/1d59ceb5d95658a9ebc7d39bc525771ae2214bc6">1d59ceb5d&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>keep input mem and cpu on create from instance snapshot (&lt;a href="https://github.com/yunionio/onecloud/commit/dae606d289a871ded0b15758f5ee5a4d5d289bd9">dae606d28&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>.travis.yml: use go1.14 (&lt;a href="https://github.com/yunionio/onecloud/commit/8e9c587992b684d745d96468f89172d73b25a81a">8e9c58799&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>.github: workflows: use go1.14 (&lt;a href="https://github.com/yunionio/onecloud/commit/1152c3c24e0ca3a536ac1f2de0591cdf06be7e08">1152c3c24&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>.github: bump backport hint to release/3.2 (&lt;a href="https://github.com/yunionio/onecloud/commit/2463396effc0ed348192d546fcfd15e032bea12d">2463396ef&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>
&lt;ul>
&lt;li>add server pending deleted for host details (&lt;a href="https://github.com/yunionio/onecloud/commit/38a05c490979b41a885fa6347e8e0ab8de248a5d">38a05c490&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>include system usage (&lt;a href="https://github.com/yunionio/onecloud/commit/fabd3577a16d801b67d04baa832ad6cc74c6458e">fabd3577a&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>server name enable upper case (&lt;a href="https://github.com/yunionio/onecloud/commit/75588d00a251bc4c0a909f5f5a6dcf7ba5557260">75588d00a&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>report host stat (&lt;a href="https://github.com/yunionio/onecloud/commit/4e6512040607d3a97bb4004fe2bf598723b93fc4">4e6512040&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>disable dhclient (&lt;a href="https://github.com/yunionio/onecloud/commit/c4d5da44059d4fe9878455be79c735ae94c0ce44">c4d5da440&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>add known sp metadata xml (&lt;a href="https://github.com/yunionio/onecloud/commit/c302622415ed77c5c308adb9cd503bc8846e1c39">c30262241&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>fix get storage capabilities with null field (&lt;a href="https://github.com/yunionio/onecloud/commit/854bf59f8f501ba611891aa307bc57f508ab74d0">854bf59f8&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>sp support (&lt;a href="https://github.com/yunionio/onecloud/commit/3b32f0a4d999c08b7d21b8e3c5969fa6de9f44a2">3b32f0a4d&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="readme-1">README (1)&lt;/h3>
&lt;ul>
&lt;li>update architecture picture (&lt;a href="https://github.com/yunionio/onecloud/commit/bb540ff10c0557b3531b24be0a5f652075d98471">bb540ff10&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="region-13">Region (13)&lt;/h3>
&lt;ul>
&lt;li>host specs replace space char to &amp;lsquo;_&amp;rsquo; (&lt;a href="https://github.com/yunionio/onecloud/commit/3b0ba2caa9a4979e1d22adc11bf7159aa1700d4c">3b0ba2caa&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix query object by spec not include details (&lt;a href="https://github.com/yunionio/onecloud/commit/a05f50dbf0818fd24fc9845e98375159cbafd42f">a05f50dbf&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix schedtag joint resource master/slave field wrong order (&lt;a href="https://github.com/yunionio/onecloud/commit/1b6ac9bc4857c23cc0f6bc1e78cbab5d63b6c601">1b6ac9bc4&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix network schedtag not cleanup when network deleted (&lt;a href="https://github.com/yunionio/onecloud/commit/1d7ffc704e1ddaaaac4537a4e01be09f2034dd43">1d7ffc704&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>validate network auto alloc update data (&lt;a href="https://github.com/yunionio/onecloud/issues/7559">#7559&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/95130f8ef0b590b2fece2ee54997b35dab05b61c">95130f8ef&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>schedtag list support resource_types (&lt;a href="https://github.com/yunionio/onecloud/commit/48d982b39f85c32177efaf15efe37449ad3a51fc">48d982b39&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>lbagents: skip tls check for default influxdb endpoint url (&lt;a href="https://github.com/yunionio/onecloud/commit/e5dd2409df89d8ed3da57ca04531da9b7dbc1ff5">e5dd2409d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>lbagents: default vrrp vrid, priority (&lt;a href="https://github.com/yunionio/onecloud/commit/495a2d995475ac9a9fb6b346ff6f72fd2d07d3d3">495a2d995&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>lbagents: use local params var (&lt;a href="https://github.com/yunionio/onecloud/commit/4596f3f1199cd66fca910782670bae19f32e9047">4596f3f11&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>lbagents: set some vrrp params to values of peers (&lt;a href="https://github.com/yunionio/onecloud/commit/746cb8679c4d0c64dedb713ebf63582d1b0beb18">746cb8679&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>lbagents: make vrrp interface default to eth0 (&lt;a href="https://github.com/yunionio/onecloud/commit/b0c39bfad6342a6417dc2c83f5b9e7f989642ad2">b0c39bfad&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>lbagents: turn off guest src check (&lt;a href="https://github.com/yunionio/onecloud/commit/afac0604db611292d89b4bcae212db7114ac89c3">afac0604d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>loadbalanceragents: yum as the default method (&lt;a href="https://github.com/yunionio/onecloud/commit/7926e59d784c45c3078c6c0b18ab947b4bcafb40">7926e59d7&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="scheduler-5">Scheduler (5)&lt;/h3>
&lt;ul>
&lt;li>fix fillter isolated device (&lt;a href="https://github.com/yunionio/onecloud/commit/8e0f47aa0cdf267fe1e0e30e329bac238e8d3bb7">8e0f47aa0&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>ignore network type when specified (&lt;a href="https://github.com/yunionio/onecloud/commit/a1c7a291d536fc8afb50ddd3f36e887c2523d582">a1c7a291d&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>refactor network predicate (&lt;a href="https://github.com/yunionio/onecloud/issues/7553">#7553&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/7a08a60dbd90c9a5b62dc724c893a8c3702d46fb">7a08a60db&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix network auto alloc logic (&lt;a href="https://github.com/yunionio/onecloud/commit/6f2ddbd3ada358c7fd114826d32d45cea3737586">6f2ddbd3a&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix storage filter duplicate error message (&lt;a href="https://github.com/yunionio/onecloud/commit/0957fee3d0ef11951a1ac06eb45d3d8346a17b3b">0957fee3d&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="specs-1">Specs (1)&lt;/h3>
&lt;ul>
&lt;li>fix specKey url not escape (&lt;a href="https://github.com/yunionio/onecloud/commit/a4d7b2b4b3ba8b0474df38767542a36bab99ce0e">a4d7b2b4b&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="treewide-3">Treewide (3)&lt;/h3>
&lt;ul>
&lt;li>avoid variable fmt str (&lt;a href="https://github.com/yunionio/onecloud/commit/822fae0095654c9bb0d45dd2c23ce7cac33ab1e0">822fae009&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>fmt error (&lt;a href="https://github.com/yunionio/onecloud/commit/23b9991a7b8aea3ca86564109f2d2764d5f460cb">23b9991a7&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>DeleteFailReason as an object with translated details (&lt;a href="https://github.com/yunionio/onecloud/commit/f1995a46d82c57f71d9e299e10857497f06514be">f1995a46d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vendor-1">Vendor (1)&lt;/h3>
&lt;ul>
&lt;li>update yunion.io/x/sqlchemy (&lt;a href="https://github.com/yunionio/onecloud/commit/4e16eaf21253a6351e6b748846fab3adfec36058">4e16eaf21&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vpcagent-4">Vpcagent (4)&lt;/h3>
&lt;ul>
&lt;li>guard against foul eip records (&lt;a href="https://github.com/yunionio/onecloud/commit/f0faf07b61d5d7cb48c52dbf9be6aa57672f9d83">f0faf07b6&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>respect guest src check settings (&lt;a href="https://github.com/yunionio/onecloud/issues/7678">#7678&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/19ba4b97552368ccef39952a88d3d20124da5f6e">19ba4b975&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ignore network without wire ids (&lt;a href="https://github.com/yunionio/onecloud/issues/7629">#7629&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/500e2edad71d032a574afb4d414e459f65f89629">500e2edad&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ClaimVpcGuestDnsRecords: guard against pending_deleted guests (&lt;a href="https://github.com/yunionio/onecloud/commit/20f36afdc8041b50a81cf7e05b611d598059c432">20f36afdc&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="webconsole-2">Webconsole (2)&lt;/h3>
&lt;ul>
&lt;li>fix defer order to release zombie process (&lt;a href="https://github.com/yunionio/onecloud/commit/fa2d8723a6ea8d34d1cea51c8644610a2c121f20">fa2d8723a&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix old session make new session closed (&lt;a href="https://github.com/yunionio/onecloud/commit/642d694277e5b8e14ae62f321bf2298ad39faa94">642d69427&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="notify-plugins">notify-plugins&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/notify-plugins">https://github.com/yunionio/notify-plugins&lt;/a>&lt;/p>
&lt;p>25 commits to &lt;a href="https://github.com/yunionio/notify-plugins/compare/v3.3.8...v3.4.0">notify-plugins - v3.4.0&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-4">Bug Fixes (4)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>common:&lt;/strong> correct error judgment in BatchSend (&lt;a href="https://github.com/yunionio/notify-plugins/commit/4c76dd87768326bba4c06cf8a3e0a711408d06fd">4c76dd8&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>dingtalk:&lt;/strong> return correct value in getUseridByMobile (&lt;a href="https://github.com/yunionio/notify-plugins/commit/4241c3d1e04a0b37eb72eecdd29127a21d74c306">4241c3d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>robot:&lt;/strong> Correct err value of ValidateConfig (&lt;a href="https://github.com/yunionio/notify-plugins/commit/5e2b642d060a069f6c5ee82b86bd189ed81b7b3f">5e2b642&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>workwx:&lt;/strong> Incorrect variable use for ok (&lt;a href="https://github.com/yunionio/notify-plugins/commit/05eabba6dd835e3a541d2b3ad9256ba19fa6c356">05eabba&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-5">Features (5)&lt;/h3>
&lt;ul>
&lt;li>break down error from UserIdByMobile (&lt;a href="https://github.com/yunionio/notify-plugins/commit/a9ff6b9cd6ce7ca66dfe997350203536d4e90462">a9ff6b9&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Support workwx (&lt;a href="https://github.com/yunionio/notify-plugins/commit/52b50d2a3a30fecccba0e50b0768fe1780231e03">52b50d2&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> Add BatchSend for websocket (&lt;a href="https://github.com/yunionio/notify-plugins/commit/0eaa49a44148298e2f8e2383ef2b05ae64481018">0eaa49a&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> Add common function to batch send (&lt;a href="https://github.com/yunionio/notify-plugins/commit/63924dcf98dea1fe0cb76c0808be171b8a0703c6">63924dc&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>robot:&lt;/strong> Add BatchSend (&lt;a href="https://github.com/yunionio/notify-plugins/commit/b70b205ead49388b1be3d857c171222efb0a1d51">b70b205&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-15">Others (15)&lt;/h3>
&lt;ul>
&lt;li>buildx for notifyplugins (&lt;a href="https://github.com/yunionio/notify-plugins/commit/e6a246b380f23bc772c5ca4527c1ccc4682e5d6c">e6a246b&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>makefile 去掉 sudo; make all bins (&lt;a href="https://github.com/yunionio/notify-plugins/commit/65d52fe29ba816c5f5acae911712f5bd97956c39">65d52fe&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>docker buildx for notify plugins (&lt;a href="https://github.com/yunionio/notify-plugins/commit/8f5747fd028a0891d4438ec209a7bae453d79686">8f5747f&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>update vendor (&lt;a href="https://github.com/yunionio/notify-plugins/commit/8df6b86030ef0f5726db40b4ecd557afe680574d">8df6b86&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>change email const name (&lt;a href="https://github.com/yunionio/notify-plugins/commit/0531db31c6d20ebae834345aa7b5337eb7106af0">0531db3&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>fix batch send of workwx (&lt;a href="https://github.com/yunionio/notify-plugins/commit/cab236db43b8f406e962175b46c326e87d99d92a">cab236d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>update vendor (&lt;a href="https://github.com/yunionio/notify-plugins/commit/c3b8d642e84ffcf5c0e07f459697ff57c40eab5a">c3b8d64&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Support batch send for eamil and smsaliyun (&lt;a href="https://github.com/yunionio/notify-plugins/commit/8ff79b6d18f4dae97951fd6832a140824c6a62e2">8ff79b6&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Support sending a batch of workwx messages (&lt;a href="https://github.com/yunionio/notify-plugins/commit/d33068eff88d91eae191b1020468118645b1b28c">d33068e&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Support markdown when sending single user dingtalk message (&lt;a href="https://github.com/yunionio/notify-plugins/commit/6bec1bd9dca095a00a90764da873511a2247f878">6bec1bd&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Update vendor (&lt;a href="https://github.com/yunionio/notify-plugins/commit/ec2bfad45a1471893f0454a9212ff7d717ba8ebf">ec2bfad&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Support batch send (&lt;a href="https://github.com/yunionio/notify-plugins/commit/80397bbdc0a6a0d3390bfaffffe92fc9f665e8a6">80397bb&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>change &amp;lsquo;corp_secret&amp;rsquo; to &amp;lsquo;secret&amp;rsquo; (&lt;a href="https://github.com/yunionio/notify-plugins/commit/6801a1e8dcc492ab9c6bb506352eed34580662e1">6801a1e&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>remove default config file (&lt;a href="https://github.com/yunionio/notify-plugins/commit/061987a4cf9da3701d48a586b333159223c6e8c6">061987a&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Add workwx-robot for webhook (&lt;a href="https://github.com/yunionio/notify-plugins/commit/c09687f9d63b3d15b1f14986aec969971f780670">c09687f&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="test-1">Test (1)&lt;/h3>
&lt;ul>
&lt;li>update vendor for go-workwx (&lt;a href="https://github.com/yunionio/notify-plugins/commit/62b2a41e213303a0dc302dfc987ec013ed8dcd45">62b2a41&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="ocadm">ocadm&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/ocadm">https://github.com/yunionio/ocadm&lt;/a>&lt;/p>
&lt;p>17 commits to &lt;a href="https://github.com/yunionio/ocadm/compare/v3.3.8...v3.4.0">ocadm - v3.4.0&lt;/a> since this release.&lt;/p>
&lt;h3 id="autoupdate-1">Autoupdate (1)&lt;/h3>
&lt;ul>
&lt;li>clear host tag (&lt;a href="https://github.com/yunionio/ocadm/commit/611c2c406398cd59bad287ad98c0b7d1bd7f3fef">611c2c4&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-16">Others (16)&lt;/h3>
&lt;ul>
&lt;li>clean info from from autoupdate component when update (&lt;a href="https://github.com/yunionio/ocadm/commit/48d9fe4f590a47f00510b2891af54d89901bd369">48d9fe4&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>更新 3.4 的 makefile 版本变量 (&lt;a href="https://github.com/yunionio/ocadm/commit/80c608143c2ef44debc62aacdcc321175f74c79d">80c6081&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>make mod (&lt;a href="https://github.com/yunionio/ocadm/commit/f4f0696c697b7940d405fac7fc5883deb9c25498">f4f0696&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>meter baremetalagent esxiagent use longhorn (&lt;a href="https://github.com/yunionio/ocadm/commit/6c6379e952e75ced0e9754599d8fe5dbc28fde4f">6c6379e&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>update vendor for v3.2: (&lt;a href="https://github.com/yunionio/ocadm/commit/e3fa33e9c18a8fc5108227a390c79935b979c340">e3fa33e&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>update onecloud-operator vendor (&lt;a href="https://github.com/yunionio/ocadm/commit/752e2d2a308f618f6c14f34b816d88fa52021536">752e2d2&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>ocadm create cluster, 延时等待容错 (&lt;a href="https://github.com/yunionio/ocadm/commit/244130483c4b7d59309eaf513c93a9f791749313">2441304&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>高可用部署主备选取应将kube-apiserver是否工作考虑进去 (&lt;a href="https://github.com/yunionio/ocadm/commit/d8f027ff75d401712edd3849f8541993cbe430bf">d8f027f&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>fix longhron template (&lt;a href="https://github.com/yunionio/ocadm/commit/b6afd3bdb64974b5a222a519531cbffd09acea35">b6afd3b&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>修复 keepalived master state bug (&lt;a href="https://github.com/yunionio/ocadm/commit/fa22d63d1865fba75714262c5df4a896d8568d7b">fa22d63&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>longhorn deploy misc fix (&lt;a href="https://github.com/yunionio/ocadm/commit/c9ef80b24fd6745117687b81fd3a5bbba96a4492">c9ef80b&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>update vendor (&lt;a href="https://github.com/yunionio/ocadm/commit/c9f7d19528063e0a69034efbfb489a34754a1931">c9f7d19&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>update vendor for master (&lt;a href="https://github.com/yunionio/ocadm/commit/657f5e924671a2dac3010fa7214395d6ee71159a">657f5e9&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>fix create region zone where upgrade from v2 (&lt;a href="https://github.com/yunionio/ocadm/commit/284f65a53ced4a35c575dc9181d004f5dd8518cb">284f65a&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>ocadm 接入 keepalived，支持高可用 (&lt;a href="https://github.com/yunionio/ocadm/commit/a8b6713276d977fb6cbd0b7c9f87e4f86840c724">a8b6713&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>update DefaultCalicoVersion to 3.12.1 (&lt;a href="https://github.com/yunionio/ocadm/commit/6c1fc6dfcfffc9b295ffe04df3d6d35f20cdee01">6c1fc6d&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-operator">onecloud-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-operator">https://github.com/yunionio/onecloud-operator&lt;/a>&lt;/p>
&lt;p>41 commits to &lt;a href="https://github.com/yunionio/onecloud-operator/compare/v3.3.8...v3.4.0">onecloud-operator - v3.4.0&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-3">Bug Fixes (3)&lt;/h3>
&lt;ul>
&lt;li>apigateway totp should default on (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/d14c152574a2903c78b38b7c2eb7598b4fa796e4">d14c152&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>member policy requires member role (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/323b4032c4b403cbd3d322a8a7f9e2b717884fe9">323b403&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>check before doing perform_public for roles and policies (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/3ea8576e889f854483f26e731efc02f13bf7b553">3ea8576&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="feature-1">Feature (1)&lt;/h3>
&lt;ul>
&lt;li>add cloudid service (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/40662311678c763c55bf2daef2e25c0907cd345d">4066231&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="notify-1">Notify (1)&lt;/h3>
&lt;ul>
&lt;li>remove pvc dependence (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/f1e64f39225b3b5eb0d34d39d4fd7c15e57f50e2">f1e64f3&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-33">Others (33)&lt;/h3>
&lt;ul>
&lt;li>pod affinity by storage class (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/0a85313ea281319171b4412c4b018cb0bfdc225b">0a85313&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>BusyBox upgrade ,modify cloudmon timeout arg (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/724b1ec675026cb7dd37d3aa1a0434add424f375">724b1ec&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>host image spec fix (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/1ab056215f5b898a222ddb7a7c25b387b0459729">1ab0562&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>add flag check is failed etcd pods need delete (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/965c58932bca7b92b01065cb2356297281df6b40">965c589&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>push 镜像后,拉回本地 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/2ad7c372e15a3ca30459d08f8efffcb96e985988">2ad7c37&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>buildx for onecloud-operator (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/d81484e66c15255103f405b2ef543fa2cf59b258">d81484e&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>
&lt;ul>
&lt;li>etcd clean failed state pods (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/b244a1e6ede1d0ab1cfb97204be1c8ff35b5ec06">b244a1e&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>deployment with pvc not set node affinity (&lt;a href="https://github.com/yunionio/onecloud-operator/issues/256">#256&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/eddc03d703e4a9dac5582e5ff9a253afc3d53a08">eddc03d&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>replace cloud affinity preferred by required (&lt;a href="https://github.com/yunionio/onecloud-operator/issues/253">#253&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/9cf0d1639d04beba53cc9ec1cefa098f25256925">9cf0d16&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>remove api/v1 from notify endpoint url (&lt;a href="https://github.com/yunionio/onecloud-operator/issues/252">#252&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/7b21b4b2bd1062cb536a9d8a0f949e043681f5f5">7b21b4b&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">Rain Zheng&lt;/a>)&lt;/li>
&lt;li>etcd add cloud affinity (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/cb352958b217be7d9bc5321c6191003520fb656a">cb35295&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>statusfulset set cloud affinity: (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/ce4e78ad4f8ff8e553a158ad123667c7ca970c8b">ce4e78a&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>update host image default spec (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/3bedb0ba23044cee928b8e7a24d5d222ae37c1fd">3bedb0b&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>crontab timeout (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/0398ed04f10bf16e853cf17016c6c301b6c18574">0398ed0&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix baremetal storage size (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/d2f57ecb830b87430d6ee95140d12ed291f03527">d2f57ec&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>Add workwx and workwx-robot for notify (&lt;a href="https://github.com/yunionio/onecloud-operator/issues/240">#240&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/e6ee55db820bc4dc97ad58b28f0b53d8ce559ff0">e6ee55d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">Rain Zheng&lt;/a>)&lt;/li>
&lt;li>cloudmon deployment increate cloudaccount monitor config: (&lt;a href="https://github.com/yunionio/onecloud-operator/issues/241">#241&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/699ec4a0d6501f510ceec194a5771489886a80d5">699ec4a&lt;/a>, &lt;a href="mailto:39040177+zhaoxiangchun@users.noreply.github.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>itsm 开启https (&lt;a href="https://github.com/yunionio/onecloud-operator/issues/242">#242&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/0e9f304dfe2ff10bce7260d197996f3df1c9a51c">0e9f304&lt;/a>, &lt;a href="mailto:39040177+zhaoxiangchun@users.noreply.github.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>remove etcd-operator dependcies (&lt;a href="https://github.com/yunionio/onecloud-operator/issues/235">#235&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/8c022f3efb660e66915cb0ac2719a475352d0c4c">8c022f3&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>调整统一监控 系统报警规则的注入配置 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/752e28c6878b3a524bf9bf7128ec959e3c6484d6">752e28c&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix etcd member count (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/500ddc5b5c96ef7216d596dc5fc9080243615226">500ddc5&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>recreate pods on pvc not local path (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/64cc8322099a6f8b594f5c5fdff62e4e07a7b01d">64cc832&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>修复系统报警规则重复创建的问题 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/32e05eafd064c21307daab341fb00d38ff55153f">32e05ea&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix set pvc name (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/ddf338e0102e28d0d42fe6e39cde84e4ff04b92e">ddf338e&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix glance pvc name (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/41d9deb251ffac413f8ee2d4b7b2dcec47416371">41d9deb&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>update vendor (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/e6922a7a7bc329213d4b0466b1c32ca82ddbd72e">e6922a7&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>cloudmon deployment increase [rds redis oss] monitor information collectiona (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/b9c27f2f599fdd6dd1273c8e571b4711f5fcbf7c">b9c27f2&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>add check if cronjob exist (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/51ce33585b8a277556b36b71d9e44f8d4333fce6">51ce335&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>service etcd client disable unready client (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/0b90038b52f91a199689713768d48fd8070c4fe8">0b90038&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>host image component set default toleration (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/b1083b9e1cdc85cdd7ad4b20a44812bbee91b114">b1083b9&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>cloudmon as deployment (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/3a8ddec2cc175f90d19a5157df54d42e817adfa7">3a8ddec&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>check etcd dbsize, do compact and defrag (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/e18c1a39191bd3091d8767f0113feebd6cafec38">e18c1a3&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>system alert init info create in operator (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/23add7b1ddc5ebc41c59e2643bf1c76c2a342736">23add7b&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="web-1">Web (1)&lt;/h3>
&lt;ul>
&lt;li>add dashboard overview (&lt;a href="https://github.com/yunionio/onecloud-operator/issues/243">#243&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/b99abd00c541fa8de9507d859500486e8b36f871">b99abd0&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="yunionagent-2">Yunionagent (2)&lt;/h3>
&lt;ul>
&lt;li>remove onecloud keyword (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/aba6c28f69272768275051da82e07222d30fabbc">aba6c28&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>update content (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/29b149c0adae0ffa60a149d51a3f0f0934f5650f">29b149c&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-service-operator">onecloud-service-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-service-operator">https://github.com/yunionio/onecloud-service-operator&lt;/a>&lt;/p>
&lt;p>13 commits to &lt;a href="https://github.com/yunionio/onecloud-service-operator/compare/v3.3.8...v3.4.0">onecloud-service-operator - v3.4.0&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-4-1">Bug Fixes (4)&lt;/h3>
&lt;ul>
&lt;li>retry after a while when dealErr (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/89dbcc92b80e71ec16e11f217d327a42e2bfc47c">89dbcc9&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>the error judgment in dealErr (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/7695a892aacbcf87c6d5b145d759a1f50da80a57">7695a89&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>vmPendingAfter&amp;rsquo;s unit should be second (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/00fb031315e204e8e040001b4477f2e3fe1f338d">00fb031&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Update status and return when resource is invalid (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/5d604ab75f8f435f7c0eb75809d07adb86aad9ad">5d604ab&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="code-refactoring-1">Code Refactoring (1)&lt;/h3>
&lt;ul>
&lt;li>Abstract the same logic and abstract interface (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/afb74a57fa50a143af414d1278eff2e6667af867">afb74a5&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-1">Features (1)&lt;/h3>
&lt;ul>
&lt;li>add manager-pro section in Makefile (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/4a5e4ba246356d6f8b1e32b51c733c2cd6bda284">4a5e4ba&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-7">Others (7)&lt;/h3>
&lt;ul>
&lt;li>docker buildx for onecloud-service-operator (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/32b22c2ffa9a2908b27ef54b3c99156ffed23e19">32b22c2&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>fix the usage of vmPendingAfter (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/f6d2d87f704f8dfbfa0ac1f5ba4f37bdb1cfa47a">f6d2d87&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>remove regionid for endpoint (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/678a87d7fd8f97c3e722a0807e041e20e2f92664">678a87d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Build failed for some small bugs by following the README.md (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/987363cf8a8f045587ae2d583f3b257ced88f062">987363c&lt;/a>, &lt;a href="mailto:liushaohui@xiaomi.com">Shaohui Liu&lt;/a>)&lt;/li>
&lt;li>Add Endpoint document (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/d5cb366d676667c4633e504e0524f58a75894533">d5cb366&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Add CRD Endpoint (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/077a994af49691de9e8b11e8c9fef409b3b43e57">077a994&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>support yaml string (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/cbd3a0a8fe3b7778c249399310e88179d781b4d7">cbd3a0a&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="sdnagent">sdnagent&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/sdnagent">https://github.com/yunionio/sdnagent&lt;/a>&lt;/p>
&lt;p>13 commits to &lt;a href="https://github.com/yunionio/sdnagent/compare/v3.3.8...v3.4.0">sdnagent - v3.4.0&lt;/a> since this release.&lt;/p>
&lt;h3 id="agent-1">Agent (1)&lt;/h3>
&lt;ul>
&lt;li>ovn: no error log if the mapped bridge does not exist (&lt;a href="https://github.com/yunionio/sdnagen/commit/a9ce7565fe784c080171505e14b51916fc5c11f8">a9ce756&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="build-7">Build (7)&lt;/h3>
&lt;ul>
&lt;li>eipgw: vrrp track script as monitor (&lt;a href="https://github.com/yunionio/sdnagen/commit/32941bd40d2eb05da16b20a2e608e15d02c3c4ef">32941bd&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>systemd: add keepalived reload command (&lt;a href="https://github.com/yunionio/sdnagen/commit/271c0e2a7c45c1f0be775a175b6fa759fa6f40d8">271c0e2&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>eipgw: use 8 byte char for auth_pass (&lt;a href="https://github.com/yunionio/sdnagen/commit/7936112dbf535344d2e93b3dc6bea53e9b51022c">7936112&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>eipgw: let keepalived use detail log (&lt;a href="https://github.com/yunionio/sdnagen/commit/6331131edcaebefef8be52d63b4ad826cd2c9356">6331131&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>add ansible playbook README (&lt;a href="https://github.com/yunionio/sdnagen/commit/ec48e2dba04477f592f8525034bb2ae970d178fb">ec48e2d&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>bump to alpine-build:1.0-2 (&lt;a href="https://github.com/yunionio/sdnagen/commit/9cffe97d7cec4bb0bdcc87deacac37b66063ca76">9cffe97&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>separate artifact and docker image build (&lt;a href="https://github.com/yunionio/sdnagen/commit/29e2d68aedc9234812aaf614756a72e6e9a9ca48">29e2d68&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-2">Others (2)&lt;/h3>
&lt;ul>
&lt;li>pull image for buildx (&lt;a href="https://github.com/yunionio/sdnagen/commit/cc574b6c0fec7b11fbdc5eb4275f8e165a07cea4">cc574b6&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>docker buildx for sdnagent (&lt;a href="https://github.com/yunionio/sdnagen/commit/c86cc8ae8107de3ca52c4675a64b520ede6a203a">c86cc8a&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="sdnagent-1">Sdnagent (1)&lt;/h3>
&lt;ul>
&lt;li>be cooperative (&lt;a href="https://github.com/yunionio/sdnagen/commit/d73fbef0028a9a2c986164d3cf32f44b8f8e931d">d73fbef&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vendor-2">Vendor (2)&lt;/h3>
&lt;ul>
&lt;li>bump yunion.io/x/onecloud to current tip of release/3.3 (&lt;a href="https://github.com/yunionio/sdnagen/commit/b599b01ff4254fb03f646af520c3e2112079068d">b599b01&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>bump 3.3 (&lt;a href="https://github.com/yunionio/sdnagen/issues/105">#105&lt;/a>) (&lt;a href="https://github.com/yunionio/sdnagen/commit/6e67604e5739876f1a2b9d18b3f12e496c24510f">6e67604&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.3.8</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-8/</guid><description>
&lt;p>发布时间 2020-12-09 17:03:16&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>10 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.3.7...v3.3.8">onecloud - v3.3.8&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-7">Bug Fixes (7)&lt;/h3>
&lt;ul>
&lt;li>aws secgroup out rule is deny any (&lt;a href="https://github.com/yunionio/onecloud/commit/6ef75538e010a5d76e90ed6e016b1ac4b1ae68ab">6ef75538e&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid panic (&lt;a href="https://github.com/yunionio/onecloud/commit/dc8c341a110e0db7862d22c915eab30ca639340c">dc8c341a1&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>renew rds (&lt;a href="https://github.com/yunionio/onecloud/commit/a2391a50c02cf3d13661d9946d982ded5c453021">a2391a50c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>host:&lt;/strong> make sure it won&amp;rsquo;t match vpc guests by accident (&lt;a href="https://github.com/yunionio/onecloud/commit/1ee1493d6ccf89712ec142e287f8a6fea08e4c1a">1ee1493d6&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>monitor:&lt;/strong> modify monitor serviceType in StartService() (&lt;a href="https://github.com/yunionio/onecloud/commit/379fbf45810d209c77196d750a426340cd877aeb">379fbf458&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> change_ipaddr: retain eip_id on detach and attach (&lt;a href="https://github.com/yunionio/onecloud/commit/841f5aadc08f3c09b5da914d3f4b46aac861930f">841f5aadc&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>&lt;strong>vpcagent:&lt;/strong> models: guestnetworks: accomodate change_ipaddr (&lt;a href="https://github.com/yunionio/onecloud/commit/335f3c6b1a629c399f6401951a259c8806727bf4">335f3c6b1&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-1">Features (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>cloudcommon:&lt;/strong> db: jointbase: add list:&amp;ldquo;user&amp;rdquo; for RowId (&lt;a href="https://github.com/yunionio/onecloud/commit/b88c079dbb3c49077b305dc823ed9bd2a7c9f3fb">b88c079db&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="scheduler-1">Scheduler (1)&lt;/h3>
&lt;ul>
&lt;li>ignore non running guests only exclude ready status (&lt;a href="https://github.com/yunionio/onecloud/commit/ba4c506b555bf3ea0b6d6393bf26553f24e27e7d">ba4c506b5&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vendor-1">Vendor (1)&lt;/h3>
&lt;ul>
&lt;li>update yunion.io/x/jsonutils (&lt;a href="https://github.com/yunionio/onecloud/commit/d6e37aa6b460ba77f6ad2f31e27841e422e155d5">d6e37aa6b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="notify-plugins">notify-plugins&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/notify-plugins">https://github.com/yunionio/notify-plugins&lt;/a>&lt;/p>
&lt;p>1 commits to &lt;a href="https://github.com/yunionio/notify-plugins/compare/v3.3.7...v3.3.8">notify-plugins - v3.3.8&lt;/a> since this release.&lt;/p>
&lt;h3 id="features-1-1">Features (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>robot:&lt;/strong> support multi WebhookPrefixs (&lt;a href="https://github.com/yunionio/notify-plugins/commit/bae94c7b01cff9706374980fd3289b4221920146">bae94c7&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="sdnagent">sdnagent&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/sdnagent">https://github.com/yunionio/sdnagent&lt;/a>&lt;/p>
&lt;p>8 commits to &lt;a href="https://github.com/yunionio/sdnagent/compare/v3.3.7...v3.3.8">sdnagent - v3.3.8&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-1">Bug Fixes (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>hostconfig:&lt;/strong> fix watching hostconfig (&lt;a href="https://github.com/yunionio/sdnagen/commit/22c758c78a447d9fadbc6d2b3e2f8afa7a2028ac">22c758c&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="build-1">Build (1)&lt;/h3>
&lt;ul>
&lt;li>eipgw: track to ensure stop state as well (&lt;a href="https://github.com/yunionio/sdnagen/commit/e98b195a0ff3cd73b93a793b8449f81c1dd06573">e98b195&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="flowsource-4">Flowsource (4)&lt;/h3>
&lt;ul>
&lt;li>relax constraint when mac check on and ip check off (&lt;a href="https://github.com/yunionio/sdnagen/commit/f68ca1a42c7628bcfc69254544741cd59c0cd714">f68ca1a&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>reword ref comments on allow_switch_vms (&lt;a href="https://github.com/yunionio/sdnagen/commit/711050d9cd435528da36a4382c3edc8fd3668320">711050d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>reword ref comments on allow_router_vms (&lt;a href="https://github.com/yunionio/sdnagen/commit/2b5eb6d4c985862ca6c916ba702005f4e1ce0ff5">2b5eb6d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>remove now unused code for dev (&lt;a href="https://github.com/yunionio/sdnagen/commit/1fc7abafd278daf6731d2cf24798198fa90a7501">1fc7aba&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-1">Others (1)&lt;/h3>
&lt;ul>
&lt;li>.circleci: bump go to 1.14 (&lt;a href="https://github.com/yunionio/sdnagen/commit/f5adb38e9933b93a188b932e6526a9739b58e240">f5adb38&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vendor-1-1">Vendor (1)&lt;/h3>
&lt;ul>
&lt;li>bump yunion.io/x/onecloud to current tip of release/3.3 (&lt;a href="https://github.com/yunionio/sdnagen/commit/6747d8f01dc875bd163a4c3e17f05781ab10806d">6747d8f&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.3.7</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-7/</guid><description>
&lt;p>发布时间 2020-11-04 11:44:25&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>29 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.3.6...v3.3.7">onecloud - v3.3.7&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-21">Bug Fixes (21)&lt;/h3>
&lt;ul>
&lt;li>missing authenticate action log for user web login (&lt;a href="https://github.com/yunionio/onecloud/commit/d46eadf6e33b1696a92261121dba3f25e503844d">d46eadf6e&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>use new api (&lt;a href="https://github.com/yunionio/onecloud/commit/d5f295d1e871c11ef6d97ed2d09cceca1e61b135">d5f295d1e&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>support filter rds sku by provider (&lt;a href="https://github.com/yunionio/onecloud/commit/28782b05a83127f5b21c130992bcace89de107c4">28782b05a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>set secgroup status (&lt;a href="https://github.com/yunionio/onecloud/commit/1c46b22733a978a173959b2c711414df1d4e240b">1c46b2273&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid sync project panic (&lt;a href="https://github.com/yunionio/onecloud/commit/167ade11493e30ff38f38f85650c8aec5e2e3971">167ade114&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid delete public ip when sync eip list (&lt;a href="https://github.com/yunionio/onecloud/commit/7f5f33c5f48dc4725733d1fe050c44817a420456">7f5f33c5f&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免并发同步安全组导致规则混乱 (&lt;a href="https://github.com/yunionio/onecloud/commit/699b7351b3b31ad4fb7db345cfff5d0efb305759">699b7351b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免冲掉设置的到期释放时间 (&lt;a href="https://github.com/yunionio/onecloud/commit/a106c94317c1c8eab88c858858139445402cfe65">a106c9431&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>get images distinct field (&lt;a href="https://github.com/yunionio/onecloud/commit/f68995cc64fc87917a799be773a65ccebb7b6286">f68995cc6&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>cancel pending-delete should increase resource quota usages (&lt;a href="https://github.com/yunionio/onecloud/commit/52cc6b7d28341b5e2e577ae2d863a5f22cf613a4">52cc6b7d2&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>missing authenticate action log for user web login (&lt;a href="https://github.com/yunionio/onecloud/commit/a6058a2c9cec8b90add7f0f289d1a525b619f2af">a6058a2c9&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>新增google存储类型 (&lt;a href="https://github.com/yunionio/onecloud/commit/59ceeb3a27cab727d4a21a177d4ac68d3abc2ec5">59ceeb3a2&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>do not lock guest after lock eip, to prevent possible dead lock (&lt;a href="https://github.com/yunionio/onecloud/commit/c545ea1df2878e631352a8f7473f683fba669625">c545ea1df&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>use correct worker (&lt;a href="https://github.com/yunionio/onecloud/commit/7e145bf82847475e845ed4ec91602beca88cf3ba">7e145bf82&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>add rds cpu and memory usage (&lt;a href="https://github.com/yunionio/onecloud/commit/9a888f5075ddddce000a2990ef3f3138f6881175">9a888f507&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>优化安全组规则同步 (&lt;a href="https://github.com/yunionio/onecloud/commit/3dd3d808dfd11855af70315e6c89321b6320b634">3dd3d808d&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> resize root disk after cloning vm (&lt;a href="https://github.com/yunionio/onecloud/commit/82826037b74e34290b36cc06b255bef004d73cf9">82826037b&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> no callback in uploadHandler (&lt;a href="https://github.com/yunionio/onecloud/commit/cfea1d524b8cb58f73f9a931e88b036508d48e59">cfea1d524&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> use correct device index (&lt;a href="https://github.com/yunionio/onecloud/commit/14803b64d733282a27bf3d79262d1516d830dc1c">14803b64d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> filter vmdk item in lease.info (&lt;a href="https://github.com/yunionio/onecloud/commit/0e9751c48557fb98aae3c7a5deff1332b896a9ba">0e9751c48&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> compute binded disk count when deleting snapshotpolicy (&lt;a href="https://github.com/yunionio/onecloud/commit/0619b54457f52d7574c50809cbeda3bb92c6edca">0619b5445&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="bugfix-1">Bugfix (1)&lt;/h3>
&lt;ul>
&lt;li>qcloud pull metric (&lt;a href="https://github.com/yunionio/onecloud/commit/bbb48fcb92282ab341ebbfeda65a1897dcf895e1">bbb48fcb9&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-2">Features (2)&lt;/h3>
&lt;ul>
&lt;li>use details data to cover obj data in FetchCustomizeColumns (&lt;a href="https://github.com/yunionio/onecloud/commit/cea274e181a7e2920a35742ec2be7211134deab0">cea274e18&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> do not specify portkey in NewVNIC (&lt;a href="https://github.com/yunionio/onecloud/commit/94e29fe6dfef8cf4218697a3de30b6ab57371392">94e29fe6d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="lockman-1">Lockman (1)&lt;/h3>
&lt;ul>
&lt;li>test: add prefix setting (&lt;a href="https://github.com/yunionio/onecloud/commit/b57099f07235ccc967902f3da4c8a5fc34f46ff9">b57099f07&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="monitor-1">Monitor (1)&lt;/h3>
&lt;ul>
&lt;li>set default influxdb datasource by endpoint type (&lt;a href="https://github.com/yunionio/onecloud/commit/5d873ddb2ce78fcaa4597bf21398f7b6ca74e8e6">5d873ddb2&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-2">Others (2)&lt;/h3>
&lt;ul>
&lt;li>fix fetch customize columns (&lt;a href="https://github.com/yunionio/onecloud/commit/33196d57cd8f04556890e53b4f065efde56c5118">33196d57c&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>.circleci: build: make with parallel level 2 (&lt;a href="https://github.com/yunionio/onecloud/commit/cd37a3c1ca9a3173d1e202604c71c4aa3068aa2a">cd37a3c1c&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="stringutils2-1">Stringutils2 (1)&lt;/h3>
&lt;ul>
&lt;li>add RemoveUtf8Strings func (&lt;a href="https://github.com/yunionio/onecloud/commit/2bc2e576b7f2a8e38de149fed7818d28d079ea8d">2bc2e576b&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-operator">onecloud-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-operator">https://github.com/yunionio/onecloud-operator&lt;/a>&lt;/p>
&lt;p>1 commits to &lt;a href="https://github.com/yunionio/onecloud-operator/compare/v3.3.6...v3.3.7">onecloud-operator - v3.3.7&lt;/a> since this release.&lt;/p>
&lt;h3 id="others-1">Others (1)&lt;/h3>
&lt;ul>
&lt;li>set image default policy to if not present (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/bf5e0ec7128143f333b899ed44ede0de3e225c6a">bf5e0ec&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.3.6</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-6/</guid><description>
&lt;p>发布时间 2020-10-14 13:09:19&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>67 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.3.5...v3.3.6">onecloud - v3.3.6&lt;/a> since this release.&lt;/p>
&lt;h3 id="baremetal-1">Baremetal (1)&lt;/h3>
&lt;ul>
&lt;li>fix pxe filter network by guest_dhcp (&lt;a href="https://github.com/yunionio/onecloud/commit/c1b5fa1da93ad30f87a8b0bde083c781404c074b">c1b5fa1da&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="bug-fixes-35">Bug Fixes (35)&lt;/h3>
&lt;ul>
&lt;li>避免腾讯云同步虚拟机ip异常 (&lt;a href="https://github.com/yunionio/onecloud/commit/b59696a691dfcee0eb38b13f0aa63cce1e1801bc">b59696a69&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>支持带宽包用户 (&lt;a href="https://github.com/yunionio/onecloud/commit/1bdce8f88b60b0c15122551cc2a1522ec44aee29">1bdce8f88&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>trans google new region name (&lt;a href="https://github.com/yunionio/onecloud/commit/53522134df3b92ee93a0e9acd0c718cff5f1aedb">53522134d&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>qcloud eip with bandwidth attr (&lt;a href="https://github.com/yunionio/onecloud/commit/8e994e9fb8aebf72219824b6ba2cf1169f5f2e1c">8e994e9fb&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>lock/unlock cleanup (&lt;a href="https://github.com/yunionio/onecloud/commit/d86534c16bb90f9de18e7b650d2cd7213d4f7679">d86534c16&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>bucket object cnt fix (&lt;a href="https://github.com/yunionio/onecloud/commit/6d31c44ef3456310754bdc8d7df38c8b17ea584d">6d31c44ef&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>qcloud instance with max bandwidth (&lt;a href="https://github.com/yunionio/onecloud/commit/a0ab506a686cf8b38a065e88a59e8bcb3ec09b52">a0ab506a6&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>ldap sync not update user&amp;rsquo;s phone and email (&lt;a href="https://github.com/yunionio/onecloud/commit/89669c8cb2ce3b6ba4cd750f8fbaf3534bbfa80e">89669c8cb&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>validate secgroup purge condition (&lt;a href="https://github.com/yunionio/onecloud/commit/ae261321ec0c08d1179683d1ee67270b5cde6db2">ae261321e&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid slice out of bounds (&lt;a href="https://github.com/yunionio/onecloud/commit/d06e6927ca744ad2dc22ba3a10eee94757b65d48">d06e6927c&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>keystone initialize data skip nil extra fields (&lt;a href="https://github.com/yunionio/onecloud/commit/91634336c67143b629c63110c6161ed9edc79583">91634336c&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>disable qcloud verifyAppId temporarily (&lt;a href="https://github.com/yunionio/onecloud/commit/8ebaf8bf2dfd899bfc4c31992ff5910eef56d00f">8ebaf8bf2&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>qcloud set hostname for instance (&lt;a href="https://github.com/yunionio/onecloud/commit/324e7a7ee482f512ebee04993ba7d4dfc88173a2">324e7a7ee&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>add esxicli vmrc/webmks command (&lt;a href="https://github.com/yunionio/onecloud/commit/6a459ec41d98696d779c951d2635e6edfbf220bf">6a459ec41&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>server name auto index should start from 1 (&lt;a href="https://github.com/yunionio/onecloud/commit/75260982bc636e900402ad9568ef6c9647d97eb0">75260982b&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>error code of external bucket not found error should be 404 (&lt;a href="https://github.com/yunionio/onecloud/commit/0fc0630c7a10d9ad4ff98888ba86ef6d2738d5df">0fc0630c7&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>emulated wire not sync vpc shared info (&lt;a href="https://github.com/yunionio/onecloud/commit/6a6489f68a6c5089da7818ccc63e2ee7c9e940db">6a6489f68&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>sync huawei bucket project info (&lt;a href="https://github.com/yunionio/onecloud/commit/3fbf7d033f7392d15db9cab6e40ceab122f8cf43">3fbf7d033&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid purge storages (&lt;a href="https://github.com/yunionio/onecloud/commit/4fbea0dcabeb7d8bb58994a3d3928064c3237320">4fbea0dca&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid account delete failed (&lt;a href="https://github.com/yunionio/onecloud/commit/b5cdd84b59f84c6723287228186c753f0dae6a85">b5cdd84b5&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>sql err (&lt;a href="https://github.com/yunionio/onecloud/commit/95a5ec092fe866f0c547d1e6845f21f0d18649dc">95a5ec092&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>avoid compare err with cloudprovider.ErrNotFound direct (&lt;a href="https://github.com/yunionio/onecloud/commit/f16b8dbc08f5638e62fcac26ea324cf5f76c694d">f16b8dbc0&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>get jnlp xml from dell idrac6,7,9 (&lt;a href="https://github.com/yunionio/onecloud/commit/f27a461f08f10c990d38f60a1f3b5c10009fa7ad">f27a461f0&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>avoid serial vm creation (&lt;a href="https://github.com/yunionio/onecloud/commit/05ba352c8ba3c3396419c7b040a691beae98ffeb">05ba352c8&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>仅在可用区故障时可强制挂载磁盘 (&lt;a href="https://github.com/yunionio/onecloud/commit/f7f0a7e3022aa70891b03db6d200f76e7e134cbd">f7f0a7e30&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>avoid account delete failed (&lt;a href="https://github.com/yunionio/onecloud/commit/812f50f6a55f03770258f2f486a47ecf3a2fc50a">812f50f6a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">ioito&lt;/a>)&lt;/li>
&lt;li>支持自动根据云上项目修改本地项目名称 (&lt;a href="https://github.com/yunionio/onecloud/commit/ecade9a3de63cd5374e3e201ed7df401b2d7b96f">ecade9a3d&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> use system disk of template only when cloning vm (&lt;a href="https://github.com/yunionio/onecloud/commit/fa70835a82c320a45c04cc6db301f3b19982b3a4">fa70835a8&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> check nil value when NewVirtualMachine (&lt;a href="https://github.com/yunionio/onecloud/commit/ed29844d4a9fe486a89cfb8c1f59fd3100a67364">ed29844d4&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> check whether some fields of vm are nil (&lt;a href="https://github.com/yunionio/onecloud/commit/71a6b6d14ca6e8572f4a51e430b9bc676e33723c">71a6b6d14&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> filter linkLocalAddress (&lt;a href="https://github.com/yunionio/onecloud/commit/18d19006d40b1ce81589208dfb5bcb82750241dd">18d19006d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> search template from whole vCenter (&lt;a href="https://github.com/yunionio/onecloud/commit/2ce77ac21fcc4660036477bf203111f07ba61108">2ce77ac21&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> fetch correct ownerId in PerformPrepareNets (&lt;a href="https://github.com/yunionio/onecloud/commit/912d7a6978a1222dbae9e476a77cd84d2430fd0e">912d7a697&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> add GetSlaveFieldName for ScalingGroupGuest (&lt;a href="https://github.com/yunionio/onecloud/commit/dea65a5a111f926b49bda659b5e319f904dc4dd2">dea65a5a1&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> set ownerId as userCred when can&amp;rsquo;t FetchOwnerId (&lt;a href="https://github.com/yunionio/onecloud/commit/1a6f9bc7102af221a3d1d94479a8192b66c6fbfb">1a6f9bc71&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="bugfix-1">Bugfix (1)&lt;/h3>
&lt;ul>
&lt;li>collect esxi metric timout (&lt;a href="https://github.com/yunionio/onecloud/commit/e5fb2771bb0e2e5ec736431199e4dca87110cadc">e5fb2771b&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="dns-1">Dns (1)&lt;/h3>
&lt;ul>
&lt;li>isMyDomain: match only strict subdomain of dns_domain (&lt;a href="https://github.com/yunionio/onecloud/commit/b6f5229f8a46bd9169fb816ecd10694a07753319">b6f5229f8&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="eip-2">Eip (2)&lt;/h3>
&lt;ul>
&lt;li>NewEipForVMOnHost: add opslog (&lt;a href="https://github.com/yunionio/onecloud/commit/d81ed410df114d9e4fb69c08194d0bb804069824">d81ed410d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>construct a pointer type (&lt;a href="https://github.com/yunionio/onecloud/commit/8e4f04ffae335a120fe8fdb3b408685be1a9cd42">8e4f04ffa&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="elasticips-2">Elasticips (2)&lt;/h3>
&lt;ul>
&lt;li>error when we have no usable eip network (&lt;a href="https://github.com/yunionio/onecloud/commit/15a1e76721121d34c33192baf5da3492d77fcf74">15a1e7672&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>fix calling FilterByOwner (&lt;a href="https://github.com/yunionio/onecloud/commit/c71a2e6ca6253a4f367d54283cc22e9f64b81d24">c71a2e6ca&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="optimized-1">Optimized (1)&lt;/h3>
&lt;ul>
&lt;li>create eip params (&lt;a href="https://github.com/yunionio/onecloud/commit/2eaedeafaf87882346c92816475acb45cc05a6f4">2eaedeafa&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-19">Others (19)&lt;/h3>
&lt;ul>
&lt;li>remove aws lbbg cache metedata (&lt;a href="https://github.com/yunionio/onecloud/commit/c01b06d0e0bf175ad097a71a8552ed502d5f1d82">c01b06d0e&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>separate guest doamin and dns (&lt;a href="https://github.com/yunionio/onecloud/commit/4bf21e32b44d344f7566e852472e76517a5ba0a8">4bf21e32b&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>aliyun public elb region fix (&lt;a href="https://github.com/yunionio/onecloud/commit/acf49c449311003c3fb4778358bb6bbc2cff11b3">acf49c449&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>aliyun public elb brand fix (&lt;a href="https://github.com/yunionio/onecloud/commit/97acce2c22eb09484dce100b9f0ae898f5115e7f">97acce2c2&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>aliyun create public lb fix (&lt;a href="https://github.com/yunionio/onecloud/commit/62beb58fc7b5025e15b046d4bb33b359fe957778">62beb58fc&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>increase rbd check timeout (&lt;a href="https://github.com/yunionio/onecloud/commit/36e089e633d3726bf00b5a5724707bcf1b8eeeba">36e089e63&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>umount nfs on detach storage (&lt;a href="https://github.com/yunionio/onecloud/commit/ea0ccfa0d6d1e2d344532a7a5a44ea6d3e92dc42">ea0ccfa0d&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>set stagefail on clean fail (&lt;a href="https://github.com/yunionio/onecloud/commit/80de477a8cf9cb4b825e5eae58695ecbeb68c0bd">80de477a8&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>huawei client request add throttling control (&lt;a href="https://github.com/yunionio/onecloud/commit/d6901107938e88aca91fac084831d664fe0624e4">d69011079&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>huawei elb get params log (&lt;a href="https://github.com/yunionio/onecloud/commit/42a24640a4a64926b9f548a23d67a2b93ef875f9">42a24640a&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>qcloud elb create listener fix (&lt;a href="https://github.com/yunionio/onecloud/commit/9d4d17f40cfaacfd8c83642faf681888620d704e">9d4d17f40&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>huawei snapshot delete fix (&lt;a href="https://github.com/yunionio/onecloud/commit/999c315ce03ebb96c6b50d74d63c8e46f7fe340a">999c315ce&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>bugfix:esxi collect metric (&lt;a href="https://github.com/yunionio/onecloud/commit/fda1e1f0f8ce03f97bd53a6657576d6f7c00749e">fda1e1f0f&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>regional network filter bugfix (&lt;a href="https://github.com/yunionio/onecloud/commit/a16b7a2f32ac3eeb9e73c9addfe5ba66f7068788">a16b7a2f3&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>ctyun sync secgroup fix &amp;amp; cloudaccount delete fix (&lt;a href="https://github.com/yunionio/onecloud/commit/5bd27fed644d07bc9ad673c509a8d46f07de0cc6">5bd27fed6&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>ctyun add region cn-bj1 (&lt;a href="https://github.com/yunionio/onecloud/commit/93f16973d5ab332ad06486ca0b5f01a9daf856a0">93f16973d&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>fix set host image cache properties (&lt;a href="https://github.com/yunionio/onecloud/commit/33a18462ee1b21d944a949d2caa8969ae57cd299">33a18462e&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix update image status after save failed (&lt;a href="https://github.com/yunionio/onecloud/commit/9aeb802af9e2f5b618e0201bd0c4f5a1e842a152">9aeb802af&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>bugfix vmware monitor (&lt;a href="https://github.com/yunionio/onecloud/commit/43add1b097b01eb0cfa63eaf95336691871c6d5c">43add1b09&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="region-2">Region (2)&lt;/h3>
&lt;ul>
&lt;li>fix schedtag joint resource master/slave field wrong order (&lt;a href="https://github.com/yunionio/onecloud/commit/98f65243da684ed55e1cf464fee1b44c377a7a06">98f65243d&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix network schedtag not cleanup when network deleted (&lt;a href="https://github.com/yunionio/onecloud/commit/86189f981c2d4cf3dabd00ed90e08c5093332281">86189f981&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vpcagent-1">Vpcagent (1)&lt;/h3>
&lt;ul>
&lt;li>ovn: increase dhcp lease, renew, rebind time (&lt;a href="https://github.com/yunionio/onecloud/commit/d097a7637a2c6f2604a1363942e080c96a8b29ac">d097a7637&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="webconsole-2">Webconsole (2)&lt;/h3>
&lt;ul>
&lt;li>ssh: add keyboard-interactive as an option (&lt;a href="https://github.com/yunionio/onecloud/commit/861bc56a95bd69affd9a56cde2f8500c89e7c3e3">861bc56a9&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ssh: each argument on its own line (&lt;a href="https://github.com/yunionio/onecloud/commit/bba99aef9eed7f709e5186f19d49b2bfbf8cccaf">bba99aef9&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-operator">onecloud-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-operator">https://github.com/yunionio/onecloud-operator&lt;/a>&lt;/p>
&lt;p>4 commits to &lt;a href="https://github.com/yunionio/onecloud-operator/compare/v3.3.5...v3.3.6">onecloud-operator - v3.3.6&lt;/a> since this release.&lt;/p>
&lt;h3 id="others-3">Others (3)&lt;/h3>
&lt;ul>
&lt;li>not create notice (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/9085ed7c8790f1e5b340de5346ff3b45c67d050d">9085ed7&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>pod affinity by storage class (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/a15f16754a024c10ede5bc8c1c86a1fd7979101b">a15f167&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>host image spec fix (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/9315dd7f5b3ac2a14dc8e0e933ae8f0086e2376e">9315dd7&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="regiondns-1">Regiondns (1)&lt;/h3>
&lt;ul>
&lt;li>configmap: quash trailing spaces (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/0261d6dde8a1183ef8bd362270f4396816529374">0261d6d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.3.5</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-5/</guid><description>
&lt;p>发布时间 2020-09-15 18:05:31&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>32 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.3.4...v3.3.5">onecloud - v3.3.5&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-19">Bug Fixes (19)&lt;/h3>
&lt;ul>
&lt;li>ignore 409 error when doing redfish power on (&lt;a href="https://github.com/yunionio/onecloud/commit/508c934e8a77cc617cec7aca73684da437bbff8b">508c934e8&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>cos use proxy (&lt;a href="https://github.com/yunionio/onecloud/commit/24e3da781884c32e96ce2c45f5733f3b77ae28e2">24e3da781&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>disable webkms for esxi older than 6.5 (&lt;a href="https://github.com/yunionio/onecloud/commit/c2fbe4faf1cf5dfaec76f8be23c71cf3e3ea6f31">c2fbe4faf&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>avoid sync natgateway eip panic (&lt;a href="https://github.com/yunionio/onecloud/commit/9920e3b50d2ecb89391c6a848f52dcde3459190a">9920e3b50&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>默认不自动合并安全组 (&lt;a href="https://github.com/yunionio/onecloud/commit/e5d7fee933de5adf820c3eaa5301a7f4237cf65d">e5d7fee93&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>aliyun wulanchabu region (&lt;a href="https://github.com/yunionio/onecloud/commit/fb9ae22fecb3d17dae674dc2110c9c932210ebc1">fb9ae22fe&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>平滑迁移数据 (&lt;a href="https://github.com/yunionio/onecloud/commit/042842501175dc6776996c4651eee1180eab93d3">042842501&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>腾讯云不支持同时设置秘钥和密码,若设置秘钥，则将密码置空 (&lt;a href="https://github.com/yunionio/onecloud/commit/dfafa03364d034253be39251c1f7c0cccc441e7a">dfafa0336&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>optimized qcloud keypair (&lt;a href="https://github.com/yunionio/onecloud/commit/a1aafa67dffbfed9f76b5c99b1d7b2468fbdb191">a1aafa67d&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>uniform cachedimage active status (&lt;a href="https://github.com/yunionio/onecloud/commit/cb288f65eb2c3a4a9adfea0b640ed85fe3a78b58">cb288f65e&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>prevent users in disabled idp from login (&lt;a href="https://github.com/yunionio/onecloud/commit/e64af28e8943b58d3ef6aa6f771fa67e1484c2ad">e64af28e8&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>wire usage stats incorrect (&lt;a href="https://github.com/yunionio/onecloud/commit/45d6686a3974e45ba92ab595df1695d27b2f3fc2">45d6686a3&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> fetch templatevm from datacenter before clone vm (&lt;a href="https://github.com/yunionio/onecloud/commit/be4a95ca808bc23dd25dd537c4e4d1edb8002cfc">be4a95ca8&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> return when host.Vm is empty (&lt;a href="https://github.com/yunionio/onecloud/commit/c4180811b5beb22c5f56dcdf9de3af5456e748ff">c4180811b&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxiagent:&lt;/strong> return image extid not id (&lt;a href="https://github.com/yunionio/onecloud/commit/171c95bf5510f72f9cd04e7b554479849bc7d5e5">171c95bf5&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxiagent:&lt;/strong> add HostDelayTaskWorkerCount (&lt;a href="https://github.com/yunionio/onecloud/commit/da0246e667da02ee5ab9527ac12eec682b97a5e3">da0246e66&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> Replace String() with GetString() (&lt;a href="https://github.com/yunionio/onecloud/commit/4da5a0042211f1c2218ced665dfffae3a4c37b04">4da5a0042&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> add RequestSyncstatusOnHost for SESXiGuestDriver (&lt;a href="https://github.com/yunionio/onecloud/commit/13608b43e7459f60feeb47b7d4abc0389eaa611f">13608b43e&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>scheduler:&lt;/strong> fix array out of bounds when sorting hosts (&lt;a href="https://github.com/yunionio/onecloud/commit/6874b94404738a9ec7af9c646c6defaa0ab2ae56">6874b9440&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="code-refactoring-3">Code Refactoring (3)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>esxi:&lt;/strong> replace GetTemplateVMById with FetchTemplateVMById (&lt;a href="https://github.com/yunionio/onecloud/commit/35919e1ece11cc6d115829338b07a45442bcf4e1">35919e1ec&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> fetchVms and fetchHardwareInfo (&lt;a href="https://github.com/yunionio/onecloud/commit/86c0af8ca57a113860a2855c6f164331fffa54b9">86c0af8ca&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> optimize preparenet of cloudaccount (&lt;a href="https://github.com/yunionio/onecloud/commit/df64b90805f908108a3b5c40ca336c9a90f06d79">df64b9080&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="disk-1">Disk (1)&lt;/h3>
&lt;ul>
&lt;li>check disk is need renew on guest set renew (&lt;a href="https://github.com/yunionio/onecloud/commit/6f5bb55ea059f44760f144396af5491dc25dd2c1">6f5bb55ea&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="elasticips-1">Elasticips (1)&lt;/h3>
&lt;ul>
&lt;li>filter by owner when doing auto allocation (&lt;a href="https://github.com/yunionio/onecloud/commit/ef8b9e6aeae867f2282f91699d534b85674103fb">ef8b9e6ae&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-2">Features (2)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>esxi:&lt;/strong> support fetchVM form datacenter (&lt;a href="https://github.com/yunionio/onecloud/commit/3a8c90d7df397e83786f0ad3156eb7106b1c8aac">3a8c90d7d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxicli:&lt;/strong> better vm operator (&lt;a href="https://github.com/yunionio/onecloud/commit/af76ae975eaa316780de8ea446eedc200caa3ad6">af76ae975&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="host-1">Host (1)&lt;/h3>
&lt;ul>
&lt;li>fix rbd storage cache iso image (&lt;a href="https://github.com/yunionio/onecloud/commit/f017daafc216ff8a026b9a84e036de522480e132">f017daafc&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-3">Others (3)&lt;/h3>
&lt;ul>
&lt;li>guest short desc add backup host id (&lt;a href="https://github.com/yunionio/onecloud/commit/b120b87c4f13df5a3e4344940aeb7a46fc6acb82">b120b87c4&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix get ubuntu version (&lt;a href="https://github.com/yunionio/onecloud/commit/22e4181b37371a97eb6eae632762b3cf8fe1cf28">22e4181b3&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>optimized cachedimages sync (&lt;a href="https://github.com/yunionio/onecloud/commit/23b02045a19d3043107fcea80f3b27dca9442961">23b02045a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vpcagent-1">Vpcagent (1)&lt;/h3>
&lt;ul>
&lt;li>guard against foul eip records (&lt;a href="https://github.com/yunionio/onecloud/commit/96058b4afeed581092879561319d172a240cd19f">96058b4af&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="webconsole-1">Webconsole (1)&lt;/h3>
&lt;ul>
&lt;li>fix defer order to release zombie process (&lt;a href="https://github.com/yunionio/onecloud/commit/77c3e490c2622eff6a59ec50f1387d248c4bf9fe">77c3e490c&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-operator">onecloud-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-operator">https://github.com/yunionio/onecloud-operator&lt;/a>&lt;/p>
&lt;p>3 commits to &lt;a href="https://github.com/yunionio/onecloud-operator/compare/v3.3.4...v3.3.5">onecloud-operator - v3.3.5&lt;/a> since this release.&lt;/p>
&lt;h3 id="notify-1">Notify (1)&lt;/h3>
&lt;ul>
&lt;li>remove pvc dependence (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/5f1fadf2110cba62349970e60f9f294defe43969">5f1fadf&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-2">Others (2)&lt;/h3>
&lt;ul>
&lt;li>etcd add cloud affinity (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/fd8c8c4b460d8abab9dff3abe79a106e0cac57f9">fd8c8c4&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>statusfulset set cloud affinity: (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/539d129f2b0c4d9441abb4650b7517adeba1822b">539d129&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="sdnagent">sdnagent&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/sdnagent">https://github.com/yunionio/sdnagent&lt;/a>&lt;/p>
&lt;p>3 commits to &lt;a href="https://github.com/yunionio/sdnagent/compare/v3.3.4...v3.3.5">sdnagent - v3.3.5&lt;/a> since this release.&lt;/p>
&lt;h3 id="build-1">Build (1)&lt;/h3>
&lt;ul>
&lt;li>eipgw: vrrp track script as monitor (&lt;a href="https://github.com/yunionio/sdnagen/commit/fd4cf95a3ae0afbd8036a2ccb58d9e2e35b3586c">fd4cf95&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="sdnagent-1">Sdnagent (1)&lt;/h3>
&lt;ul>
&lt;li>be cooperative (&lt;a href="https://github.com/yunionio/sdnagen/commit/bda4f40aafd193327cb16e97a6836ec93c849893">bda4f40&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vendor-1">Vendor (1)&lt;/h3>
&lt;ul>
&lt;li>bump yunion.io/x/onecloud to current tip of release/3.3 (&lt;a href="https://github.com/yunionio/sdnagen/commit/9f5ccbbca0e4c538f02c72a783f7ef7978447bce">9f5ccbb&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.3.4</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-4/</guid><description>
&lt;p>发布时间 2020-09-06 15:33:08&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>33 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.3.3...v3.3.4">onecloud - v3.3.4&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-18">Bug Fixes (18)&lt;/h3>
&lt;ul>
&lt;li>skup syncing lb, rds, redis instances in tasks (&lt;a href="https://github.com/yunionio/onecloud/commit/ec659ddd4437c23f41c365d14230a14555722dea">ec659ddd4&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>network address list respect privilige of user (&lt;a href="https://github.com/yunionio/onecloud/commit/e2d98a4ce3370203ad5f0226f144be916bc8b187">e2d98a4ce&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>support VirtualDiskRawDiskMappingVer1BackingInfo (&lt;a href="https://github.com/yunionio/onecloud/commit/79ef55b4f66406b23118230e086be6c352f63043">79ef55b4f&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>find correct esxi host access ip (&lt;a href="https://github.com/yunionio/onecloud/commit/c7c1082e94a525b1825370cb6b02b7c91b9b5aba">c7c1082e9&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>search by chs projectname or domainname (&lt;a href="https://github.com/yunionio/onecloud/commit/03de172d85800d003eedbc1147c0d9ba2daf4c7b">03de172d8&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>ignore invalid zone sku for rds sku sync (&lt;a href="https://github.com/yunionio/onecloud/issues/7618">#7618&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/64d0b4f8c880e9532add675b0707d4dc5c6a6e04">64d0b4f8c&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>compatiblity fixes with lenovo RD620 and huawei 2288 (&lt;a href="https://github.com/yunionio/onecloud/commit/6ea402b576d03840fc59cd5740b5865fe829d85f">6ea402b57&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>add details for account delete (&lt;a href="https://github.com/yunionio/onecloud/issues/7704">#7704&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/32195ed7026c5621df6c3b0bff0d74e3faf4ae69">32195ed70&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>avoid delete aws iam user failed (&lt;a href="https://github.com/yunionio/onecloud/issues/7666">#7666&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/3c7c7c17215c4798275bc540e7c831aeeff7715b">3c7c7c172&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>vmware esxi host detects vnic portgroup info (&lt;a href="https://github.com/yunionio/onecloud/issues/7659">#7659&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/f15d7d8f3e2a838b3df5d619798d5f37fd1d807c">f15d7d8f3&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>server purge may fail (&lt;a href="https://github.com/yunionio/onecloud/issues/7697">#7697&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/589d7d48a0cae93e7c05562876f9f934e1fc153d">589d7d48a&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>不限制openstack系统盘类型 (&lt;a href="https://github.com/yunionio/onecloud/issues/7676">#7676&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/9424de9cf7c983539054ea3189e86bc7384789df">9424de9cf&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>cleanup logic for nics of pending_deleted guests (&lt;a href="https://github.com/yunionio/onecloud/issues/7670">#7670&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/f1422066526193defdff3b39c80f38fc8b0c5f76">f14220665&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>aovid truncated data (&lt;a href="https://github.com/yunionio/onecloud/issues/7645">#7645&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/c5e616b196e67633c98c501dd34121457304a656">c5e616b19&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>turn off some default project policies (&lt;a href="https://github.com/yunionio/onecloud/issues/7638">#7638&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/23d01a1e3c019bf9de1386957df71cb26db3b938">23d01a1e3&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>avoid openstack image-list failed (&lt;a href="https://github.com/yunionio/onecloud/issues/7642">#7642&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/ac18702727d5a7008082db76d819257270cf09c9">ac1870272&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>avoid storage=nil, dis can not delete (&lt;a href="https://github.com/yunionio/onecloud/issues/7609">#7609&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/9f3b937e6aaa47f4eb1fc5b3cb1363a2cdb77ccf">9f3b937e6&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>&lt;strong>compute:&lt;/strong> return InputParameterError while ValidateCreateData (&lt;a href="https://github.com/yunionio/onecloud/commit/94409c25cc41efdb7405737367dbe9a609eda1c9">94409c25c&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-1">Features (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>esxi:&lt;/strong> correctly judge whether inet is nil (&lt;a href="https://github.com/yunionio/onecloud/commit/03590d9f9b4bc33e66ff02bb14a79ba6fb3064f0">03590d9f9&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="glance-1">Glance (1)&lt;/h3>
&lt;ul>
&lt;li>check min disk size on update (&lt;a href="https://github.com/yunionio/onecloud/commit/a0246b410fae94a0de7adfc5d52c702bd5fb125b">a0246b410&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="hostinfo-1">Hostinfo (1)&lt;/h3>
&lt;ul>
&lt;li>try create network add is_on_premise (&lt;a href="https://github.com/yunionio/onecloud/issues/7708">#7708&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/d5251af976b8df5a0f5bffd7c102f0a9c11fecf7">d5251af97&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-10">Others (10)&lt;/h3>
&lt;ul>
&lt;li>pex register add optional column mac_access (&lt;a href="https://github.com/yunionio/onecloud/commit/6eb7c39d3ba059777a4234bdc022f2a117221213">6eb7c39d3&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>create classic vpc fix (&lt;a href="https://github.com/yunionio/onecloud/commit/142b1bee295420e06568266aca9cdb8bf6d89b74">142b1bee2&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">TangBin&lt;/a>)&lt;/li>
&lt;li>update host status to unknown on host offline (&lt;a href="https://github.com/yunionio/onecloud/commit/8a3d9e7d0d29181a1828235175a11d0ba930d24c">8a3d9e7d0&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>vmware disk support deploy lvm partition (&lt;a href="https://github.com/yunionio/onecloud/commit/e52415a73aa17d4880ff89f5941947d037e8a5fa">e52415a73&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>Automated cherry pick of &lt;a href="https://github.com/yunionio/onecloud/issues/7661">#7661&lt;/a>: fix(host-deployer): Exit correctly after mounting (&lt;a href="https://github.com/yunionio/onecloud/issues/7673">#7673&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/938c9a681794e19f1fc58a620f30e222dd1413d0">938c9a681&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">Rain Zheng&lt;/a>)&lt;/li>
&lt;li>fix host get guests (&lt;a href="https://github.com/yunionio/onecloud/issues/7684">#7684&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/9272b43991be923f0432261c6028dc0ea562061d">9272b4399&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix get storage capacity on init' (&lt;a href="https://github.com/yunionio/onecloud/issues/7688">#7688&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/cc051942d7bc2aee4f1fa3a4c37183b83d09e1bf">cc051942d&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>remove backup metadata on delete backup (&lt;a href="https://github.com/yunionio/onecloud/issues/7655">#7655&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/d8275fa79a317e6ed9772c3baa1f9d7a0db36771">d8275fa79&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>eip &amp;amp; vpc manager match fix (&lt;a href="https://github.com/yunionio/onecloud/issues/7651">#7651&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/9ec851df2a8b09601e40569220dd125c0618906e">9ec851df2&lt;/a>, &lt;a href="mailto:41716617+tb365@users.noreply.github.com">tb365&lt;/a>)&lt;/li>
&lt;li>fix gpfs check mountpoint (&lt;a href="https://github.com/yunionio/onecloud/commit/a04ee820f66f42376719f45c27c5519e6b1f3bfd">a04ee820f&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vpcagent-2">Vpcagent (2)&lt;/h3>
&lt;ul>
&lt;li>respect guest src check settings (&lt;a href="https://github.com/yunionio/onecloud/issues/7679">#7679&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/3268e59d20bfcc003926a0fdd7d3fe3ca6de6982">3268e59d2&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ignore network without wire ids (&lt;a href="https://github.com/yunionio/onecloud/issues/7630">#7630&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/3a966df6597d2ecf1aa689af1cc36c721c4d76f0">3a966df65&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="ocadm">ocadm&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/ocadm">https://github.com/yunionio/ocadm&lt;/a>&lt;/p>
&lt;p>2 commits to &lt;a href="https://github.com/yunionio/ocadm/compare/v3.3.3...v3.3.4">ocadm - v3.3.4&lt;/a> since this release.&lt;/p>
&lt;h3 id="autoupdate-1">Autoupdate (1)&lt;/h3>
&lt;ul>
&lt;li>clear host tag (&lt;a href="https://github.com/yunionio/ocadm/commit/b02ac92816b5e8348fc86e38c010855a32665fd0">b02ac92&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-1">Others (1)&lt;/h3>
&lt;ul>
&lt;li>clean info from from autoupdate component when update (&lt;a href="https://github.com/yunionio/ocadm/commit/b810dbce82f0b2a9790cd0171fc480b6a1777f97">b810dbc&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-operator">onecloud-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-operator">https://github.com/yunionio/onecloud-operator&lt;/a>&lt;/p>
&lt;p>3 commits to &lt;a href="https://github.com/yunionio/onecloud-operator/compare/v3.3.3...v3.3.4">onecloud-operator - v3.3.4&lt;/a> since this release.&lt;/p>
&lt;h3 id="others-3">Others (3)&lt;/h3>
&lt;ul>
&lt;li>deployment with pvc not set node affinity (&lt;a href="https://github.com/yunionio/onecloud-operator/issues/257">#257&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/e8533efb51b0ba67eac70de8a0ec17fbe1ae9f22">e8533ef&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>replace cloud affinity preferred by required (&lt;a href="https://github.com/yunionio/onecloud-operator/issues/254">#254&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/c0787c1315cd2e9b660c7d74f3aadd449bc8bd72">c0787c1&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>crontab timeout (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/bdecedbf7fa16b75dcf65c8d343aa86bdef16db1">bdecedb&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="sdnagent">sdnagent&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/sdnagent">https://github.com/yunionio/sdnagent&lt;/a>&lt;/p>
&lt;p>1 commits to &lt;a href="https://github.com/yunionio/sdnagent/compare/v3.3.3...v3.3.4">sdnagent - v3.3.4&lt;/a> since this release.&lt;/p>
&lt;h3 id="others-1-1">Others (1)&lt;/h3>
&lt;ul>
&lt;li>Automated cherry pick of &lt;a href="https://github.com/yunionio/sdnagen/issues/105">#105&lt;/a>: vendor: bump onecloud to 3.3 master (&lt;a href="https://github.com/yunionio/sdnagen/issues/106">#106&lt;/a>) (&lt;a href="https://github.com/yunionio/sdnagen/commit/6347cbc0124ce0ec6dd8b9832978c2bab4f9c54f">6347cbc&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.3.3</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-3/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-3/</guid><description>
&lt;p>发布时间 2020-08-21 17:38:33&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>12 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.3.2...v3.3.3">onecloud - v3.3.3&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-11">Bug Fixes (11)&lt;/h3>
&lt;ul>
&lt;li>opslog filter by owner_project_ids and owner_domain_ids (&lt;a href="https://github.com/yunionio/onecloud/issues/7601">#7601&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/99818a7c0fb66a3ab4eb83753407026cf592a6bd">99818a7c0&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>member user only can get user &amp;amp; domain resource (&lt;a href="https://github.com/yunionio/onecloud/issues/7598">#7598&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/6cab61ecb812eb3f6d05c22a82fcd97aec0ea4e3">6cab61ecb&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>dns record create ignore is_public field (&lt;a href="https://github.com/yunionio/onecloud/issues/7590">#7590&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/01a8384071c8b9448969ca14815c61907e063db4">01a838407&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>allow delete shared role and policy (&lt;a href="https://github.com/yunionio/onecloud/commit/cedd4ccdfae91f7a7c105da942ccad3b173a79a2">cedd4ccdf&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>GetIImages correctly without &amp;lsquo;image_cache&amp;rsquo; dir (&lt;a href="https://github.com/yunionio/onecloud/commit/f5d1adcbd0da4ff63d1a8de18e263cf2ab5aaaa9">f5d1adcbd&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>aovid duplicate sku name (&lt;a href="https://github.com/yunionio/onecloud/issues/7573">#7573&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/66a5410e7d6850897f9ac73f941da1d9d32babe5">66a5410e7&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>init wire domain_id for local vpc (&lt;a href="https://github.com/yunionio/onecloud/issues/7567">#7567&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/7a58d9f197544a705c8c4709c2518a3813fcf0db">7a58d9f19&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>json TAG_PREFIX invalid syntax (&lt;a href="https://github.com/yunionio/onecloud/commit/5c8a7769e30699c9f36705cf32d88ef286e801be">5c8a7769e&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>avoid virtual resource project id is empty when cloudaccount with no project (&lt;a href="https://github.com/yunionio/onecloud/issues/7561">#7561&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/ebe1eb603bca2499f1a0f44ef90c4022c179fce9">ebe1eb603&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>Merge the host network correctly when preparenet (&lt;a href="https://github.com/yunionio/onecloud/issues/7558">#7558&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/eb67c681d342196231f19c799979023288048163">eb67c681d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">Rain Zheng&lt;/a>)&lt;/li>
&lt;li>network port count stat recode (&lt;a href="https://github.com/yunionio/onecloud/issues/7555">#7555&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/e099f006fa83fbeec2c44a47fbf7a9d8f5d2dd71">e099f006f&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-1">Others (1)&lt;/h3>
&lt;ul>
&lt;li>Automated cherry pick of &lt;a href="https://github.com/yunionio/onecloud/issues/7585">#7585&lt;/a>: apis: vpcs_ovn: alloc for interconnects (&lt;a href="https://github.com/yunionio/onecloud/issues/7586">#7586&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/d91f5fa87ea7e3cbcd602fa12ca9604f02fb18c6">d91f5fa87&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-operator">onecloud-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-operator">https://github.com/yunionio/onecloud-operator&lt;/a>&lt;/p>
&lt;p>1 commits to &lt;a href="https://github.com/yunionio/onecloud-operator/compare/v3.3.2...v3.3.3">onecloud-operator - v3.3.3&lt;/a> since this release.&lt;/p>
&lt;h3 id="others-1-1">Others (1)&lt;/h3>
&lt;ul>
&lt;li>fix baremetal storage size (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/b05d6895a2f5443bdda449082ba7909139269d0c">b05d689&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.3.2</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-2/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-2/</guid><description>
&lt;p>发布时间 2020-08-13 17:59:30&lt;/p></description></item><item><title>Docs: v3.3.1</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-1/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-1/</guid><description>
&lt;p>发布时间 2020-08-11 20:59:07&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>18 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.3.0...v3.3.1">onecloud - v3.3.1&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-11">Bug Fixes (11)&lt;/h3>
&lt;ul>
&lt;li>separete enabled and status field (&lt;a href="https://github.com/yunionio/onecloud/commit/3b036e6c30fb2d067f74dda398494dce41b07c89">3b036e6c3&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>optimized huawei security group get and create operation (&lt;a href="https://github.com/yunionio/onecloud/issues/7521">#7521&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/3c63af8de0af63c088dc731ef14cdd713c8485be">3c63af8de&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>avoid nil pointer (&lt;a href="https://github.com/yunionio/onecloud/commit/6f5be444c323ddd1bd99ad9c132dd00d0965275b">6f5be444c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>backport fix (&lt;a href="https://github.com/yunionio/onecloud/commit/bb1752fb7b40ef0980fb85887eab7331d8da9d31">bb1752fb7&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>提高zstack认证兼容性 (&lt;a href="https://github.com/yunionio/onecloud/commit/b152aa333711208b66df1ca75e808753c6186c12">b152aa333&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>隐藏auzre经典类型存储 (&lt;a href="https://github.com/yunionio/onecloud/commit/bb01236942705cd7d497c54308afd3599cc10a15">bb0123694&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>增加openstack兼容性 (&lt;a href="https://github.com/yunionio/onecloud/issues/7493">#7493&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/7a81820cd3226cca56143bb84d393ab4af57db53">7a81820cd&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>typo running_geusts =&amp;gt; running_guests (&lt;a href="https://github.com/yunionio/onecloud/commit/2153a79dcbfe52688b4efb72ab4ecfe35497457b">2153a79dc&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>filter public network count by zone and region (&lt;a href="https://github.com/yunionio/onecloud/commit/780cf826c7cdc61601c4c04827fc9622b3558fac">780cf826c&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>typo (&lt;a href="https://github.com/yunionio/onecloud/commit/62d2a732e20436a59b785d68b4eaa2cd690b54cd">62d2a732e&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>ignore bucket-set-acl not implemented error (&lt;a href="https://github.com/yunionio/onecloud/commit/4cbe29d0c5b7dcadb10fec9a685af0940b89135b">4cbe29d0c&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-7">Others (7)&lt;/h3>
&lt;ul>
&lt;li>support diable usb kbd (&lt;a href="https://github.com/yunionio/onecloud/commit/0742afb4879df1c3f9b5865ff2ed71b3d9b86aa9">0742afb48&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix usage get storage capbility (&lt;a href="https://github.com/yunionio/onecloud/issues/7528">#7528&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/5439457bb48f1101196a5e07a2510148910d719d">5439457bb&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix mount xfs (&lt;a href="https://github.com/yunionio/onecloud/commit/57cd48354f7472f8be933804bc73f1da019b9e94">57cd48354&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>set disk status on disk detached (&lt;a href="https://github.com/yunionio/onecloud/issues/7518">#7518&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/52488eeb507ddcd1e3f63db73df551d74acd5db0">52488eeb5&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>nodealert bugfix： (&lt;a href="https://github.com/yunionio/onecloud/commit/abe44154ba10868c01af58947988a0bd9662c0e4">abe44154b&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>add image upload&amp;amp; s3 upload api (&lt;a href="https://github.com/yunionio/onecloud/issues/7515">#7515&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/6cdbae22a43f1b75a9fa442b99e2e6549cc4e793">6cdbae22a&lt;/a>, &lt;a href="mailto:41716617+tb365@users.noreply.github.com">tb365&lt;/a>)&lt;/li>
&lt;li>fix host info get sshkey (&lt;a href="https://github.com/yunionio/onecloud/commit/39bcc36c2db714611b9dcf052f6fa2178c6bfe79">39bcc36c2&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="notify-plugins">notify-plugins&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/notify-plugins">https://github.com/yunionio/notify-plugins&lt;/a>&lt;/p>
&lt;p>2 commits to &lt;a href="https://github.com/yunionio/notify-plugins/compare/v3.3.0...v3.3.1">notify-plugins - v3.3.1&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-1">Bug Fixes (1)&lt;/h3>
&lt;ul>
&lt;li>Add deadline for email and fix some proble (&lt;a href="https://github.com/yunionio/notify-plugins/commit/225694c5377d3f5ef0af607942ae32f800c0dbe0">225694c&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-1">Others (1)&lt;/h3>
&lt;ul>
&lt;li>fix bug for email and smsaliyun (&lt;a href="https://github.com/yunionio/notify-plugins/commit/c59bf42c13ba1ed7759b505089472e90e2b17145">c59bf42&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="ocadm">ocadm&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/ocadm">https://github.com/yunionio/ocadm&lt;/a>&lt;/p>
&lt;p>2 commits to &lt;a href="https://github.com/yunionio/ocadm/compare/v3.3.0...v3.3.1">ocadm - v3.3.1&lt;/a> since this release.&lt;/p>
&lt;h3 id="others-2">Others (2)&lt;/h3>
&lt;ul>
&lt;li>update vendor for v3.2: (&lt;a href="https://github.com/yunionio/ocadm/commit/774b5179cb2297b582c767eca9ab4beea6c24d8e">774b517&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>update vendor cause of onecloud-operator (&lt;a href="https://github.com/yunionio/ocadm/commit/3208d0045b4e58ede7d012ceaaa484fa5b36aa94">3208d00&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-operator">onecloud-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-operator">https://github.com/yunionio/onecloud-operator&lt;/a>&lt;/p>
&lt;p>1 commits to &lt;a href="https://github.com/yunionio/onecloud-operator/compare/v3.3.0...v3.3.1">onecloud-operator - v3.3.1&lt;/a> since this release.&lt;/p>
&lt;h3 id="others-1-1">Others (1)&lt;/h3>
&lt;ul>
&lt;li>remove etcd-operator dependcies (&lt;a href="https://github.com/yunionio/onecloud-operator/issues/236">#236&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/698c93ae75f0829b7dd6cca6f63edd82f6993260">698c93a&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: v3.3.0</title><link>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-0/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/changelog/release-3.3/3-3-0/</guid><description>
&lt;p>发布时间 2020-08-02 19:03:34&lt;/p>
&lt;hr>
&lt;h2 id="onecloud">onecloud&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a>&lt;/p>
&lt;p>763 commits to &lt;a href="https://github.com/yunionio/onecloud/compare/v3.2.6...v3.3.0">onecloud - v3.3.0&lt;/a> since this release.&lt;/p>
&lt;h3 id="add-1">Add (1)&lt;/h3>
&lt;ul>
&lt;li>region/openstack 迁移接入 (&lt;a href="https://github.com/yunionio/onecloud/commit/386746365df39815abd303ff1152ccb4650a8909">386746365&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="ansibleserver-1">Ansibleserver (1)&lt;/h3>
&lt;ul>
&lt;li>register metadata manager (&lt;a href="https://github.com/yunionio/onecloud/commit/916943a7c25644db7eb4415040bcee53a551d458">916943a7c&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="apigateway-2">Apigateway (2)&lt;/h3>
&lt;ul>
&lt;li>expose identity/image/k8s usage rpc method (&lt;a href="https://github.com/yunionio/onecloud/commit/686cc78247800037f4f6c5a5e43deec0456d1e90">686cc7824&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>handlers: register cloudnet modules (&lt;a href="https://github.com/yunionio/onecloud/commit/a70d17d6d02695d32e9dc63be1280660d242fd5b">a70d17d6d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="apis-4">Apis (4)&lt;/h3>
&lt;ul>
&lt;li>compute: move struct defs (&lt;a href="https://github.com/yunionio/onecloud/commit/8a79c0f7089ba841d27406d2cd3229dac89560e1">8a79c0f70&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>network: add NETWORK_TYPE_EIP (&lt;a href="https://github.com/yunionio/onecloud/commit/b62d41a835a7808b7aec989c477727a56bb7b01c">b62d41a83&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>add const definitions for eip gateway ips (&lt;a href="https://github.com/yunionio/onecloud/commit/30844db326c56fd4395d3c0ac9739a03f3e5d324">30844db32&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>add ovn distgw const definitions (&lt;a href="https://github.com/yunionio/onecloud/commit/12639e027bf9d85bbb2ae8a21dfdaa727c8e61e1">12639e027&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="appsrv-2">Appsrv (2)&lt;/h3>
&lt;ul>
&lt;li>rework TestRing (&lt;a href="https://github.com/yunionio/onecloud/commit/358f5d41afc51f9ecc34d092a76fbd91e7ab7c63">358f5d41a&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ring: release ring content on pop (&lt;a href="https://github.com/yunionio/onecloud/commit/e37f15cac2862e3317706865ecdd2541a516051e">e37f15cac&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="baremetal-6">Baremetal (6)&lt;/h3>
&lt;ul>
&lt;li>fix hpssactl split last LV size out of limit (&lt;a href="https://github.com/yunionio/onecloud/issues/7427">#7427&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/e64f2494533a72ab7bd49a5b44d1f942f26373a7">e64f24945&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>set zone when enable netif (&lt;a href="https://github.com/yunionio/onecloud/commit/df4d88e195a364d07b2e7a06a286bb6a0b26aed3">df4d88e19&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix forget init lockman pkg (&lt;a href="https://github.com/yunionio/onecloud/commit/8ebabd6ae37983f892d6fc61ed39c07d4282bd58">8ebabd6ae&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix ssh put empty content file not created (&lt;a href="https://github.com/yunionio/onecloud/commit/541c72849adaf0fb668252b7e4dc52808dd9daf4">541c72849&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>find baremetal add scope system (&lt;a href="https://github.com/yunionio/onecloud/commit/cfc9fcedde222fa0c7d998f92fe6e3a67c168675">cfc9fcedd&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>ensure power up add retries (&lt;a href="https://github.com/yunionio/onecloud/commit/5693ae05da34ed62c365c39e2abc252318ccb7cb">5693ae05d&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="bug-fixes-301">Bug Fixes (301)&lt;/h3>
&lt;ul>
&lt;li>avoid generated codes having duplicate PerformSetScope methods (&lt;a href="https://github.com/yunionio/onecloud/commit/d834f3331ea86b5f247b15bf5fe68c9e0573385c">d834f3331&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>avoid host globalid change (&lt;a href="https://github.com/yunionio/onecloud/issues/7466">#7466&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/6e64fc4caad263f4ef0ee64f4ab0b32e6c3cf518">6e64fc4ca&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>elasticcache_account_reset_password_task.go cherry pick build fail (&lt;a href="https://github.com/yunionio/onecloud/issues/7452">#7452&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/88497da742103b61681522df1f3952f11aea5b19">88497da74&lt;/a>, &lt;a href="mailto:swordqiu@gmail.com">Jian Qiu&lt;/a>)&lt;/li>
&lt;li>cloudaccount is created as system shared by default (&lt;a href="https://github.com/yunionio/onecloud/commit/e0fc57bea1056ab2f248f2d3ecc52e9ecdb9c2a4">e0fc57bea&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>sync share mode between vpc and wire (&lt;a href="https://github.com/yunionio/onecloud/commit/9dfed284599c070ec6be7bf5a213659a7ce77f19">9dfed2845&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免glance metadata-list project scope无权限 (&lt;a href="https://github.com/yunionio/onecloud/issues/7403">#7403&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/92d8437c456519383377c537e95d4fa953e5d50a">92d8437c4&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>优化openstack项目认证 (&lt;a href="https://github.com/yunionio/onecloud/issues/7398">#7398&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/65cd074ffaad0bc560382dc03686e1de2270b261">65cd074ff&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>避免在仅调整虚拟机磁盘时opslog日志记录mem cpu异常 (&lt;a href="https://github.com/yunionio/onecloud/issues/7393">#7393&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/5dc8296332c0770f428aca65bf0f3a3b25637a3b">5dc829633&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>avoid lost backend params (&lt;a href="https://github.com/yunionio/onecloud/commit/46fa77b29b487546df4d805f6d5368ac3dd392a1">46fa77b29&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>openstack win image user data need encode (&lt;a href="https://github.com/yunionio/onecloud/commit/c39de392c34bdc58e05aceebd12e0516f2945a4e">c39de392c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>ignore general s3 set acl not implemented error (&lt;a href="https://github.com/yunionio/onecloud/commit/7e47d7aeb40ea8ccfd2a26143865276c60bc5c95">7e47d7aeb&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>avoid account sync deadlock (&lt;a href="https://github.com/yunionio/onecloud/commit/01f384cf80bc21c8d8df47420d68ef9b1012ab16">01f384cf8&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>adjust scope of isolated_device and reservedips (&lt;a href="https://github.com/yunionio/onecloud/commit/1c78817aba5c950264c514e7bb6da99d371eca71">1c78817ab&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>openstack多项目问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/816b29267c63b38664050dc26af09a42d17830f8">816b29267&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid parse json err nil pointer (&lt;a href="https://github.com/yunionio/onecloud/commit/f9b51a9f54d34308bb0acff27c769b046f4390dc">f9b51a9f5&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>添加阿里云rds备份恢复限制条件 (&lt;a href="https://github.com/yunionio/onecloud/commit/ba953f20ce1a7bbbfdb03fe4bd966d49721e96c4">ba953f20c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>change owner should check required domain list (&lt;a href="https://github.com/yunionio/onecloud/commit/04b4ab37603ed912c4cccb2b793c34a581c8b169">04b4ab376&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>普通视图下，安全组仅统计可看到的vm count (&lt;a href="https://github.com/yunionio/onecloud/commit/6b2cb20f4c2d5767eabe6e032a088117a04d0297">6b2cb20f4&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>同步sku与磁盘类型关系 (&lt;a href="https://github.com/yunionio/onecloud/commit/28a80ac52e518d3a5eff8b8eaeb0d2b3688bb4f1">28a80ac52&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免创建rds备份时对rds进行一些操作 (&lt;a href="https://github.com/yunionio/onecloud/issues/7355">#7355&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/bd6b45aaefdef07ddc960b6af64bed7172429448">bd6b45aae&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>修复vm绑定重复安全组 (&lt;a href="https://github.com/yunionio/onecloud/commit/f03d021aa5e0c6c29996501f989efb91abe5bfe1">f03d021aa&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>add default perform allow policy to sysadmin (&lt;a href="https://github.com/yunionio/onecloud/commit/3f09d0019810d183408a2e5acdf7f1229ac528d3">3f09d0019&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>modify list details for guesttemplate (&lt;a href="https://github.com/yunionio/onecloud/commit/d06d2026f4e43bc279f868139b657eff628f7fda">d06d2026f&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>list item export recode (&lt;a href="https://github.com/yunionio/onecloud/commit/880b0ecf4d9540560db3d5e1f0caa975a551cd89">880b0ecf4&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免status_code&amp;gt;=400并且resp为空时err为nil (&lt;a href="https://github.com/yunionio/onecloud/issues/7265">#7265&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/f2456d23649fe712cf129a276e7a02ff01298d44">f2456d236&lt;/a>, &lt;a href="mailto:qu_xuan@icloud.com">屈轩&lt;/a>)&lt;/li>
&lt;li>cloud account delete may fail due to inconsistent status (&lt;a href="https://github.com/yunionio/onecloud/commit/f624ab1529840a1a4f6c3829727501da7a3994c4">f624ab152&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>do accessibility check when dissociate eip from resource (&lt;a href="https://github.com/yunionio/onecloud/commit/ded8da0016f79f854910a35fe6526a6529ab22d3">ded8da001&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>schedtag should be system resource (&lt;a href="https://github.com/yunionio/onecloud/commit/4d33d1a7035b3ae4d28e6236e1ad2c620b1718cd">4d33d1a70&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>choose candidate list from the list returned from backend (&lt;a href="https://github.com/yunionio/onecloud/commit/c90c0944c1fb27b0f8834007d300b9eb3a35f19d">c90c0944c&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>单独添加更新账单文件日志 (&lt;a href="https://github.com/yunionio/onecloud/commit/e7fc9b94b0d6880efafdefbe2b384066b1fa74d5">e7fc9b94b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>支持多项目安全组规则过滤 (&lt;a href="https://github.com/yunionio/onecloud/commit/fef5147ae43879726482661873b09dd0a2ef31b0">fef5147ae&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>domain resource domain share to system when non_default_domain_projects off (&lt;a href="https://github.com/yunionio/onecloud/commit/671d202271513de13f3279ab1ffc1da1ed09c64c">671d20227&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>阿里云资源组同步 (&lt;a href="https://github.com/yunionio/onecloud/commit/f5ed692171169bdb37b07ae9d3623ba21e937b51">f5ed69217&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免未能导出共享安全组规则 (&lt;a href="https://github.com/yunionio/onecloud/commit/1c4e9e00a5f871722b13c3a1087386b5c5335c5d">1c4e9e00a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>image upload not clean pending usage (&lt;a href="https://github.com/yunionio/onecloud/commit/ba983df32b3b1f94fe6f73a445ff62fbccb520f7">ba983df32&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>quota usage not updated after disk resizing (&lt;a href="https://github.com/yunionio/onecloud/commit/508f30901a29724dc7da5aad89e238dc4b2c298b">508f30901&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>rds备份恢复优化 (&lt;a href="https://github.com/yunionio/onecloud/commit/ecb7249a1d0cc8e9c9b136d37c003775c45ee073">ecb7249a1&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>default vpc must be shared globally (&lt;a href="https://github.com/yunionio/onecloud/commit/fa67bd8312eca05b9c8460067495de8063d1d3b4">fa67bd831&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>globalvpc跟随云账号共享 (&lt;a href="https://github.com/yunionio/onecloud/commit/f8471832e961db7a123ca731e685ac24a3a0a132">f8471832e&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>过滤可用eip (&lt;a href="https://github.com/yunionio/onecloud/commit/23e17fe0a1fe7df2e3e12afb707513f70ffebdd1">23e17fe0a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免乌兰察布区域拉取资源异常 (&lt;a href="https://github.com/yunionio/onecloud/commit/a443975f7ebf251e46c1adf3e0c30bd03d98ba23">a443975f7&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>prefetch image error when create guest with vmware template (&lt;a href="https://github.com/yunionio/onecloud/commit/4ef5267a856613ca86ff9c569fbdeb395fcf9eaa">4ef5267a8&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>not work for network-list &amp;ndash;zones (&lt;a href="https://github.com/yunionio/onecloud/commit/d6b83fbbf8e1f246eb1529d262a6820235e1de85">d6b83fbbf&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>sec rule export missing fields (&lt;a href="https://github.com/yunionio/onecloud/commit/cee24b2a7d243e84dc451715a7e0de9d620cd4cd">cee24b2a7&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>check azure image format when rebuild root (&lt;a href="https://github.com/yunionio/onecloud/commit/1b5b8081f16a85ba374a2fbf8727113eaca93fac">1b5b8081f&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免华为云安全组规则删除失败 (&lt;a href="https://github.com/yunionio/onecloud/commit/64599b48192db91c1f73ec5bf10a706769ef6ec0">64599b481&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>clouduser&amp;rsquo;s cloudgroups info (&lt;a href="https://github.com/yunionio/onecloud/commit/fb229f6c79903bf86fdfddcbb023618d682ee73d">fb229f6c7&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>添加secgroup rule过滤参数 (&lt;a href="https://github.com/yunionio/onecloud/commit/a5fc7c807c65c6f923ea09b3ef5d5e0f9aad8eb8">a5fc7c807&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复cloudid get权限问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/09f2b2af26e15d7c43d2a92457888a53c1df23d2">09f2b2af2&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>azure 支持权限 (&lt;a href="https://github.com/yunionio/onecloud/commit/c003f78f622c199f9c68e61a80cc38226b3648a0">c003f78f6&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复cloudid用户列表权限问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/26434683c41f5f04a4edb55cabe422adda2ef7e7">26434683c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>优化webconsole代码&amp;amp;bugfix (&lt;a href="https://github.com/yunionio/onecloud/commit/ea3097240eaab1c7f5637e9bc1dad9834608abe0">ea3097240&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>mo.VirtualMachine&amp;rsquo;s Config maybe nil (&lt;a href="https://github.com/yunionio/onecloud/commit/0420266b7dbc1f61e0af0e50d90e1c8d5ff35b72">0420266b7&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>修复阿里云同步安全组规则异常问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/2f42e9e5f48df3ba99dddd50725db81a8487b584">2f42e9e5f&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免google clouduser同步权限异常 (&lt;a href="https://github.com/yunionio/onecloud/commit/7056fa01b4bb279eea16fe5439e674cac90a1b34">7056fa01b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复vpc同步异常问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/ef6d0c2adcf791ef45b7b10c9119cd23e56e8444">ef6d0c2ad&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免越界访问 (&lt;a href="https://github.com/yunionio/onecloud/commit/09ccf107cbc4a7da2e9cfef2213b68ee53a10c70">09ccf107c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>opslog show the owners operation logs only (&lt;a href="https://github.com/yunionio/onecloud/commit/a186f2587163b6b94c6f6b4759d309f0fcbe3cfa">a186f2587&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>remove default allow policy for storages (&lt;a href="https://github.com/yunionio/onecloud/commit/8f7223b1d6824f5a7cb73a0b6124452be352035e">8f7223b1d&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>cloudid 权限修复 (&lt;a href="https://github.com/yunionio/onecloud/commit/05c730acea18261e06069f261cce52ac058259d6">05c730ace&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>cloudid 异常修复 (&lt;a href="https://github.com/yunionio/onecloud/commit/b4ed2596337b2d34eb2bd6cd7acfcd696a0f02a1">b4ed25963&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复资源组云上同步异常问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/89cb75bfeb092879cd54599e0ea95fc90d990075">89cb75bfe&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复qcloud同步权限组异常问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/21178638f03aa60e22696c099ce5f67a96f9946e">21178638f&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复azure 项目同步问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/e8ff39a01107e3f937ae33da1bf2bfc3ab597a57">e8ff39a01&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免请求中国区iam异常 (&lt;a href="https://github.com/yunionio/onecloud/commit/5f9b6622f040a54c4960e8426b08e562d0f0b897">5f9b6622f&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>perform private on vpc will private all wires if no networks in wires (&lt;a href="https://github.com/yunionio/onecloud/commit/2286ef19b44f5e1a54967c5746fcff119daf9131">2286ef19b&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>修复腾讯云操作日志时间异常问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/8a1d2d1eaff79d962ba21592a063b4f23e4301e5">8a1d2d1ea&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复elastic cache sku zone_id异常问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/76906efea20c0903f6b9962087727f429814e439">76906efea&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>分开统计安全组关联虚拟机数量 (&lt;a href="https://github.com/yunionio/onecloud/commit/a997cf4982fbfbf1080bcad72afb4225d2c315d1">a997cf498&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>json request 支持自定义匹配err (&lt;a href="https://github.com/yunionio/onecloud/commit/6ac6768e3640de70b5b4e2d6bd2d0d34eb68daa3">6ac6768e3&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>remove default host list policy (&lt;a href="https://github.com/yunionio/onecloud/commit/eb342a70abf285228d818e20774ab96e303fa426">eb342a70a&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>cloud poilcy count (&lt;a href="https://github.com/yunionio/onecloud/commit/367d3f1470b7474f1da765788b02bed8b472320a">367d3f147&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免cloudprovider同步缺失 (&lt;a href="https://github.com/yunionio/onecloud/commit/e7cd84275e0bb68652dee7567a6aa90524f6c7a7">e7cd84275&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>google rds regional and zonal (&lt;a href="https://github.com/yunionio/onecloud/commit/79d016985566afbe15c97da2564b9d6c624c2712">79d016985&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>cloud account sync may block (&lt;a href="https://github.com/yunionio/onecloud/commit/6133b1a5cc178026ff2aa5c67e18744b8893c316">6133b1a5c&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免azure同步资源组异常 (&lt;a href="https://github.com/yunionio/onecloud/commit/fcf1e193b9c2f2acd704a2ff019db8ffbbac1dde">fcf1e193b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免slave zoneid异常 (&lt;a href="https://github.com/yunionio/onecloud/commit/f303512a7cfdf2afbc05c45a22822134336bdb89">f303512a7&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>同步不需要判断账号是否有iam权限 (&lt;a href="https://github.com/yunionio/onecloud/commit/acf641be26e5dd2b7eb332c08a96838a81587bcc">acf641be2&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>clouduser can_delete always be false (&lt;a href="https://github.com/yunionio/onecloud/commit/a54a9c05b153fdad2d89b95fc51a4093cbb06f0e">a54a9c05b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>优化安全组list速度，并发挥rule规则信息 (&lt;a href="https://github.com/yunionio/onecloud/commit/dc3ef5c61e9f7a70b001b257e8edefa7d4ec31f4">dc3ef5c61&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>公有云子账号加域属性 (&lt;a href="https://github.com/yunionio/onecloud/commit/9c623430753f709d30305171f9981d840af93864">9c6234307&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复cloudid同步问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/544c19f3ce23220312539280a874559e94e3e3c3">544c19f3c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>取消aliyun lb scheduler创建限制 (&lt;a href="https://github.com/yunionio/onecloud/commit/82d0f5c03f6bb1faa0c096058d10310b860c0dab">82d0f5c03&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>manager_id资源隔离获取 (&lt;a href="https://github.com/yunionio/onecloud/commit/66fc71cc811e81dc8707520f2a3a76909d6f96d3">66fc71cc8&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>优化sku同步逻辑 (&lt;a href="https://github.com/yunionio/onecloud/commit/04427515fada2400b6f6d3d0fb6cc420b42a8662">04427515f&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>Override Master and Slave for scalinggroup_guest (&lt;a href="https://github.com/yunionio/onecloud/commit/23c76dc796772957f3a95ff956cffa547591efce">23c76dc79&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>validate candiate ip for sync-fix-nics (&lt;a href="https://github.com/yunionio/onecloud/commit/41a9d92421d78e38595889223e82186d9aa224db">41a9d9242&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>capability for cloudid (&lt;a href="https://github.com/yunionio/onecloud/commit/781cc3ed6bb203870d88ac7d77b8abb860eadc00">781cc3ed6&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免未本地缓存usercache (&lt;a href="https://github.com/yunionio/onecloud/commit/45819e6c129c8fec81fa2b9c9651c4bda9ae2af8">45819e6c1&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复cloudid问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/223c9439b12a7b4efb8760f29d97c1bbb9b58d8b">223c9439b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>支持同步project标签到本地资源 (&lt;a href="https://github.com/yunionio/onecloud/commit/e31334b47113480e14b3002c1d960ad550eb7eab">e31334b47&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修正项目映射同步 (&lt;a href="https://github.com/yunionio/onecloud/commit/b25295bf032a255f938180f66e393d8f232636ce">b25295bf0&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复权限组权限同步异常问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/21a09d29d6d62d6a14529858a7b1de3d4b4d70a2">21a09d29d&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>reduce totp verification overhead (&lt;a href="https://github.com/yunionio/onecloud/commit/265bbc6e775dcc26dae1f5d8af3fc8ef24760660">265bbc6e7&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免同步不到其他域的云账号 (&lt;a href="https://github.com/yunionio/onecloud/commit/ef0242d15b96973659823b8bdc3676d6e5892998">ef0242d15&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>Error occurs when suitableWire exists or all suitableNetwork exist. (&lt;a href="https://github.com/yunionio/onecloud/commit/030a2edfb9e6d11eab6a9d7c17c5aed510de2ac8">030a2edfb&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>disable domain sharing if non_default_domain_projects turned off (&lt;a href="https://github.com/yunionio/onecloud/commit/a23f57da4da66d640e3e118faf04ccac9087a37a">a23f57da4&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>sort quota list result by usage rate (&lt;a href="https://github.com/yunionio/onecloud/commit/9012180b6043d43816680fdebba5629e8392a826">9012180b6&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>keystone project resource count not accurate (&lt;a href="https://github.com/yunionio/onecloud/commit/161db6d95fbb46f4dabfd15ef765d51c4341f7d5">161db6d95&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>google资源名称兼容处理 (&lt;a href="https://github.com/yunionio/onecloud/commit/4f5a2ff433fe285267972a17e61121719ea04f36">4f5a2ff43&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>simplify forbidden user login message (&lt;a href="https://github.com/yunionio/onecloud/commit/611b9e9b5e23b628e6f47ba59dbae858304d3f61">611b9e9b5&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免azure同步项目失败 (&lt;a href="https://github.com/yunionio/onecloud/commit/f8cce28926b21c4080a2b440ecca4dde9ee80269">f8cce2892&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>wrong cloud provider status when sync disconnected cloud account (&lt;a href="https://github.com/yunionio/onecloud/commit/1d9a3f273102175699656f1291e82dd3c59017e5">1d9a3f273&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>network created by sysadmin should be shared by default (&lt;a href="https://github.com/yunionio/onecloud/commit/5c53ccc3d8288b2f3b7abb92a072ba8672c7e025">5c53ccc3d&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>Fix problems about sending verify email (&lt;a href="https://github.com/yunionio/onecloud/commit/109bdc05d8cc4ba50fbb208474b313f7202aeb67">109bdc05d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>避免同步删除失败 (&lt;a href="https://github.com/yunionio/onecloud/commit/3c75119c509fe48c11e5b7cd8276cd002679bd4b">3c75119c5&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>Fix the url of &amp;lsquo;notify-template-delete&amp;rsquo; in climc (&lt;a href="https://github.com/yunionio/onecloud/commit/8ed4148fbbc4a8d809414f09b84079f37da1a7bc">8ed4148fb&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>policy allow if one of the matching rules is allow (&lt;a href="https://github.com/yunionio/onecloud/commit/2efb7fc9e655e727f6751ae37eb55f41a2ab2a35">2efb7fc9e&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>disable policy rule compaction (&lt;a href="https://github.com/yunionio/onecloud/commit/818d40c08be573d5dbeefd61724dac613893a09e">818d40c08&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>优化标签列表version问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/d296a1801149cee787e19293dfc3885144a2ea31">d296a1801&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>Support to set the label of scheduledtask to Chinese (&lt;a href="https://github.com/yunionio/onecloud/commit/3e7a5acb9b7035a480840f5943879b79098598c9">3e7a5acb9&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Add zero padding in front of execution time for scheduledtask (&lt;a href="https://github.com/yunionio/onecloud/commit/0dad8351d3000f9f6d2e7f11298f5e37eb5331f7">0dad8351d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>避免openstack磁盘和存储窜位 (&lt;a href="https://github.com/yunionio/onecloud/commit/4e48d33ecfd09dfb446dff7f7399d371bea96bae">4e48d33ec&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免sql erorr (&lt;a href="https://github.com/yunionio/onecloud/commit/aa0d05ccd4c4527d098461a960f3df91cb32107d">aa0d05ccd&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>policy-explain not working properly (&lt;a href="https://github.com/yunionio/onecloud/commit/5ebb18b691f47f11421dbdc9b2acd0d219adff8b">5ebb18b69&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>Hanle the error of vdisk.GetIStorage in syncCloudDisk (&lt;a href="https://github.com/yunionio/onecloud/commit/4c6682617cfcd2c8a6503b419c48c765496a31ec">4c6682617&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Add &amp;lsquo;/version&amp;rsquo; handler for notify (&lt;a href="https://github.com/yunionio/onecloud/commit/2cd2f3d029f5a568d587f0fcd9cd54075734b55d">2cd2f3d02&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>更正华为云操作成功判断 (&lt;a href="https://github.com/yunionio/onecloud/commit/5837b696d74d207f2f0264b37b9395c71c775ff4">5837b696d&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>disable updating zone_id for host, storage, wire (&lt;a href="https://github.com/yunionio/onecloud/commit/1e4acedf2508397fd743e925470efc30c08cebf2">1e4acedf2&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>Wait for ticker when get status is wrong (&lt;a href="https://github.com/yunionio/onecloud/commit/7e80ecf61bc8adb15ee3aeed8f1c7a1629590d4d">7e80ecf61&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>优化安全组同步逻辑 (&lt;a href="https://github.com/yunionio/onecloud/commit/03a3dfcd7327a96e4ae4ab4ddd145df4c1b458c7">03a3dfcd7&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>handler param.convert&amp;rsquo;s error in caller.go (&lt;a href="https://github.com/yunionio/onecloud/commit/c793746f0dc392acf0aa6caa85677ac482e350d9">c793746f0&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>explainPolicy piggyback owner&amp;rsquo;s privilige (&lt;a href="https://github.com/yunionio/onecloud/commit/e7b198ab3586a224bd6fe61341c9106c15dba505">e7b198ab3&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>base64 decode 12-bytes plain text password return nil (&lt;a href="https://github.com/yunionio/onecloud/commit/a51d554d74b96fcade5176f1286b54e80f264719">a51d554d7&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>remove spaces in name (&lt;a href="https://github.com/yunionio/onecloud/commit/06e19c494c352ecd5112e557d585af1b02c4916d">06e19c494&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>oss-upload fail to set object acl (&lt;a href="https://github.com/yunionio/onecloud/commit/d519a6584b14e43519867fac2866d15b9557d813">d519a6584&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>返回object默认acl (&lt;a href="https://github.com/yunionio/onecloud/commit/510eb101ec39fef3688aaed531e98bd3a4841468">510eb101e&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>xsky recode using endpoint as accesskey key (&lt;a href="https://github.com/yunionio/onecloud/commit/de081a768d847e1c6e50c19fa20c33e08bfdf1f7">de081a768&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>Support &amp;lsquo;generate_name&amp;rsquo; when saving template from guest (&lt;a href="https://github.com/yunionio/onecloud/commit/27f746eb260dc8961766bec684d743eb3fa73ee1">27f746eb2&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>避免openstack session==nil (&lt;a href="https://github.com/yunionio/onecloud/commit/90aa834942c7873bbe90bf4be9e6d5fa66714bbc">90aa83494&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>keystone event list fail to find user (&lt;a href="https://github.com/yunionio/onecloud/commit/b917ea6a10938e876ab44051265182a377cf098e">b917ea6a1&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>添加region翻译 (&lt;a href="https://github.com/yunionio/onecloud/commit/6ba9a8fae83fa41ebe38e6c2655a708d0d333cda">6ba9a8fae&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复gcp object编码问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/c706821a74bd5d0a5d810542fbd9d75ed1ac4f99">c706821a7&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>移除默认调度策略 (&lt;a href="https://github.com/yunionio/onecloud/commit/c2ce0460a2209163ca177d468126e6acf3adfb3d">c2ce0460a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>转换gcp错误 (&lt;a href="https://github.com/yunionio/onecloud/commit/9069814b177f75738a4e0257ad7bfd79001d9117">9069814b1&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免越过tenantcache过期检查 (&lt;a href="https://github.com/yunionio/onecloud/commit/8754ef24364e6fe5bb7153760e61562f879073be">8754ef243&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>允许gcp创建vpc时不指定cidr (&lt;a href="https://github.com/yunionio/onecloud/commit/53d771025e3fe33c89c9bc39dcbbaf3299b643be">53d771025&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>gcp默认创建允许所有地址访问的用户 (&lt;a href="https://github.com/yunionio/onecloud/commit/f73b3ed03fd75f610f18227cc305dae907054435">f73b3ed03&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>apigateway expose esxiagent service avaiability (&lt;a href="https://github.com/yunionio/onecloud/commit/ddc483509aee5cb234a9278801e4b8c32baf6380">ddc483509&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免锁超时 (&lt;a href="https://github.com/yunionio/onecloud/commit/a519a6612261393d56fbbd19b2667e66acef342a">a519a6612&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>gcp path escape for object (&lt;a href="https://github.com/yunionio/onecloud/commit/23df2235e48319e2dad75ecb0e3256e781a642bc">23df2235e&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>sync s3 bucket status (&lt;a href="https://github.com/yunionio/onecloud/commit/7cb40ec3c26f7467dff79e2b280f89117221d705">7cb40ec3c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>add us-west4 for google region (&lt;a href="https://github.com/yunionio/onecloud/commit/1997e41ea63aa5867e00ec67203ef8662165c9c8">1997e41ea&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>class method GetPropertyXXX should support rbac (&lt;a href="https://github.com/yunionio/onecloud/commit/a99deb61410c01e379be59b1fcdc90025897ac7f">a99deb614&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>安全组规则返回项目id信息 (&lt;a href="https://github.com/yunionio/onecloud/commit/61ff1544ecb2bd2558df407b53dfcdfc6afb17a4">61ff1544e&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>华为企业项目映射同步 (&lt;a href="https://github.com/yunionio/onecloud/commit/3a0b5c5e2106196be45793092b422f8e8b3fc13f">3a0b5c5e2&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>byte size fix (&lt;a href="https://github.com/yunionio/onecloud/commit/5ed624d15d50ce5a8d09cc0409e2004a73f2d672">5ed624d15&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>ignore match weights when searching matched policysets (&lt;a href="https://github.com/yunionio/onecloud/commit/01570284655cdf499fdaad29fcec8cebdf1bd1b3">015702846&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>generating bucket APIs (&lt;a href="https://github.com/yunionio/onecloud/commit/5e77a9682e4c5aafc078563c31b240cf82926cc7">5e77a9682&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>typo (&lt;a href="https://github.com/yunionio/onecloud/commit/f9dcb2bb77cec26e595fa743f2dd032b9599e60a">f9dcb2bb7&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>lb FetchCustomizedColumes fixes (&lt;a href="https://github.com/yunionio/onecloud/commit/f82543e236475479008c6ab4a2d1452e1aa91417">f82543e23&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免因磁盘数量导致创建机器失败 (&lt;a href="https://github.com/yunionio/onecloud/commit/caf07c256172f62526b280a9a3c460560f31eec3">caf07c256&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>sysadmin cannot convert host in non-default domain (&lt;a href="https://github.com/yunionio/onecloud/commit/f54d633258d1710d5516c18b36b91eacfbb3e78d">f54d63325&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免azure卸载磁盘失败 (&lt;a href="https://github.com/yunionio/onecloud/commit/d4b16667de097cc58c2013ba4d3824431be92181">d4b16667d&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>domain user no previleges to convert host (&lt;a href="https://github.com/yunionio/onecloud/commit/c563f021b03c56878877deef2bd6ce993f876135">c563f021b&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>scheduler test ignore quota limit (&lt;a href="https://github.com/yunionio/onecloud/commit/354a61632d2184b10545e4f9ff9407e54883dc9c">354a61632&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>移除azure policy sync部分 (&lt;a href="https://github.com/yunionio/onecloud/commit/9e07cda2bdf8ab8e549d93fc7b3a7768c25c2da3">9e07cda2b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>sku status filter (&lt;a href="https://github.com/yunionio/onecloud/commit/95ae69c2bac64efe4c6b72eadacbbaacd9d8c1d0">95ae69c2b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>bucket信息修正 (&lt;a href="https://github.com/yunionio/onecloud/commit/f89be60e69c0555b1f3b9ebe695f6dbb32281912">f89be60e6&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>tmp update (&lt;a href="https://github.com/yunionio/onecloud/commit/893d77398b55598803bf91636879b05c99140d52">893d77398&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>通用指定项目到云上创建资源 (&lt;a href="https://github.com/yunionio/onecloud/commit/9916c99172951793ca5a6845d3d26a5bb8336120">9916c9917&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>retry ipmi probe if redfish-api-probe fails (&lt;a href="https://github.com/yunionio/onecloud/commit/3699a9b20f7f7a46f7a8bbe24b9e4f80e3b9a689">3699a9b20&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>identity_provider details missing fields (&lt;a href="https://github.com/yunionio/onecloud/commit/f9bc5f6922ba542b9f42a2a61b1e27bdeb4156c7">f9bc5f692&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>default policy not effective (&lt;a href="https://github.com/yunionio/onecloud/commit/03477cbe72a31e594736f5564809b01442bf0cbd">03477cbe7&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免openstack以镜像做系统盘创建失败 (&lt;a href="https://github.com/yunionio/onecloud/commit/b31922a3b9fe25ee0df352473afb528736f4a6bc">b31922a3b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>Support filtering notification with contactType (&lt;a href="https://github.com/yunionio/onecloud/commit/ee85dec1ce992cf6f227a17bd0642b6dbed612ba">ee85dec1c&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>empty matched policies list for roles (&lt;a href="https://github.com/yunionio/onecloud/commit/728524fefc50d17805cf5647734232f218cc45bb">728524fef&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>返回项目信息 (&lt;a href="https://github.com/yunionio/onecloud/commit/5cdeebb0461018c6dda55aed5339461bd5a73963">5cdeebb04&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>加入Azure套餐和镜像的检查 (&lt;a href="https://github.com/yunionio/onecloud/commit/0f2ff538474fb0a09792d00ffd6ddeda83ee9d85">0f2ff5384&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免azure uefi重装系统失败 (&lt;a href="https://github.com/yunionio/onecloud/commit/a9c00120060b1f7b4d5bc67f0c039680d36a34b0">a9c001200&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免因io问题导致同步镜像列表为空 (&lt;a href="https://github.com/yunionio/onecloud/commit/a7e1bdf6f5f102e39429e43bc1d47ad2b10ae835">a7e1bdf6f&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>usage for schetag not accurate (&lt;a href="https://github.com/yunionio/onecloud/commit/1dfef4dcfa4a43b71c17cf4226eb00567c612a5c">1dfef4dcf&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>gcp bucket文件夹默认设为private (&lt;a href="https://github.com/yunionio/onecloud/commit/ef25bf3282118a21b525a01faccb892f2ca9a10f">ef25bf328&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>aliyun rds backup create fix (&lt;a href="https://github.com/yunionio/onecloud/commit/b260c04c399b6229ce8ea11d7bd74e189a2c7e2f">b260c04c3&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免regional network-list &amp;ndash;zone导致返回结果为空 (&lt;a href="https://github.com/yunionio/onecloud/commit/8bc4927d57b8daa62ddcedf0ddd96ab02dede4c7">8bc4927d5&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>system privileges user cannot access system console (&lt;a href="https://github.com/yunionio/onecloud/commit/29283ff1188887f5065d6688b309fbfc8b9da17b">29283ff11&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免忽略本地allow any云上deny any安全组规则同步 (&lt;a href="https://github.com/yunionio/onecloud/commit/c8ba52c94ab6e48a4d5b2520b5a673bdc39a1e5d">c8ba52c94&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>上传镜像为转换列表之外时,subformat状态异常 (&lt;a href="https://github.com/yunionio/onecloud/commit/1354270c515186509dbf46ddb773ec0c525ca059">1354270c5&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&amp;lsquo;requirements&amp;rsquo; in ansibleplaybookv2 should be optional (&lt;a href="https://github.com/yunionio/onecloud/commit/77e5801ad9c7b874aa63a28576559b3545077cdb">77e5801ad&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>cloudaccount share_mode not initialized (&lt;a href="https://github.com/yunionio/onecloud/commit/08eda0d44d90d153a36dbdc78ad3798021773b5e">08eda0d44&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>仅当变更domainId时才需要更新projectId (&lt;a href="https://github.com/yunionio/onecloud/commit/bf57b829ae344d8db444a96072d4a7f4904bbe7b">bf57b829a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>policy details should carry updated_at and created_at fields (&lt;a href="https://github.com/yunionio/onecloud/commit/4c313f5a26f951aba1aef5dd5c3ede8a969691a0">4c313f5a2&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>delete idp also delete users/groups in target domain (&lt;a href="https://github.com/yunionio/onecloud/commit/3118a1020ffdd4a8d8a9c25e03fae81e53b7f807">3118a1020&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>尽量避免因代理问题导致google request异常 (&lt;a href="https://github.com/yunionio/onecloud/commit/f7bf34ee18f4747caf4eda9a28fce232189fb572">f7bf34ee1&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>支持公有云指定资源组 (&lt;a href="https://github.com/yunionio/onecloud/commit/f9b1466f4491159931371597114e8c7b4882c476">f9b1466f4&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>支持指定resource group (&lt;a href="https://github.com/yunionio/onecloud/commit/4b5f8b8d5cd0ca59efff5a466cbb3d345f3a9983">4b5f8b8d5&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复zstack使用win镜像时userdata base64加密问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/f162ac46fe196b40808220235ba47d2b69b63250">f162ac46f&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>cloudprovider list support filter by zone and cloudregion (&lt;a href="https://github.com/yunionio/onecloud/commit/50f55c299c4aa81589cc737514276b500276a156">50f55c299&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>优化azure image同步逻辑 (&lt;a href="https://github.com/yunionio/onecloud/commit/b18035442ef8ebcca81a192bbb37f4a2371b40b3">b18035442&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>policy create fail on initialization phrase (&lt;a href="https://github.com/yunionio/onecloud/commit/5b60c4fad8d37a23992cfb72fb021913387f3cd7">5b60c4fad&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>anonymous user may list resources (&lt;a href="https://github.com/yunionio/onecloud/commit/f4a676575ad63b7369796c7721f26488947fbeae">f4a676575&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免大范围安全组共享 (&lt;a href="https://github.com/yunionio/onecloud/commit/8f4e0a5e84c4e7d7d290676b61a5f7188852132e">8f4e0a5e8&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>image-list &amp;ndash;sub-format support (&lt;a href="https://github.com/yunionio/onecloud/commit/f9c794f745595db1eeb0cad500f0bb46835fb204">f9c794f74&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>加入azure镜像vhd检查 (&lt;a href="https://github.com/yunionio/onecloud/commit/589a4678faa58830134f90d1c10a9e054a6dc898">589a4678f&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>update fields permission tags (&lt;a href="https://github.com/yunionio/onecloud/commit/d1fd245384dee0143d9c53a7a18b496b4101f1ed">d1fd24538&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免设置自动释放后磁盘的expired_at失效 (&lt;a href="https://github.com/yunionio/onecloud/commit/3fe417c4f6e3ef1f0b39c61a6c951c8ed11c73d4">3fe417c4f&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免仅同步一个region时，其余region状态变为准备中 (&lt;a href="https://github.com/yunionio/onecloud/commit/33c2b5fa9d9723853cf434d3c49f53b558bfdeb1">33c2b5fa9&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>优化标签列表过滤参数 (&lt;a href="https://github.com/yunionio/onecloud/commit/e306a4e23fac22d2e28aa12bafd1f675bacef660">e306a4e23&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>bugfixes (&lt;a href="https://github.com/yunionio/onecloud/commit/b312b5dacbb7fb4fc1449c392039e0875fa87fab">b312b5dac&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>disable delete standard image (&lt;a href="https://github.com/yunionio/onecloud/commit/ed5463ca68724155aee3eb6448356bd1d86308ef">ed5463ca6&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>fail to explain permission for disabled policy (&lt;a href="https://github.com/yunionio/onecloud/commit/54689d862b0a644dc0d344a7cb044d76014732aa">54689d862&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>server-sync-fix-nics should return errors if vnics ip is not reachable on host (&lt;a href="https://github.com/yunionio/onecloud/commit/605978a94e5b4e424e090f445e639418b64c239a">605978a94&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>xxx-agent should generally use scope=system to list resources (&lt;a href="https://github.com/yunionio/onecloud/commit/41125788feec83e7d1a9ea2af7cc9ca783db8308">41125788f&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>esxi disk project sync (&lt;a href="https://github.com/yunionio/onecloud/commit/039644e89fdc9820a08eb4d2b4ee892189207189">039644e89&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>do not share porject resource by default (&lt;a href="https://github.com/yunionio/onecloud/commit/ea254c8ed8283a058f14d17c5763e39074a67c05">ea254c8ed&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>blacklist keystone reset admin password (&lt;a href="https://github.com/yunionio/onecloud/commit/7655f8e2a202420b2b08bfbd012f5c62ca439530">7655f8e2a&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>自动创建项目 (&lt;a href="https://github.com/yunionio/onecloud/commit/72fb9a58d009a31308e36f12adbc0667b341ce94">72fb9a58d&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复华为云eneterprise-project-list异常问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/4d71f7e2a3de8587461e6e208d186ec17e5c6df0">4d71f7e2a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>非私有云同步region name (&lt;a href="https://github.com/yunionio/onecloud/commit/86087b9acba8cbc0cd75a41cdd5244c7235ad014">86087b9ac&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免backup list未能正常显示rds信息 (&lt;a href="https://github.com/yunionio/onecloud/commit/d82cf4184b6b36314961aab5d24d03e12214178a">d82cf4184&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>FindAnonymousStructPoint needs input as a pointer to struct (&lt;a href="https://github.com/yunionio/onecloud/commit/ead8825dc2c1614aa8f3bd372050cf18cc7fe242">ead8825dc&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>set public_scope to system for image with is_public=true (&lt;a href="https://github.com/yunionio/onecloud/commit/eb54f316c7e647077ad8770ec7e6432f51e311c8">eb54f316c&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>优化rds zone同步逻辑 (&lt;a href="https://github.com/yunionio/onecloud/commit/fc4778f3325b84656a74496a47bb58a3b3a5a29b">fc4778f33&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>优化windows powershell userdata (&lt;a href="https://github.com/yunionio/onecloud/commit/5c6b016c2dd37f882abff1955d98520a4855b1f7">5c6b016c2&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>avoid using background context (&lt;a href="https://github.com/yunionio/onecloud/commit/c35758dd0836d774cd08cf6f32fa669aedd552b3">c35758dd0&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>status-base resource&amp;rsquo;s action log missing owner project/domain (&lt;a href="https://github.com/yunionio/onecloud/commit/9c26c040835b7e7ac59f817c0f7d20d1abf32683">9c26c0408&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>host agent list use baremetalagents model (&lt;a href="https://github.com/yunionio/onecloud/commit/5c8081b6bf19c46280d515ba6701a98a824c56d6">5c8081b6b&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>reserved ip owner filter (&lt;a href="https://github.com/yunionio/onecloud/commit/07766b7b44bde3e0437dd35c68110b578075cdad">07766b7b4&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>i-ps -&amp;gt; ips (&lt;a href="https://github.com/yunionio/onecloud/commit/b0b45c420917866e9c510685876fb3644424decf">b0b45c420&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>openstack 安全组规则同步 (&lt;a href="https://github.com/yunionio/onecloud/commit/df5f5c9b9e3c30e7ef481100358e341b9af6eeb9">df5f5c9b9&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>change-owner-candidate-domains not implemented for some resources (&lt;a href="https://github.com/yunionio/onecloud/commit/4a84beee0fa3a43f3c9fa7b298de7fd93511dda0">4a84beee0&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免provider错乱返回 (&lt;a href="https://github.com/yunionio/onecloud/commit/bd21b346a597bc6cc2a90352c8611a5abd4e6a08">bd21b346a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>优化openstack错误处理 (&lt;a href="https://github.com/yunionio/onecloud/commit/2da49eb0dd691701bcbd621101789fbe731b2e2e">2da49eb0d&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>cloud-provider-list support filter by cloudregion (&lt;a href="https://github.com/yunionio/onecloud/commit/d271ff69f03e3da6fcee65afdd9accaf01287140">d271ff69f&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>支持访问其他服务的标签列表 (&lt;a href="https://github.com/yunionio/onecloud/commit/f01bed833d84545d18a6aa8b99017174a1165005">f01bed833&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>isolated_devices domain filter not working (&lt;a href="https://github.com/yunionio/onecloud/commit/e9101ebc2e4b8f1491d5d7795d471b4a4e9d0642">e9101ebc2&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>gcp rds 默认不使用vpc网络 (&lt;a href="https://github.com/yunionio/onecloud/commit/8cfbf9a8fe46f2617d9a12ed11625c1341e6a3a7">8cfbf9a8f&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免卸载完已删除的磁盘后，磁盘状态为ready (&lt;a href="https://github.com/yunionio/onecloud/commit/8a8d0f90058537df527022da70199819cf1b8663">8a8d0f900&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>globalvpc count vpc (&lt;a href="https://github.com/yunionio/onecloud/commit/b6ec2b406e94f8e52d7464a92665058843ca06f8">b6ec2b406&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>避免aliyun磁盘计费类型多次转换 (&lt;a href="https://github.com/yunionio/onecloud/commit/2560fa3457623b2a694c928a8e5c070d65975283">2560fa345&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>create cloudaccount with disabled state (&lt;a href="https://github.com/yunionio/onecloud/commit/3b0bc385832664928f2d4cf26a679504628dcb73">3b0bc3858&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>panic when disk has no valid storage_id (&lt;a href="https://github.com/yunionio/onecloud/commit/42171cb9c95005ac0fa5ce005528efe0b0a331bb">42171cb9c&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>init sharing status of default vpc and default secgroup (&lt;a href="https://github.com/yunionio/onecloud/commit/77f35bae2ecb06be83cbc3f952aeea98a0f40ea7">77f35bae2&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>recode sync public_src of cloud resources (&lt;a href="https://github.com/yunionio/onecloud/commit/bea90b4b193907519faa94dd2e8c3e4a5fc0de72">bea90b4b1&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>guestsecgroup-list panic (&lt;a href="https://github.com/yunionio/onecloud/commit/99ddc175ba49edb2875876a0d037f679519491ad">99ddc175b&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>allow delete shared resource (&lt;a href="https://github.com/yunionio/onecloud/commit/8bd0205bb681218147b6d24f6fc51939956d65ba">8bd0205bb&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>
&lt;ol>
&lt;li>vpc, cloudprovider should not violate the sharing limit of cloud account 2. sharing mode of host and attached local storage should be consistent. 3. cannot change owner of shared resource (&lt;a href="https://github.com/yunionio/onecloud/commit/f2e0fcf4e9c23344354b68379cb4191f46181621">f2e0fcf4e&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>export missing keys &amp;amp;&amp;amp; export panic (&lt;a href="https://github.com/yunionio/onecloud/commit/bfa87867672d50ba86088880a0a92e55067ce989">bfa878676&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>missing methods for SDomainRegionalCloudResourceKeys (&lt;a href="https://github.com/yunionio/onecloud/commit/c7d58dee9173af00d84c65cc9fd6328183ce14b3">c7d58dee9&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>fail to sync share state for on-premise storages (&lt;a href="https://github.com/yunionio/onecloud/commit/45b8494cdc8911819319183f1881cd8dbc453ce4">45b8494cd&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>api doc(guests -&amp;gt; servers) (&lt;a href="https://github.com/yunionio/onecloud/commit/6cff98f85b4e2f7f89789e01bb9bf9d2ed8f20cb">6cff98f85&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>missing perform public/private actionlog (&lt;a href="https://github.com/yunionio/onecloud/commit/c473c9299eb9a96421aa39c9256926f7f9e2e462">c473c9299&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>shared cloudprovider not accessible (&lt;a href="https://github.com/yunionio/onecloud/commit/a2a60245b2cd9480d8d56e45c23700b8655e52bd">a2a60245b&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>shared resource should not be deletable (&lt;a href="https://github.com/yunionio/onecloud/commit/6f3e18930e2b12ff336856ec2657a4b248c5bd43">6f3e18930&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>fail to fetch real client ip from httprequest (&lt;a href="https://github.com/yunionio/onecloud/commit/5ff4b9748b64ac6764c05db9290a60ca5c9ec2e4">5ff4b9748&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>secgroupcache权限问题修复 (&lt;a href="https://github.com/yunionio/onecloud/commit/10469342bbdfa53323621c0cba8fe4ac07ee20a0">10469342b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>list lbbg panic (&lt;a href="https://github.com/yunionio/onecloud/commit/34aacdcde7b29d7243db7edd865778c140380c08">34aacdcde&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>remove cloudaccount autosync randomness (&lt;a href="https://github.com/yunionio/onecloud/commit/0e03bfc275e6237b534767904c94d8fc2508187b">0e03bfc27&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>云账号创建可以指定项目 (&lt;a href="https://github.com/yunionio/onecloud/commit/c12c489e9fccd89f110f6008da5e559171b5b68e">c12c489e9&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>sysadmin can override policy violation check (&lt;a href="https://github.com/yunionio/onecloud/commit/b1647e7ebf04dc3fdae2c374d6e8ae0751618ccb">b1647e7eb&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>usage-handler 不统计虚拟的vpc wire (&lt;a href="https://github.com/yunionio/onecloud/commit/d66197068d7c36830696b16633c5d9fb41d95369">d66197068&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>cloud-account-usage vpc/storage not accurate (&lt;a href="https://github.com/yunionio/onecloud/commit/f39f8381661d55d7794a7ab76d1a98a0c8503c94">f39f83816&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>export files complain duplicate field name error (&lt;a href="https://github.com/yunionio/onecloud/commit/5c138b9199af0deebfcdcee5fd08a6aed9676769">5c138b919&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>prevent policy violation (&lt;a href="https://github.com/yunionio/onecloud/commit/ecb483b9befce2261a69f9d907e8c2005ad1b66e">ecb483b9b&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免gcp创建创建文件夹失败 (&lt;a href="https://github.com/yunionio/onecloud/commit/b805d3495a2bd6a3e66043e7621bde5250f88a5e">b805d3495&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复openstack存储同步问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/e43af577b624f5db26bbf51f64a442ca53a2245e">e43af577b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>普通用户可获取rds账号密码 (&lt;a href="https://github.com/yunionio/onecloud/commit/0ff17ebeffb998b4d38b78698574ddb6d0157008">0ff17ebef&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>gcp fake region status (&lt;a href="https://github.com/yunionio/onecloud/commit/86251d1ca3274f826d8deb02fbd67a664e74f69a">86251d1ca&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>cloudaccount usage region/zone count not accurate (&lt;a href="https://github.com/yunionio/onecloud/commit/8d7bc247c97a868593aefb38f95e520549ac8315">8d7bc247c&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>gcp use project name for cloudprovider (&lt;a href="https://github.com/yunionio/onecloud/commit/139b9592c8c0173d42dde36d55dc349d97f645eb">139b9592c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>cloud-account/provider usage not accurate (&lt;a href="https://github.com/yunionio/onecloud/commit/912bf5c699f4d27c2e802dc27491ab8008e71213">912bf5c69&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>proxysetting attributes should be domain-settable (&lt;a href="https://github.com/yunionio/onecloud/commit/1e81c79adf888534d496abb056c3d0cc5ee6c7c8">1e81c79ad&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>json unmarshal (&lt;a href="https://github.com/yunionio/onecloud/commit/b48dbbc5c82ca8d3b11fde1c180f06201dd2f187">b48dbbc5c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>resolve parameter name conflict in google cloud account create input (&lt;a href="https://github.com/yunionio/onecloud/commit/d4600430a55ec6fc4c68f5677ef2b5a3f4a0a15b">d4600430a&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>opslog FetchOwnerId fail (&lt;a href="https://github.com/yunionio/onecloud/commit/1882232b4c7de10d1f554d8551596b0759c87809">1882232b4&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>network allocation according to sharing status (&lt;a href="https://github.com/yunionio/onecloud/commit/68c03778a2e58a5d46d85faed4c5c23bfc887d84">68c03778a&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>GetOnPremiseNetworkOfIP should return underlay networks (&lt;a href="https://github.com/yunionio/onecloud/commit/2498af7c38701dba454f5671a8964c0ac6a1f5e8">2498af7c3&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>update README api docs url to v2 (&lt;a href="https://github.com/yunionio/onecloud/commit/5f4f11bee411227493be30af7069e1b1a263a12c">5f4f11bee&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>dns name pattern revisited (&lt;a href="https://github.com/yunionio/onecloud/commit/61051b843f80e1abf51cdb8d81bddb099499abed">61051b843&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>code autogen issues (&lt;a href="https://github.com/yunionio/onecloud/commit/7ab3a06b46dcb7577566ffa53170b17e7960aaed">7ab3a06b4&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>避免rds任务交叉运行 (&lt;a href="https://github.com/yunionio/onecloud/commit/5754fe90c50dafedd1b60fb6c498918fb1d600d4">5754fe90c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>domain resources' field tags should changed to domain tags (&lt;a href="https://github.com/yunionio/onecloud/commit/ee42b9c014e88c613fb3880c355f2e00cf918cec">ee42b9c01&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>cloudevent使用代理优化 (&lt;a href="https://github.com/yunionio/onecloud/commit/cea9cf95b5cc952292e21f293f8b4c21ac1ceb4d">cea9cf95b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>添加cloudevent过滤参数 (&lt;a href="https://github.com/yunionio/onecloud/commit/a5b6e894b47c6f3625cd5234001de7ade7f37974">a5b6e894b&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>opslog create fail (&lt;a href="https://github.com/yunionio/onecloud/commit/1b861a41f9bbc7262affae671e11903e32b54cdf">1b861a41f&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>clean pending usage caused by pre-validate-create-data (&lt;a href="https://github.com/yunionio/onecloud/commit/2297c6e9638a7c0218a426457441b920bdc55c32">2297c6e96&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>is_managed filter is not accurate (&lt;a href="https://github.com/yunionio/onecloud/commit/b7b496676eaf4dcbcf2a81f98080a6e205e7b8ed">b7b496676&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>typo (&lt;a href="https://github.com/yunionio/onecloud/commit/05012f0baca344b2b45300a9c35a454958060c12">05012f0ba&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>转换非标准存储类型到lrs (&lt;a href="https://github.com/yunionio/onecloud/commit/0f2e997f6d457d17c5d55b439af1fc0945d8dec4">0f2e997f6&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>show sql connection error (&lt;a href="https://github.com/yunionio/onecloud/commit/9cb2727bf1d8fb5009c4561cebbb9ded8e3a956a">9cb2727bf&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> Remove &amp;lsquo;Destory&amp;rsquo; operation that is unnecessary for VirtualDiskManager (&lt;a href="https://github.com/yunionio/onecloud/commit/dae02ec019583e990fb44e50f276f6ec12ae6932">dae02ec01&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> Disable automatically add host to the dvs (&lt;a href="https://github.com/yunionio/onecloud/commit/3530bca49ff722dd3778cbb6f5da7a9860ccc3ad">3530bca49&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> Select correct unitNumber for ide control when creating disk (&lt;a href="https://github.com/yunionio/onecloud/commit/7c82002903ee87a2fad32e025efd61f374c14e59">7c8200290&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">Rain Zheng&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> Modify the disk size correctly when creating vm (&lt;a href="https://github.com/yunionio/onecloud/commit/d710248496bca37a7113462bfffa9047264f3871">d71024849&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> Set &amp;lsquo;WindowsDefaultAdminUser&amp;rsquo; as true when deploy vm. (&lt;a href="https://github.com/yunionio/onecloud/commit/33184357bf74f9d3ad35b3225036eebcf65fc894">33184357b&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> Detach all disk first when deleting vm (&lt;a href="https://github.com/yunionio/onecloud/commit/9bb7320771c514048c7a7958e8f978cc699fb00c">9bb732077&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> Fix GetDriver and add driver log for vdisk. (&lt;a href="https://github.com/yunionio/onecloud/commit/81ffd582f621eb4b3ef379bbac727d00aabcbbfa">81ffd582f&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> Add usb to support mouse in vnc viewer (&lt;a href="https://github.com/yunionio/onecloud/commit/874ea4eb4a5bad7f4e9e69509d3a53cb290e01da">874ea4eb4&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> Allow the creation of duplicate vcenter machines. (&lt;a href="https://github.com/yunionio/onecloud/commit/60a363a79ad14f8737a8c38796464d2bc46e9576">60a363a79&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> Separate detach disk and delete disk when rebuilding. (&lt;a href="https://github.com/yunionio/onecloud/commit/b6ce495d4fdba4d45930cd9c5311d5b97a76adc0">b6ce495d4&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>esxi:&lt;/strong> Set &amp;lsquo;IsInit&amp;rsquo; as true when rebuildroot (&lt;a href="https://github.com/yunionio/onecloud/commit/2fe738b468e769b73d4e0ed28e6b1861317a2c19">2fe738b46&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>host:&lt;/strong> No tag when tag&amp;rsquo;s value is empty (&lt;a href="https://github.com/yunionio/onecloud/commit/72716b8d5b989427916a905df918db4ef3fdcf4c">72716b8d5&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> Remove default mobile template (&lt;a href="https://github.com/yunionio/onecloud/commit/9374c65a8fc2f85a4871fa29acd8a71ea933afc2">9374c65a8&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> Fix problems for Auto Scaling (&lt;a href="https://github.com/yunionio/onecloud/commit/4f27908fff25a8b829163d17631b2a45c2771d57">4f27908ff&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> Set default value if rootdisk&amp;rsquo;s driver is empty. (&lt;a href="https://github.com/yunionio/onecloud/commit/45305648d4da67814c3ac71d4d3e564e94cb5bad">45305648d&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> Remove default secgroup for esxi guest (&lt;a href="https://github.com/yunionio/onecloud/commit/cd01258555caec8c331bab8719674739f2252bcc">cd0125855&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> zone from guesttemplate&amp;rsquo;s preferzone maybe nil (&lt;a href="https://github.com/yunionio/onecloud/commit/5ee96982181c1fa861c3708cf781d207ee15af95">5ee969821&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> Don&amp;rsquo;t allow address conflicts under vpc (&lt;a href="https://github.com/yunionio/onecloud/commit/18f5f9cb8c98c6f41fd84cc05d0e93a9d148c53d">18f5f9cb8&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> Fix problems for Auto Scaling (&lt;a href="https://github.com/yunionio/onecloud/commit/7d52e5de80a6b9d2cef5e4bbeeba11a902bbf813">7d52e5de8&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> Add CustomizeListFilter for snapshotpolicy (&lt;a href="https://github.com/yunionio/onecloud/commit/a9b7ca52028ccdfd3fd6ba5f0c66d48a31c21cc4">a9b7ca520&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> Add implements about owner for ScalingPolicy and ScalingActivity (&lt;a href="https://github.com/yunionio/onecloud/commit/6e9366f5691cd483e68abca5a1062023b570481e">6e9366f56&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="build-3">Build (3)&lt;/h3>
&lt;ul>
&lt;li>ansibleserver: use native alpine, include openssh (&lt;a href="https://github.com/yunionio/onecloud/commit/e5dd8efd7af54afb4f442fdd759c8c47daed009a">e5dd8efd7&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>docker: use openvswitch:2.10.4-0 (&lt;a href="https://github.com/yunionio/onecloud/commit/23533960132ff0f72723c9cf3bcdf4ac846996db">235339601&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>add vet-check (&lt;a href="https://github.com/yunionio/onecloud/commit/8e40ff64f586c5bd861128d70f85a74d59877247">8e40ff64f&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="capability-1">Capability (1)&lt;/h3>
&lt;ul>
&lt;li>public network count filter by default vpc (&lt;a href="https://github.com/yunionio/onecloud/commit/80ae1b6cde79fc4043d524a989cd606d9d0fd22f">80ae1b6cd&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="climc-14">Climc (14)&lt;/h3>
&lt;ul>
&lt;li>refactor k8s resource (&lt;a href="https://github.com/yunionio/onecloud/commit/a6db3d353c95c8b52b177367b9db7de7ed4c2635">a6db3d353&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>lbagent-show-default-params: add &amp;ndash;cluster option support (&lt;a href="https://github.com/yunionio/onecloud/commit/333954add931c117c7f1627e22f4f41d4e3bc88d">333954add&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>add command lbagent-show-default-params (&lt;a href="https://github.com/yunionio/onecloud/commit/e8b6803525ef3aa5d1fa1b15681b1630106c9a87">e8b680352&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>lb-update: add &amp;ndash;cluster argument (&lt;a href="https://github.com/yunionio/onecloud/commit/1a308442c5883f867221604dbe5eff5be5f950f4">1a308442c&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>lbcluster-create: mark &amp;ndash;zone as required (&lt;a href="https://github.com/yunionio/onecloud/commit/74e19af5143c8c9070ef4cffe9a070ae072007e3">74e19af51&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>lblistener-create: make &amp;ndash;scheduler an optional arg (&lt;a href="https://github.com/yunionio/onecloud/commit/ea8cd6d7e90ca145ea09b56bd8d4c75a60b2136b">ea8cd6d7e&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>shell: networks: add eip to server type choices (&lt;a href="https://github.com/yunionio/onecloud/commit/eaa16f333591065d0606802b2e4ac437f3f825f0">eaa16f333&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>eip-create: make manager, region optional arguments (&lt;a href="https://github.com/yunionio/onecloud/commit/56c89ed5772ad6e031ddf07882ebfa20cfa7bdf0">56c89ed57&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>vpcs: add &amp;ndash;external-access-mode argument (&lt;a href="https://github.com/yunionio/onecloud/commit/a0b39cc7b2a2a09fa3df74ab1ceb4e7aab0cdff5">a0b39cc7b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>update k8s resource cmd (&lt;a href="https://github.com/yunionio/onecloud/commit/9f0df58c95bba79ee683ae61eb8d180cfaa00d1c">9f0df58c9&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>k8s component add monitor options (&lt;a href="https://github.com/yunionio/onecloud/commit/8df15591621851ec9e6ec0888885e2228e052391">8df155916&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>remove stale zsh completion code (&lt;a href="https://github.com/yunionio/onecloud/commit/16adec3a5b8f4d86c121fb321d0e0549554de8c0">16adec3a5&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>add k8s monitor component (&lt;a href="https://github.com/yunionio/onecloud/commit/90618466b227836d03fb9d340d924e9ddb70f241">90618466b&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>support zsh completion (&lt;a href="https://github.com/yunionio/onecloud/commit/e884f4b6f066864588d638cb47524cef13df72f1">e884f4b6f&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="cloudaccounts-1">Cloudaccounts (1)&lt;/h3>
&lt;ul>
&lt;li>one sync task in queue per cloudaccount (&lt;a href="https://github.com/yunionio/onecloud/commit/8f5c65b9232c4e9c44a4cf73fddc1d2548babf19">8f5c65b92&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="cloudcommon-11">Cloudcommon (11)&lt;/h3>
&lt;ul>
&lt;li>taskman: fix table insert (&lt;a href="https://github.com/yunionio/onecloud/commit/986878289e8e076607761ed6e405b8d1f9342631">986878289&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>tablespec: informer: use %#v to log bad obj (&lt;a href="https://github.com/yunionio/onecloud/commit/60293ef052b34e6de7358e418618f8c94d82e767">60293ef05&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>taskman: SetModelManager (&lt;a href="https://github.com/yunionio/onecloud/commit/db9789c86853fc9851989cb71105bd9389e1f7e1">db9789c86&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>tablespec: informer: log obj type (&lt;a href="https://github.com/yunionio/onecloud/commit/2f79c99dc7446c5684e3c74b774c76eaa5dac025">2f79c99dc&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>policy: fix interval and oneshot sync (&lt;a href="https://github.com/yunionio/onecloud/commit/aeba29c4b3e9223ecbf26f0bea24856476a46284">aeba29c4b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>app: cosmetic change (&lt;a href="https://github.com/yunionio/onecloud/commit/28e83a3125918135285fd45f2620e58aa05a40eb">28e83a312&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>cmdline: rework test (&lt;a href="https://github.com/yunionio/onecloud/commit/2a32627b556dcc0a0f43ed21582b467127cb8524">2a32627b5&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>expose ITableSpec function (&lt;a href="https://github.com/yunionio/onecloud/commit/10603b4f644819e6b72b95f93fd2aa0313092809">10603b4f6&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>rbac: fix typo (&lt;a href="https://github.com/yunionio/onecloud/commit/5499f350906cd986e08a7874b967a106ee8c35f9">5499f3509&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>elect: notifyOne on subscribe (&lt;a href="https://github.com/yunionio/onecloud/commit/d845700cac0300d82e0b30c243b5e3f446d67d01">d845700ca&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>allow create:&amp;ldquo;domain&amp;rdquo; tag (&lt;a href="https://github.com/yunionio/onecloud/commit/14389667a4ca5a6c338f9547aa05dcb29c2c1667">14389667a&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="cloudprovider-2">Cloudprovider (2)&lt;/h3>
&lt;ul>
&lt;li>fix typo (&lt;a href="https://github.com/yunionio/onecloud/commit/ef695acae0e75711ef042ca8dfb606f90afdbb81">ef695acae&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>add methods for getting http client (&lt;a href="https://github.com/yunionio/onecloud/commit/a9061e5453b7ea718ce9cc26007a7d3111b64038">a9061e545&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="disks-1">Disks (1)&lt;/h3>
&lt;ul>
&lt;li>reword error message on bad DiskConfig struct (&lt;a href="https://github.com/yunionio/onecloud/commit/749fd878bc5e49a10a96168c1760dd01a3948805">749fd878b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="dnsrecords-2">Dnsrecords (2)&lt;/h3>
&lt;ul>
&lt;li>allow updating only description (&lt;a href="https://github.com/yunionio/onecloud/commit/2f056b9ef0d3c58f28f8fc30dd4ad8da2896eb83">2f056b9ef&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>note that DnsRecordManager is a IAdminSharableVirtualModelManager (&lt;a href="https://github.com/yunionio/onecloud/commit/06abfccbbc5275719cd47ac97f2c180fca2878e6">06abfccbb&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="elasticips-7">Elasticips (7)&lt;/h3>
&lt;ul>
&lt;li>onecloud: support changing bandwidth (&lt;a href="https://github.com/yunionio/onecloud/commit/df3c337bf6e9219d62a1749005cf11c22ccc44e0">df3c337bf&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>list usable eips for onecloud kvm guests (&lt;a href="https://github.com/yunionio/onecloud/commit/2390e352f8d2afb58081bac2236965afa33aee54">2390e352f&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>onecloud: support sync and syncstatus (&lt;a href="https://github.com/yunionio/onecloud/commit/18fe12a4a7551331f68c82455152dfd2b32b025d">18fe12a4a&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>onecloud: create op (&lt;a href="https://github.com/yunionio/onecloud/commit/3254646244ee5eff2836c4d0886eec4ac7993eaf">325464624&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>onecloud: delete op for non-managed eip (&lt;a href="https://github.com/yunionio/onecloud/commit/fa833e69481307ad6f5bf33e808ca822f18fb51c">fa833e694&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>make manager, region arguments optional (&lt;a href="https://github.com/yunionio/onecloud/commit/8e1b6ded3eed2967f0e7fa6d9b9d1f2bf16ae4c1">8e1b6ded3&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>only create eip of mode elastic_ip (&lt;a href="https://github.com/yunionio/onecloud/commit/0bf41caa3659b37baafe895e82e769e80f645521">0bf41caa3&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="feature-9">Feature (9)&lt;/h3>
&lt;ul>
&lt;li>project filter that list jointable projects for user or group (&lt;a href="https://github.com/yunionio/onecloud/commit/b49272eb35dd6560225ad0620cc204cdf8c480a5">b49272eb3&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>CloudId服务支持 (&lt;a href="https://github.com/yunionio/onecloud/commit/a07b112be14495b76997de4b0510456a06b46d87">a07b112be&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>
&lt;ol>
&lt;li>allow enable/disable idp-synced-users 2. turn off user&amp;rsquo;s MFA by default (&lt;a href="https://github.com/yunionio/onecloud/commit/2cf49c37dc531053d5be57035195f27da5a01d69">2cf49c37d&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>add functime get lastest last start time of a billing duration (&lt;a href="https://github.com/yunionio/onecloud/commit/81b6a766a9f089c617d9fd8e88ff13dca8449cf4">81b6a766a&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>user login into project with highest privilege automatically (&lt;a href="https://github.com/yunionio/onecloud/commit/c209fdd97d3497bb1944e75792cb27b838e7aa4e">c209fdd97&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>reorganize climc codes (&lt;a href="https://github.com/yunionio/onecloud/commit/1843ba334d3a631bd79e6a0484432ddde698a7ae">1843ba334&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>decouple metadata resource and standalone resource (&lt;a href="https://github.com/yunionio/onecloud/commit/722498bf9e428e5257c00af7c1a4bba742da6ccc">722498bf9&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>make baremetal options managed by service config (&lt;a href="https://github.com/yunionio/onecloud/commit/ee9289c23192cd6979b1e19d5fcb8f0c209e2052">ee9289c23&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>climc support auth by token (&lt;a href="https://github.com/yunionio/onecloud/commit/7de51b9d7086e78e6ca86ea30f5f6e24f4e716ae">7de51b9d7&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-16">Features (16)&lt;/h3>
&lt;ul>
&lt;li>Support vm to save server template (&lt;a href="https://github.com/yunionio/onecloud/commit/1265e5d1e94b06547dd17f5ee629900b01cb491d">1265e5d1e&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Support suggest network config before create vmware cloud account (&lt;a href="https://github.com/yunionio/onecloud/commit/14f324ea4a3ccd78393b9408095ee09c87fa2439">14f324ea4&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Add &amp;lsquo;ScheduledTaskQueueSize&amp;rsquo; options (&lt;a href="https://github.com/yunionio/onecloud/commit/3ea4beeb8e8fe6a8a54837c00086c09d33542219">3ea4beeb8&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Add climc command for ScheduledTask and ScheduledTaskActivity (&lt;a href="https://github.com/yunionio/onecloud/commit/2b7bd7a1234c2cc51888484dba248b0443a086bf">2b7bd7a12&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Detach ScheduledTask when pending delete guest (&lt;a href="https://github.com/yunionio/onecloud/commit/8d30ef0ad93c9330d0f3b31f8ab3b196c63705ce">8d30ef0ad&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Add handers and table for ScheduledTask&amp;hellip; (&lt;a href="https://github.com/yunionio/onecloud/commit/d6c5c29c6226f5faa5e6fa75570f37baa1752be1">d6c5c29c6&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Add ScheduledTask, ScheduledTaskActivity and ScheduledTaskLabel (&lt;a href="https://github.com/yunionio/onecloud/commit/058cc4fdce5610b329211f666836445f58b234d1">058cc4fdc&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Extract STimer from SScalingTimer (&lt;a href="https://github.com/yunionio/onecloud/commit/8a2e23fd45dcdfc71ea2d456b528292221fa03c5">8a2e23fd4&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Logo and copyright in verify email are same with these in company info (&lt;a href="https://github.com/yunionio/onecloud/commit/156ef6bd2eee81db7d102b1c1f536290e06ae83f">156ef6bd2&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Supports disabling of feishu and dingtalk notification (&lt;a href="https://github.com/yunionio/onecloud/commit/f73bcf8ad16a0384df5a9eb7e69a2b90f733a292">f73bcf8ad&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> Support &amp;lsquo;socpe:domain&amp;rsquo; when list contacts (&lt;a href="https://github.com/yunionio/onecloud/commit/cfcaa50e22d7602248732e926d567acc080c1272">cfcaa50e2&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>notify:&lt;/strong> Change the format of verify email (&lt;a href="https://github.com/yunionio/onecloud/commit/c706cfa27222796f13c12978052a69fb7dcce9d4">c706cfa27&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> Add &amp;lsquo;EipAutoDellocate&amp;rsquo; option when creating vm (&lt;a href="https://github.com/yunionio/onecloud/commit/7271544618a004ed8a488e8049f0ef413630abe9">727154461&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> Check periodically whether Guest Template is valid (&lt;a href="https://github.com/yunionio/onecloud/commit/f9b7c7e5712ee24ac598fd5733257521f422180e">f9b7c7e57&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>&lt;strong>region:&lt;/strong> Structured diskinfo and add &amp;lsquo;Id&amp;rsquo;, &amp;lsquo;Name&amp;rsquo; field (&lt;a href="https://github.com/yunionio/onecloud/commit/8c4b025dc317eb78ab4e1253544ba9221c5b3430">8c4b025dc&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>&lt;strong>scheduler:&lt;/strong> Change the action for guests with backup and instanceGroup (&lt;a href="https://github.com/yunionio/onecloud/commit/2a0c16c6f3afab844eeeec7834b89b5c6e7d6e6f">2a0c16c6f&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="guestdrivers-3">Guestdrivers (3)&lt;/h3>
&lt;ul>
&lt;li>rework test (&lt;a href="https://github.com/yunionio/onecloud/commit/e27a12ec61b8601d40beed4381d080c062c7d609">e27a12ec6&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>kvm: eip associate (&lt;a href="https://github.com/yunionio/onecloud/commit/8b82d67b6db096a1deabc81be63b35727c724296">8b82d67b6&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>managed: use const api.EIP_STATUS_ASSOCIATE (&lt;a href="https://github.com/yunionio/onecloud/commit/df2d98d8c28d36f9ac10214d11fd258a0ed25afe">df2d98d8c&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="guestnetworks-5">Guestnetworks (5)&lt;/h3>
&lt;ul>
&lt;li>reduce odds of collision seeded by epoch seconds (&lt;a href="https://github.com/yunionio/onecloud/commit/173448ee432c09ca6085473acf479549044926f7">173448ee4&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>use math/rand instead of crypto/rand (&lt;a href="https://github.com/yunionio/onecloud/commit/6a63aa9429881746031b791fa0168b8ae6100b0d">6a63aa942&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>add EipId field (&lt;a href="https://github.com/yunionio/onecloud/commit/ff6e3e236770795bddbe4da15a2537fe7e910b72">ff6e3e236&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>try allocation of mapped addr on sync (&lt;a href="https://github.com/yunionio/onecloud/commit/06ea1b170626076c51a9e793340e3bdc64bcf806">06ea1b170&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>add vpc id and mapped ip addr info to nic desc (&lt;a href="https://github.com/yunionio/onecloud/commit/9990ad3bcc5a33edffe1715eb44ef1edc9f008c2">9990ad3bc&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="guests-6">Guests (6)&lt;/h3>
&lt;ul>
&lt;li>guests with vpc nics are available for eip association (&lt;a href="https://github.com/yunionio/onecloud/commit/2270704c4f80673ab3bb126ba81c5a2c0797dd6b">2270704c4&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>support server-create-eip for onecloud guests and eip (&lt;a href="https://github.com/yunionio/onecloud/commit/7e02808c860b69be4934c1e3ab305ae1e811f8f8">7e02808c8&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>list usable guests for specified eip (&lt;a href="https://github.com/yunionio/onecloud/commit/df4d80fbd98f569e8e05382189f0e6ab2d4b71dc">df4d80fbd&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>include vpc, network info in guest nics list (&lt;a href="https://github.com/yunionio/onecloud/commit/b29c4b38690d744b9a29c2ab9dc2a25be1b72f48">b29c4b386&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>simplify code (&lt;a href="https://github.com/yunionio/onecloud/commit/64f269ac2f1590005b17b70fb3023a0c71248d1b">64f269ac2&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>always include host_id in desc (&lt;a href="https://github.com/yunionio/onecloud/commit/ff2686689caa7054fce966ae4518446e3d829298">ff2686689&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="hostman-9">Hostman (9)&lt;/h3>
&lt;ul>
&lt;li>options: add option &amp;ndash;ovn-underlay-mtu (&lt;a href="https://github.com/yunionio/onecloud/commit/d714e450fbc798e8c4d32f698841a265b4cb246d">d714e450f&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>options: add option &amp;ndash;sdn-pid-file (&lt;a href="https://github.com/yunionio/onecloud/commit/61659d7b288b4df2de591c5e746076f69fefbf0d">61659d7b2&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>options: knobs for enabling features in sdnagent (&lt;a href="https://github.com/yunionio/onecloud/commit/25d05899d477c47e5cd23dd90278d003f429052c">25d05899d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>options: remove k8s_cluster_cidr (&lt;a href="https://github.com/yunionio/onecloud/commit/68b7ecf83a1a69224e5c1c07441ea4aaae90353f">68b7ecf83&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>options: fix default value spec (&lt;a href="https://github.com/yunionio/onecloud/commit/cbe5ef416152e839e805c55ee169199dc775ceb6">cbe5ef416&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>options: pack up a Parse() func (&lt;a href="https://github.com/yunionio/onecloud/commit/0e16bf8ff41c58d1f3b43b90ae5d62da2769f6c9">0e16bf8ff&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>let sdnagent do port cleanup (&lt;a href="https://github.com/yunionio/onecloud/commit/f05e16bd1ba65831602a1f70bfec89d0909e44f7">f05e16bd1&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>options: add ovn_mapped_bridge (&lt;a href="https://github.com/yunionio/onecloud/commit/279e68ae09b9df4b107de463f642ca46043abf6a">279e68ae0&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>options: add allow_xx_vms (&lt;a href="https://github.com/yunionio/onecloud/commit/5acbec452913ac4ad05a358a5692197a4484fea0">5acbec452&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="hotfix-1">Hotfix (1)&lt;/h3>
&lt;ul>
&lt;li>vpc change owners with wire (&lt;a href="https://github.com/yunionio/onecloud/commit/c97e2ab1c2333aacdddb15d55c33f8354b6ee50b">c97e2ab1c&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="informer-1">Informer (1)&lt;/h3>
&lt;ul>
&lt;li>do not inform if backend not init (&lt;a href="https://github.com/yunionio/onecloud/commit/7c61e9662ed1c9a2079575405035b7dcabe1a6d1">7c61e9662&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="iproute2-4">Iproute2 (4)&lt;/h3>
&lt;ul>
&lt;li>address: make Exact idempotent (&lt;a href="https://github.com/yunionio/onecloud/commit/4b6d385e1af9bf4d5d6264031fc3a453c4726896">4b6d385e1&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>route: add del funcs (&lt;a href="https://github.com/yunionio/onecloud/commit/91defab40ff93ab67b7c23344208e8e628fb8de9">91defab40&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>errors: add IsErrSrch() (&lt;a href="https://github.com/yunionio/onecloud/commit/69003930952ec3c19c9fb8c8107fbc3512017add">690039309&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>route: prepare for route del (&lt;a href="https://github.com/yunionio/onecloud/commit/a5c253e1293efd017f8d17ff717f8023de8c0599">a5c253e12&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="keystone-3">Keystone (3)&lt;/h3>
&lt;ul>
&lt;li>passwords: SetModelManager (&lt;a href="https://github.com/yunionio/onecloud/commit/f1dfcd5e06b2a046a2e295b00423b0dfe8fd12bf">f1dfcd5e0&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>config: SetModelManager for whitelisted config (&lt;a href="https://github.com/yunionio/onecloud/commit/7d47ac4dd7d049dfb0075c602c37588d301c6474">7d47ac4dd&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>fix db not sync (&lt;a href="https://github.com/yunionio/onecloud/commit/9a6065fbf2ed8b3c26cd5ca375ceddb5198e5b3a">9a6065fbf&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="lb-4">Lb (4)&lt;/h3>
&lt;ul>
&lt;li>include cluster name info in details (&lt;a href="https://github.com/yunionio/onecloud/commit/5f49670e1861c56adc58a5a89337be2891039879">5f49670e1&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>onecloud: allow empty string for redirect_{scheme,host,path} (&lt;a href="https://github.com/yunionio/onecloud/commit/3fe10a738330d6a52c84298cade63ebfd86c6e63">3fe10a738&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>onecloud: disallow creating lb with vpc network (&lt;a href="https://github.com/yunionio/onecloud/commit/ce741a24cd46a6d4b0817dc9505eeb4fdcd73a4a">ce741a24c&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>allow update cluster_id with PUT request (&lt;a href="https://github.com/yunionio/onecloud/commit/5395210873832e73fdee2c7545da22632993849f">539521087&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="lbagent-6">Lbagent (6)&lt;/h3>
&lt;ul>
&lt;li>default-params: default vrrp params from peer lbagents (&lt;a href="https://github.com/yunionio/onecloud/commit/71e9f99b65b445cb6346cebcd473d9b043855bf3">71e9f99b6&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>new API: GET /loadbalanceragents/default-params (&lt;a href="https://github.com/yunionio/onecloud/commit/2b98f75c75c35dbfcbfd0aa4a3af552e9aa02a72">2b98f75c7&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>fix condition for &amp;ldquo;nothing to serve&amp;rdquo; (&lt;a href="https://github.com/yunionio/onecloud/commit/3ae45d55eb6434c10c5b73b339274e58b7da4a78">3ae45d55e&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>standalone rate control between listener and its rules (&lt;a href="https://github.com/yunionio/onecloud/commit/7e2273bfbf61ae3e8c1a2a496ab4d9a3b66ff552">7e2273bfb&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>decouple rule redirect from listener redirect (&lt;a href="https://github.com/yunionio/onecloud/commit/3d58d51abe423809808d7aa562fdd0ac2c79ddef">3d58d51ab&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>fend off unexpected resources just in case (&lt;a href="https://github.com/yunionio/onecloud/commit/7f982d5b29f694e3ce90ff661494867d82ede3fb">7f982d5b2&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="lbagents-2">Lbagents (2)&lt;/h3>
&lt;ul>
&lt;li>add check on vrrp.advert_int (&lt;a href="https://github.com/yunionio/onecloud/commit/258aba25045c1e79513f335c97ab78a9ceb3acc1">258aba250&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>params: add needsUpdatePeer() and updateBy() methods (&lt;a href="https://github.com/yunionio/onecloud/commit/57e29330be19fa58cb1b38e7de1c6b40cbc5614a">57e29330b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="lbbackend-2">Lbbackend (2)&lt;/h3>
&lt;ul>
&lt;li>kvm: allow adding &amp;lsquo;host&amp;rsquo;,&amp;ldquo;ip&amp;rdquo; backend type (&lt;a href="https://github.com/yunionio/onecloud/commit/b6110fd3a1a86bc93c09ae3d29ee6dae5a18a869">b6110fd3a&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ValidateCreateLoadbalancerBackendData: use httperrors (&lt;a href="https://github.com/yunionio/onecloud/commit/97c5afda57adf00d407ac01c3b26ed08dc696c86">97c5afda5&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="lbbackends-1">Lbbackends (1)&lt;/h3>
&lt;ul>
&lt;li>allow backends of the same region (vs. zone) (&lt;a href="https://github.com/yunionio/onecloud/commit/1dc312303ced40cbbbd707a85cdd15a489066777">1dc312303&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="lblistener-5">Lblistener (5)&lt;/h3>
&lt;ul>
&lt;li>rename filter name certificate{,_id} (&lt;a href="https://github.com/yunionio/onecloud/commit/0f953b8b236b15eff7b69f54f06d64f221a42e30">0f953b8b2&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>allow turning on/off redirect (&lt;a href="https://github.com/yunionio/onecloud/commit/471755103dbe88ec718fd64aa1cf3e02f5082cb6">471755103&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>redirect: try avoid endless redirect (&lt;a href="https://github.com/yunionio/onecloud/commit/d3313eba42e47f2b97a0a5f67a2771f06b504bd2">d3313eba4&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>make scheduler an optional arg on creation (&lt;a href="https://github.com/yunionio/onecloud/commit/473932311b62784f0e3f970bcf40b700fa3d9b9e">473932311&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>fix updating lblistener without backend_group field (&lt;a href="https://github.com/yunionio/onecloud/commit/1224cd819fac238e836b57aae74b3a02b127b13b">1224cd819&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="lblistenerrule-3">Lblistenerrule (3)&lt;/h3>
&lt;ul>
&lt;li>allow turning on/off redirect (&lt;a href="https://github.com/yunionio/onecloud/commit/856310331f949f1a8b5a0d0cb18efde67937ef76">856310331&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>redirect: try avoid endless redirect (&lt;a href="https://github.com/yunionio/onecloud/commit/2cd6c85882f4a917e1d44da3040ebaa7aeb65d1b">2cd6c8588&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>allow creation even for redirect listener (&lt;a href="https://github.com/yunionio/onecloud/commit/d55af7af263a9cad07f3a6f221d090c1beb7af0a">d55af7af2&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="lblisteners-4">Lblisteners (4)&lt;/h3>
&lt;ul>
&lt;li>remove unused acl_name field (&lt;a href="https://github.com/yunionio/onecloud/commit/5833f1a905c03d3ab4debb9b81461fa5065d27d9">5833f1a90&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>list: show acl name (&lt;a href="https://github.com/yunionio/onecloud/commit/04abe448f19abc67d12db066020351e9734f6d8c">04abe448f&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>list: show certificate name (&lt;a href="https://github.com/yunionio/onecloud/commit/ab71f5e6c6a0f51bf223e7d9ec9d3dd863acb630">ab71f5e6c&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>list: filter with certificate ids (&lt;a href="https://github.com/yunionio/onecloud/commit/07ae9c12edb14b58fc8c017e001a53c627dbe9f7">07ae9c12e&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="mcclient-5">Mcclient (5)&lt;/h3>
&lt;ul>
&lt;li>options: loadbalanceragents: yum as the default deploy method (&lt;a href="https://github.com/yunionio/onecloud/commit/5218f8aab3a0121dbc80b1a8529095392ac70d84">5218f8aab&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>lb: allow empty string as arg for &amp;ndash;redirect-{scheme,host,path} (&lt;a href="https://github.com/yunionio/onecloud/commit/00388486092f0c932991b9b13a37fe83be836923">003884860&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>options: lb: arg rename cluster{,_id} (&lt;a href="https://github.com/yunionio/onecloud/commit/b4ce651094e18dc1a22e3cdd1c3323221db65770">b4ce65109&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>options: add EmptyOption (&lt;a href="https://github.com/yunionio/onecloud/commit/d4416f614f7425dfe4336db6e7ff8d9049636b84">d4416f614&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>options: remove implied details=true for pending_delete=all (&lt;a href="https://github.com/yunionio/onecloud/commit/9a47116a1d41077329940916dafa5110af8549b7">9a47116a1&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="monitor-2">Monitor (2)&lt;/h3>
&lt;ul>
&lt;li>reduce subscription mysql usage (&lt;a href="https://github.com/yunionio/onecloud/commit/de889ec6cc714e17633d1900df13a66e87c6cdb4">de889ec6c&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>refactor suggest code (&lt;a href="https://github.com/yunionio/onecloud/commit/995e5859ef5ff2d1d49dbf4431ce11be9cdacbb1">995e5859e&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="multicloud-4">Multicloud (4)&lt;/h3>
&lt;ul>
&lt;li>speed up objectstore test (&lt;a href="https://github.com/yunionio/onecloud/commit/d4f54af5adeb903c1345045d54ca111b227be511">d4f54af5a&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>huawei: rework responses_test (&lt;a href="https://github.com/yunionio/onecloud/commit/02083140759c62584207bd26032c18f01b3167f4">020831407&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>loader: guard against changing proxyFunc of default client (&lt;a href="https://github.com/yunionio/onecloud/commit/e711ae7648571b74b30bb03d2d14eb5bdb66fd10">e711ae764&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>avoid changing transport of global default http client (&lt;a href="https://github.com/yunionio/onecloud/commit/fd3c9e5cd810fdc2487566d872ab0028e4f1fcab">fd3c9e5cd&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="networks-7">Networks (7)&lt;/h3>
&lt;ul>
&lt;li>validate that start, end, gateway ip are in the same subnet (&lt;a href="https://github.com/yunionio/onecloud/commit/0280b6aa5ee3b9dece702f26ce54e43e380be8f9">0280b6aa5&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>validateUpdateData: eliminate intermediate vars (&lt;a href="https://github.com/yunionio/onecloud/commit/f4a001ad65d33389b748ba4741b681ba4d899a29">f4a001ad6&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>decrease indent (&lt;a href="https://github.com/yunionio/onecloud/commit/927cbd4156861b12b1ee99de5d37a57bfddbbd64">927cbd415&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>sep check of masklen only for start,end type creation (&lt;a href="https://github.com/yunionio/onecloud/commit/f27e1772748d16eec7b0589c99d5454e213da24b">f27e17727&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>create eip network only in default vpc (&lt;a href="https://github.com/yunionio/onecloud/commit/7720380244bf0ecd42e7a45769c27fc61c92d580">772038024&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>return HTTP 404 for sql.ErrNoRows (&lt;a href="https://github.com/yunionio/onecloud/commit/72c23e8776e5b91042dd6aab671238a086a3bedc">72c23e877&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>eliminate a variable (&lt;a href="https://github.com/yunionio/onecloud/commit/1d78510faba169808a3c7b67b09512b9646ed5fb">1d78510fa&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="opslog-4">Opslog (4)&lt;/h3>
&lt;ul>
&lt;li>remove unneeded nil check (&lt;a href="https://github.com/yunionio/onecloud/commit/4bbf7c048457b73e0b1311e69aeb898f91eae67f">4bbf7c048&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>group literal fields (&lt;a href="https://github.com/yunionio/onecloud/commit/50449ca014c6c4d252cc833290eedb45ef9061df">50449ca01&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>readability change (&lt;a href="https://github.com/yunionio/onecloud/commit/fbc48c792bad7a053b862d809630b36a8a6340af">fbc48c792&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>LogEvent: set model manager (&lt;a href="https://github.com/yunionio/onecloud/commit/be46546ba5be8a9b21b3145860c59c6e716a23f7">be46546ba&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="opt-1">Opt (1)&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>scheduler:&lt;/strong> better sort for hosts when selectHost (&lt;a href="https://github.com/yunionio/onecloud/commit/49b0a01b08dd083e154ae145a542a48bfe78fd3a">49b0a01b0&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="optimized-1">Optimized (1)&lt;/h3>
&lt;ul>
&lt;li>支持ip和端口过滤安全组 (&lt;a href="https://github.com/yunionio/onecloud/commit/f12192f1c4fb806c4cec4d2d5e146db34bbe0e9f">f12192f1c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-199">Others (199)&lt;/h3>
&lt;ul>
&lt;li>update apis generate model (&lt;a href="https://github.com/yunionio/onecloud/commit/042cd597f63a7684d3054afce642859951c122f7">042cd597f&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix reauth condition on influxdb not found (&lt;a href="https://github.com/yunionio/onecloud/issues/7457">#7457&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/8172a551bb5ce2ecc9ffb81a8d2180837b8064ab">8172a551b&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix cache non lvm disks (&lt;a href="https://github.com/yunionio/onecloud/issues/7460">#7460&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/381a2796ba7e96f48e9706b72c8473bbb47fc6cf">381a2796b&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>aws elb listener&amp;amp;rule name too long fix (&lt;a href="https://github.com/yunionio/onecloud/commit/38e02db07f36e70a1bff6732bc46b0894ca41927">38e02db07&lt;/a>, &lt;a href="mailto:tangbin@yunionyun.com">tangbin&lt;/a>)&lt;/li>
&lt;li>fix redis reset account password action log (&lt;a href="https://github.com/yunionio/onecloud/commit/bb500edc8181d13567d13ff702e57554bf3d01dd">bb500edc8&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>loadblancer listener modify name fix (&lt;a href="https://github.com/yunionio/onecloud/commit/d9488f552e9f2be019aa5999498621b339aae295">d9488f552&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix deploy admin auth key (&lt;a href="https://github.com/yunionio/onecloud/commit/7ad7774f800a96c186882e1b1a0fd87e3955cca6">7ad7774f8&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix panic on storage failed get host (&lt;a href="https://github.com/yunionio/onecloud/issues/7391">#7391&lt;/a>) (&lt;a href="https://github.com/yunionio/onecloud/commit/a2d562ccaac5e27f91dcf4e46c31958d7d871d87">a2d562cca&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>adjust schedule resource condition width (&lt;a href="https://github.com/yunionio/onecloud/commit/7103f4e71669e731e481c9b689c3cd1795f1f5fd">7103f4e71&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix schedtag list output (&lt;a href="https://github.com/yunionio/onecloud/commit/2ac39e704a1057213f5f09909801888856b05768">2ac39e704&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>Add metadata for GuestTempalte details (&lt;a href="https://github.com/yunionio/onecloud/commit/a66ba3f39101687b7c6909d4cc8e94c800cff1ec">a66ba3f39&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Add network info when list scalingGroup details (&lt;a href="https://github.com/yunionio/onecloud/commit/02b30326fd22fbbf1dc4a01dfbe0972945c8531e">02b30326f&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>修改报警消息模版： (&lt;a href="https://github.com/yunionio/onecloud/commit/6193221764d9668de4bfd549a1583b42ee3b025e">619322176&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>修复统一报警bug (&lt;a href="https://github.com/yunionio/onecloud/commit/bb66e2d197a1fc0e980d93b424994dfbfaf2f13d">bb66e2d19&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>go fmt (&lt;a href="https://github.com/yunionio/onecloud/commit/92fbc44b6d06e98edd898889056f9f2adcf21d0e">92fbc44b6&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>go fmt (&lt;a href="https://github.com/yunionio/onecloud/commit/d93edbe4271f942a125143348eb072bbe36a98fc">d93edbe42&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>host upload template check (&lt;a href="https://github.com/yunionio/onecloud/commit/a4d89b1f6c463f8ed5e9932e2acbb1ee81932cbd">a4d89b1f6&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>huawei fetch regions&amp;amp;projects fix (&lt;a href="https://github.com/yunionio/onecloud/commit/5255df021eb251a6a2d24a1da537466429ce8eb2">5255df021&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>rename vgname centos (&lt;a href="https://github.com/yunionio/onecloud/commit/7ef340fb6819eae613d9295f9c989f060df8af49">7ef340fb6&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix clone clean pending usage (&lt;a href="https://github.com/yunionio/onecloud/commit/a329cd536b7f18a11d451e990ba5787691ad8149">a329cd536&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>capabilites add available host count (&lt;a href="https://github.com/yunionio/onecloud/commit/32b36ee10ec72b244157cfcbc1c5a7c49f277db0">32b36ee10&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix snapshot clean pending usage (&lt;a href="https://github.com/yunionio/onecloud/commit/2c27db42c2ff0df6134cbb0300562b70a1865ea2">2c27db42c&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>
&lt;ul>
&lt;li>add precheck for perform action (&lt;a href="https://github.com/yunionio/onecloud/commit/ec933e4805bae17abf5127afc4f057edccdf1009">ec933e480&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>format fix (&lt;a href="https://github.com/yunionio/onecloud/commit/2ff5d2aaf4ed9afdac986f5b7760fd0cad127cc7">2ff5d2aaf&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix empty else (&lt;a href="https://github.com/yunionio/onecloud/commit/b5aceb67f973238145deda4886e1b6a7386dd8bb">b5aceb67f&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix host import (&lt;a href="https://github.com/yunionio/onecloud/commit/2794c84ac007b88fc4b2887335a31f10b4dfbf28">2794c84ac&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix huawei delete resource (&lt;a href="https://github.com/yunionio/onecloud/commit/ce9646f9e90527b3765212edb4ca0e3a9f9a99c8">ce9646f9e&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix huawei elb disable healthcheck (&lt;a href="https://github.com/yunionio/onecloud/commit/be8da39ce1266c26ecb101cdf38de734840797d5">be8da39ce&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>lb sync project fix (&lt;a href="https://github.com/yunionio/onecloud/commit/dacc8adce11b638bf327170919c631ceb306f776">dacc8adce&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>add more log (&lt;a href="https://github.com/yunionio/onecloud/commit/b79c410b0e38f814c95ab241ed0208afb11c950d">b79c410b0&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>apigateway host imports data validate (&lt;a href="https://github.com/yunionio/onecloud/commit/b5754d2e3dfca9b57504af05453e63fd6845d994">b5754d2e3&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix GetOrCreateVpcForClassicNetwork (&lt;a href="https://github.com/yunionio/onecloud/commit/f9c42211255781674f07fb01b13102def0df62d8">f9c422112&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>huawei eip delete fix (&lt;a href="https://github.com/yunionio/onecloud/commit/fdcaa1c8e7ae8dca4ea0f95bcb83acad08cfbf9c">fdcaa1c8e&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>修复监控报警规则删除的问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/c65fc0f1dcfe9fe018d4a44cd0a0fee4cd8b9855">c65fc0f1d&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix error output (&lt;a href="https://github.com/yunionio/onecloud/commit/18bae18498f60b0b7ff4b0c61d70da46fc885e62">18bae1849&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>acl delete condition fix (&lt;a href="https://github.com/yunionio/onecloud/commit/3e5eceeefa364499efc9c0ef5d7355e6d476d13e">3e5eceeef&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix server sync status (&lt;a href="https://github.com/yunionio/onecloud/commit/0e617ec1370277d3d3a84fee569e451202c9db2c">0e617ec13&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>sync classic redis fix (&lt;a href="https://github.com/yunionio/onecloud/commit/30aa75e047434e7727d701c0c5252cd5ea4272dd">30aa75e04&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>add params auto_migrate_on_host_down (&lt;a href="https://github.com/yunionio/onecloud/commit/b806e536f1940eca423f9f0767b698eb6d1068d7">b806e536f&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>misc ha guest fix (&lt;a href="https://github.com/yunionio/onecloud/commit/65408519aec535e71930c8a3a72db91e74597169">65408519a&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>disable procutils print error info (&lt;a href="https://github.com/yunionio/onecloud/commit/4831aee2dc746004832757ae3264c5cead25cac5">4831aee2d&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix list guests on host (&lt;a href="https://github.com/yunionio/onecloud/commit/f09eb6690d0733de010f2bd45a1e5f6b52611266">f09eb6690&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>cloudprovider usable filter with zone (&lt;a href="https://github.com/yunionio/onecloud/commit/26757cb8d836ef586c6d8b36b19f251451eb5d3d">26757cb8d&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix guest template health check (&lt;a href="https://github.com/yunionio/onecloud/commit/550883197f7bf9f3e0050a9e428d92121e54865c">550883197&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>remove informer code for release/3.3 (&lt;a href="https://github.com/yunionio/onecloud/commit/a365a0f45941e8419c0c2f9302a16c92989c1010">a365a0f45&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>user batch register bugfix (&lt;a href="https://github.com/yunionio/onecloud/commit/b52eb8491c2e373c9e658aecc4098c34d10a85b3">b52eb8491&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>vendor update: update jsonutils (&lt;a href="https://github.com/yunionio/onecloud/commit/d335c570c62ceb2b4abd346d0706d687c88db3ef">d335c570c&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>
&lt;ul>
&lt;li>fix local storage init local man (&lt;a href="https://github.com/yunionio/onecloud/commit/fe472cbf495a6a2499cac74c9726410a9b7dfc7b">fe472cbf4&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>misc fix (&lt;a href="https://github.com/yunionio/onecloud/commit/5070775cd339d79994b1ef8301a60c71dd2ebcac">5070775cd&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix set storage info bind mount (&lt;a href="https://github.com/yunionio/onecloud/commit/18a023f2fb10961c35127c2f72a4245fad046af9">18a023f2f&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>update vendor (&lt;a href="https://github.com/yunionio/onecloud/commit/13f44debcd42681a36627afcc8f2308e7ed4d5c6">13f44debc&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>Update docker image onecloud-base and its references (&lt;a href="https://github.com/yunionio/onecloud/commit/eb7b055ca2c73ac68c10e2ac4ccd7cd5b3cf29f5">eb7b055ca&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>增加influxdb的tag 的一些filter (&lt;a href="https://github.com/yunionio/onecloud/commit/5db35871eba4e4e3552a3f1e4b7fe5859f546307">5db35871e&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>Update Dockerfile.ansibleserver (&lt;a href="https://github.com/yunionio/onecloud/commit/69a4b1272496b17e1f73c93ae5d156502a888ed8">69a4b1272&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>bind mount nfs storage path (&lt;a href="https://github.com/yunionio/onecloud/commit/5db73a6670f455ad40b1d4270f1d8b62273dc83a">5db73a667&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>cluster_d required-&amp;gt;optional (&lt;a href="https://github.com/yunionio/onecloud/commit/87cf251d2d3e89dd55911d91a453e619eea0feff">87cf251d2&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>copyright api update (&lt;a href="https://github.com/yunionio/onecloud/commit/a3245195abe19d7ba52fc9f3583e9014049d807b">a3245195a&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix the bug introduced in &lt;a href="https://github.com/yunionio/onecloud/issues/6643">#6643&lt;/a> (&lt;a href="https://github.com/yunionio/onecloud/commit/96856848768dbf9235fc956b56edb8bf95dc71bc">968568487&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>update jsonutils (&lt;a href="https://github.com/yunionio/onecloud/commit/b4884e3dde39c50082221b6e9017c56ebf063bc8">b4884e3dd&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>fix deploy backup server order (&lt;a href="https://github.com/yunionio/onecloud/commit/207cd93fe09506d72a11ba25773fc914b9ce0003">207cd93fe&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>
&lt;ul>
&lt;li>add server pending deleted for host details (&lt;a href="https://github.com/yunionio/onecloud/commit/8751082487d621add172ea3b3ff03e87d9fef8de">875108248&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>include system usage (&lt;a href="https://github.com/yunionio/onecloud/commit/89ec83fec39969f0ff5fd603af5e2484296628a7">89ec83fec&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>server name enable upper case (&lt;a href="https://github.com/yunionio/onecloud/commit/6f20638f8b9d49434f0ac20bde898462887f31cc">6f20638f8&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix get storage capabilities with null field (&lt;a href="https://github.com/yunionio/onecloud/commit/615fe1da8b6f2b8bbe907ebd058a42a9648482b4">615fe1da8&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>disable dhclient (&lt;a href="https://github.com/yunionio/onecloud/commit/9a6c26de1c61f9b83dc94d4b7273835bb04d1d62">9a6c26de1&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>Modify alert structure and inherit scoperesource (&lt;a href="https://github.com/yunionio/onecloud/commit/f20a87a5db558c32d723e51c4e4b7534a3a36e49">f20a87a5d&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>统一报警模块 (&lt;a href="https://github.com/yunionio/onecloud/commit/6c66185bd8f466c405c1f2c8782aa4f5a88ce68b">6c66185bd&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>ignore common etcd endpoint not found error (&lt;a href="https://github.com/yunionio/onecloud/commit/e9da1022b957a3f1f26a0fd8cdf2153e44aa68e7">e9da1022b&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>support filter by cloudaccounts (&lt;a href="https://github.com/yunionio/onecloud/commit/561d7b0ccaff6f497c791464890fd2e3084be3ba">561d7b0cc&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix reserved ip export keys (&lt;a href="https://github.com/yunionio/onecloud/commit/6af753c819ee50dfd4b29cb516b2ee1d4ccc82c2">6af753c81&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>replace err with errors.cause (&lt;a href="https://github.com/yunionio/onecloud/commit/6b8e37c88f9abbb15af5b97af1ee5f6f57d717c8">6b8e37c88&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>shuzhou to suzhou (&lt;a href="https://github.com/yunionio/onecloud/commit/8514e1910282b30e7845d5f7dc732d00ef6b0723">8514e1910&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>rds postpaid instance create fix (&lt;a href="https://github.com/yunionio/onecloud/commit/6ecebc5f2bc2c66af6a694596a7c6676bbb7345b">6ecebc5f2&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix cpu usage metrics (&lt;a href="https://github.com/yunionio/onecloud/commit/25310ed92265d58759443f3516572bee8a6c89c1">25310ed92&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>configureable reload telegraf config (&lt;a href="https://github.com/yunionio/onecloud/commit/714b87aa3974dc4a883d7ce0c665025b57b6f8e4">714b87aa3&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>scripts/coverage.sh: ignore packages without test files (&lt;a href="https://github.com/yunionio/onecloud/commit/200029dfd2596ef35b3ff0fbefe1350ae04586f6">200029dfd&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>.circleci: run tests parallelly (&lt;a href="https://github.com/yunionio/onecloud/commit/bf1b1f48b0ef496fc38e8a4edb9fd92ab8ba8433">bf1b1f48b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>fix windows install regedit record (&lt;a href="https://github.com/yunionio/onecloud/commit/9372a7b9c49a5594556f406d15985f3c5d26445b">9372a7b9c&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix host set reserved resource func name (&lt;a href="https://github.com/yunionio/onecloud/commit/413d292c22c8695415eca96ebb2aa59672388b96">413d292c2&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix informer worker heap large usage (&lt;a href="https://github.com/yunionio/onecloud/commit/cc5f731fc3cb74cf6485457248ac476ddb56f96b">cc5f731fc&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix the tag filter and result record for scheduledtask (&lt;a href="https://github.com/yunionio/onecloud/commit/5f2a91f2af50a2fae90678ef8be9061001f860ea">5f2a91f2a&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>fix host list servers filter (&lt;a href="https://github.com/yunionio/onecloud/commit/1b055f24a9d92d44bb82be22726959a33c26894f">1b055f24a&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>Add &amp;lsquo;trigger&amp;rsquo; for ScheduledTask (&lt;a href="https://github.com/yunionio/onecloud/commit/8a69558c86f80647b487a2062a62de6200ecf9a4">8a69558c8&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>refactor ITableSpec signature with context (&lt;a href="https://github.com/yunionio/onecloud/commit/9f4d4a450eaf93173074e3def70f503e61bc84d8">9f4d4a450&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>image support generate name (&lt;a href="https://github.com/yunionio/onecloud/commit/a3043520ecd52c829b75ebd1019da9b7f326aa9d">a3043520e&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>修改框架查询influxdb的时间单位 (&lt;a href="https://github.com/yunionio/onecloud/commit/86e687015f02b4095b33d28817645a0fc95b2b5c">86e687015&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>climc:allow disable term line width (&lt;a href="https://github.com/yunionio/onecloud/commit/0a0af5cfa2e3fa4e33af152abcd0f0dd5b5eab69">0a0af5cfa&lt;/a>, &lt;a href="mailto:root@lyy-allinone.office.yunion.io">root&lt;/a>)&lt;/li>
&lt;li>cancel condition release (&lt;a href="https://github.com/yunionio/onecloud/commit/7e957504082cf46524c93964f134edacbaaf0fc1">7e9575040&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>ctyun sync host wire fix (&lt;a href="https://github.com/yunionio/onecloud/commit/f58a9305e5a9b6c3908a3b91cf284c1c44b6d2ae">f58a9305e&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>bind mount local image path to container path (&lt;a href="https://github.com/yunionio/onecloud/commit/8e4668213e154dfa5189bcc195ba022c51fa1210">8e4668213&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>isolated device manager: (&lt;a href="https://github.com/yunionio/onecloud/commit/44cbdd07a3893eff11d4764490c1e5693b31e8b0">44cbdd07a&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>add-enterprise-info-update-climc (&lt;a href="https://github.com/yunionio/onecloud/commit/bb808bd8aa3aa4018ac35ac7b0d0bc7e99233b79">bb808bd8a&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>监控数据查询增加对任意时间范围的支持 (&lt;a href="https://github.com/yunionio/onecloud/commit/ecd4a9407984dae848879273e2ccc4d763fcdf1e">ecd4a9407&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>统一监控接口 (&lt;a href="https://github.com/yunionio/onecloud/commit/3f63e4737a83f53d49470d837fb761e2634ee4fe">3f63e4737&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>get snapshots order by created at asc (&lt;a href="https://github.com/yunionio/onecloud/commit/6e0f4a4947c3b9c9ced9e2946ba065eeba1c8b28">6e0f4a494&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>implement generic service informer (&lt;a href="https://github.com/yunionio/onecloud/commit/95a58cc606373bfe532ff6601139df2e0f11f1fa">95a58cc60&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>在优化建议资源列表中增加费用信息 (&lt;a href="https://github.com/yunionio/onecloud/commit/585385f0cbdef5fc18896364a4da214fa8519242">585385f0c&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix migrate with multi local storage (&lt;a href="https://github.com/yunionio/onecloud/commit/4d404e09d051f950c2fc407683bfb858f7e0764a">4d404e09d&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>redis&amp;amp;rds add postpaid duration (&lt;a href="https://github.com/yunionio/onecloud/commit/346d55850584f8e10278f0ad369f123f7dbd80f9">346d55850&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>declear variable and define (&lt;a href="https://github.com/yunionio/onecloud/commit/8fde0c62a4db4ce2af81b7a18efa60b42791f09e">8fde0c62a&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>修复优化建议资源列表cloudenv过滤失效的问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/00fb77e0c03502630625b8acf096216e13cb217a">00fb77e0c&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>类型是onecloud的notifier增加webconsole的alert (&lt;a href="https://github.com/yunionio/onecloud/commit/0a7b381cf620835daf22a43249e61e3f167b12b0">0a7b381cf&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>clean network scripts on init (&lt;a href="https://github.com/yunionio/onecloud/commit/73297de60cf4fd804b2d26bacc4760362ce282f3">73297de60&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>host storage misc fix: (&lt;a href="https://github.com/yunionio/onecloud/commit/690a5f2fcae4b31e3ad3de71a6cff2bf5707b13e">690a5f2fc&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>.circleci: run with parallel level 3 (&lt;a href="https://github.com/yunionio/onecloud/commit/e80c938badb9074ee1eed96424df1a99be8f05eb">e80c938ba&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>fix host name validator (&lt;a href="https://github.com/yunionio/onecloud/commit/ec2cb3113b3c1b7e891cef1e889649ead73b6102">ec2cb3113&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix remotefile fetch image propertites (&lt;a href="https://github.com/yunionio/onecloud/commit/810de8a7eaa18f6ca4b31624e2a17e1d31b75201">810de8a7e&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>isolated device add attribute reserved resource (&lt;a href="https://github.com/yunionio/onecloud/commit/91ff1d7d8439a5f8776d84c16aaa9ae0b0eb86b7">91ff1d7d8&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>zstack宿主机监控中增加参数信息进行Unmarshal (&lt;a href="https://github.com/yunionio/onecloud/commit/47cac3c7bec3e353471c43294d497fa0fc46ce1b">47cac3c7b&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>update for doc-gen (&lt;a href="https://github.com/yunionio/onecloud/commit/8a77030823e732f5dac76038656d008ab6cadb4c">8a7703082&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>Fix the problem of field duplication when exporting fields (&lt;a href="https://github.com/yunionio/onecloud/commit/849628fe9105db254458bb257789c06517de6360">849628fe9&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>aws lbbg cache bugfix (&lt;a href="https://github.com/yunionio/onecloud/commit/d99ec577104d3ae001e0f9e5b2e8a9f1dee76e9b">d99ec5771&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>fix list disk attachable servers (&lt;a href="https://github.com/yunionio/onecloud/commit/df2e05b5b6ed09caebfccc91c7d4af05863ea3a3">df2e05b5b&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>bugfix-优化建议 (&lt;a href="https://github.com/yunionio/onecloud/commit/c8a0d77364df6745252015e60f1dd4f3c2ec2296">c8a0d7736&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>优化建议增加时间筛选范围 (&lt;a href="https://github.com/yunionio/onecloud/commit/42ed0b1c5a1e58e6475df19801dc8774acab26af">42ed0b1c5&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>修复当prestate=alerting，newstate=alerting的情况无法触发notify的问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/4a784c1d7f0f87669b4fd71ae2e66ec6c851270c">4a784c1d7&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>Kill processes in time &amp;amp; Add debug info (&lt;a href="https://github.com/yunionio/onecloud/commit/ff2fc744012f25cfde529cab7b60db346b0ff76e">ff2fc7440&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>image cache use lockman (&lt;a href="https://github.com/yunionio/onecloud/commit/127bd0ff1783aaae2a03b1cc4ac7329335c02993">127bd0ff1&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>add sys usage (&lt;a href="https://github.com/yunionio/onecloud/commit/844b865e2eb49aac366975250bff066adc8ff25e">844b865e2&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>README.md: use travis-ci.com as badge target link (&lt;a href="https://github.com/yunionio/onecloud/commit/ea373821d2d8eddf8669d4b31e59436f96522f39">ea373821d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>redis&amp;amp;dbinstance add clean expired postpaids resources (&lt;a href="https://github.com/yunionio/onecloud/commit/0029b25f9a7460e7641eca6aab9d68c65e597171">0029b25f9&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>host convert inject dockerd config (&lt;a href="https://github.com/yunionio/onecloud/commit/04b4e5713ecc8a4716caaac76e6d3786f3ddb963">04b4e5713&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>add fuzzy ip matching (&lt;a href="https://github.com/yunionio/onecloud/commit/f602979a23196042fd25dd4438ff7a5033ef33a2">f602979a2&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>sync storage shared info when syncing local storage (&lt;a href="https://github.com/yunionio/onecloud/commit/14abf05cf40cf0ee9e5a9df3c1b879749fad90b7">14abf05cf&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>update lisDescendent scope params (&lt;a href="https://github.com/yunionio/onecloud/commit/6037f15145229ab1357152d4d1c2c50f975ef2e4">6037f1514&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>根据调度标签过滤网络和存储资源 (&lt;a href="https://github.com/yunionio/onecloud/commit/888a5463abfa7619830b30ebc9bf61d981914f01">888a5463a&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>可根据代理过滤云账号 (&lt;a href="https://github.com/yunionio/onecloud/commit/6ea25e6fcc1aad62ac3c2bc703e6b7dd70839567">6ea25e6fc&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>修复无法获取vmware宿主机监控数据的问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/6ffb3653ae9e2010bbdb06d5521573a8e78b2fb5">6ffb3653a&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>update vendor (&lt;a href="https://github.com/yunionio/onecloud/commit/d98b2b40534f7afed7504cc286bd6d5efb6f9b40">d98b2b405&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>modify the logic of queryCondition save the evalMatch (&lt;a href="https://github.com/yunionio/onecloud/commit/387880164c0c5ddea57932b7a3c1f71af6c0ff61">387880164&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>allow delete paramter config (&lt;a href="https://github.com/yunionio/onecloud/commit/cbe5e88907ae425e806de90cc511b818bb13b6d4">cbe5e8890&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>修改规则执行时间 (&lt;a href="https://github.com/yunionio/onecloud/commit/e8a61b0352ea777fbdfc77e73cfaef05c2bab53f">e8a61b035&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix esxi disk disconnect (&lt;a href="https://github.com/yunionio/onecloud/commit/a5d2651fbf7df53235e555e301f5f0a936fb7361">a5d2651fb&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>remove statefile in start script (&lt;a href="https://github.com/yunionio/onecloud/commit/0fe396d5c14fcf25863aaff828e2fbb2721a70fc">0fe396d5c&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>clear yunionauth cookie (&lt;a href="https://github.com/yunionio/onecloud/commit/75328cf0819f767d33e93ca2b86d6ddfe92ceadd">75328cf08&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>基于监控数据的优化建议 (&lt;a href="https://github.com/yunionio/onecloud/commit/cc3f5ed19661ab16ab18ac499ea792d4cecc88d8">cc3f5ed19&lt;/a>, &lt;a href="mailto:zhaoxiangchun@yunion.cn">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>在monitor的package中新增influxdb相关的功能 (&lt;a href="https://github.com/yunionio/onecloud/commit/6251d2da3f161692a503be8fd083042a8fa41b31">6251d2da3&lt;/a>, &lt;a href="mailto:zhaoxiangchun@yunion.cn">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>do not close worker chan (&lt;a href="https://github.com/yunionio/onecloud/commit/7bcedd41e8ed3993b3b5ca9345dee289ff25b0f2">7bcedd41e&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>detect bmagent and hostagent service (&lt;a href="https://github.com/yunionio/onecloud/commit/108613bd3225b08749be93e311b812199cbb46ee">108613bd3&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>guest set login account (&lt;a href="https://github.com/yunionio/onecloud/commit/8144d2d2fbd6da0f645b6e6b361a887a1278e07e">8144d2d2f&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix import from libvirt (&lt;a href="https://github.com/yunionio/onecloud/commit/1ba2d92e660d1d7ad1286460f7f5a1247079319c">1ba2d92e6&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>huawei network id fix (&lt;a href="https://github.com/yunionio/onecloud/commit/002a618e7938a8a356e47a9c5bc7b77db2d84139">002a618e7&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>new local lb backend fix (&lt;a href="https://github.com/yunionio/onecloud/commit/8c06b50ed903fe4e61e9a0bbe0ccc5c344faddc6">8c06b50ed&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>feat/ansibleserver: Install git in Dockerfile.ansibleserver-base (&lt;a href="https://github.com/yunionio/onecloud/commit/1fbfc7f22062aee36c576c15334dc6dee673d175">1fbfc7f22&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>feat/ansible_pb: Add climc operator for ansibleplaybooks_v2 (&lt;a href="https://github.com/yunionio/onecloud/commit/cf514364eb44402acd23259b464e3e1646c1c9cb">cf514364e&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>feat/ansible_pb: Add IncludeRole implments &amp;lsquo;ITask&amp;rsquo; in pkg/util/ansiblev2 (&lt;a href="https://github.com/yunionio/onecloud/commit/faf32415fa2559abd736bb160aa0956b29d75770">faf32415f&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>lb acl cache add acl filter (&lt;a href="https://github.com/yunionio/onecloud/commit/4882a6bb2be95da7e36891263a2ebf19c3a23459">4882a6bb2&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>bm register use domain token (&lt;a href="https://github.com/yunionio/onecloud/commit/4f23ffb901b561f2a8eb1d115ea607d21ff25952">4f23ffb90&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>set cookie domain (&lt;a href="https://github.com/yunionio/onecloud/commit/f25bbee903646a4fd1a91f4754148acda93ab3b1">f25bbee90&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>feat/ansible_pb: Add support for requirements (&lt;a href="https://github.com/yunionio/onecloud/commit/331ba9bb37045453c170cf013f740434f6cd41a7">331ba9bb3&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>修复规则无法禁用的问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/cb13b2241c022c5de3bd5f9d3158b545082f6d22">cb13b2241&lt;/a>, &lt;a href="mailto:zhaoxiangchun@yunion.cn">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>bugfix mem paginate (&lt;a href="https://github.com/yunionio/onecloud/commit/d874b52b0c96c92ce2310724f2e7026a115cb57a">d874b52b0&lt;/a>, &lt;a href="mailto:zhaoxiangchun@yunion.cn">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>set host list scope system (&lt;a href="https://github.com/yunionio/onecloud/commit/6779db23f3ed3c8a7c38752fc2dfff1e7d569c9b">6779db23f&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>apigateway-yunionauth-domain-setting (&lt;a href="https://github.com/yunionio/onecloud/commit/4e9264cb22ce84fda386743855a7c2cb283fc18d">4e9264cb2&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>修复谷歌监控无法获取的问题 (&lt;a href="https://github.com/yunionio/onecloud/commit/d4531972dd4da59c1057a47464cb6888f8efebf6">d4531972d&lt;/a>, &lt;a href="mailto:zhaoxiangchun@yunion.cn">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>support custom service url (&lt;a href="https://github.com/yunionio/onecloud/commit/26780e2c8bfbed91733f6b2447f293a5a89e7f4e">26780e2c8&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>bugfix mem paginate (&lt;a href="https://github.com/yunionio/onecloud/commit/7c0d7041483930e092a4ed7bd1fa954486736db6">7c0d70414&lt;/a>, &lt;a href="mailto:zhaoxiangchun@yunion.cn">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix host init without etcd (&lt;a href="https://github.com/yunionio/onecloud/commit/9652c97dce2f724107ec03244b22c022b9bb895c">9652c97dc&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix host details output (&lt;a href="https://github.com/yunionio/onecloud/commit/db2d02fe00c5953ede1dfcb58a402a5a5246b32f">db2d02fe0&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix update input (&lt;a href="https://github.com/yunionio/onecloud/commit/7353622d238b84441996ad490f17af61a6910fcf">7353622d2&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix host health (&lt;a href="https://github.com/yunionio/onecloud/commit/d7272489292550f39f9a5f36b3a31ac6e239d0f4">d72724892&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix/monitor: AutoScalingNotifier.ShouldNotify should call NotifierBase.ShouldNotify (&lt;a href="https://github.com/yunionio/onecloud/commit/e67effaf3f23f9d237e7ab7d7786aea40b0ff9d1">e67effaf3&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>add cookie domain setting option (&lt;a href="https://github.com/yunionio/onecloud/commit/849d1d66991649ec39127128b7b1e5f8e5f51fdf">849d1d669&lt;/a>, &lt;a href="mailto:tangbin@yunion.io">tangbin&lt;/a>)&lt;/li>
&lt;li>monitor,对于监控数据nodata，默认不发送邮件 (&lt;a href="https://github.com/yunionio/onecloud/commit/e81334c0a71cb01ee697a5d4576ee70b5ed74e7b">e81334c0a&lt;/a>, &lt;a href="mailto:zhaoxiangchun@yunion.cn">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix/as: Set ScalingPolicy&amp;rsquo;s project as its ScalingGroup&amp;rsquo;s project (&lt;a href="https://github.com/yunionio/onecloud/commit/352e912c29253f9334b4dc146d38fe1cbf8f7da4">352e912c2&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>enable etcd lock (&lt;a href="https://github.com/yunionio/onecloud/commit/5158a509ee10f2bfbd939032d8706adaca659a7e">5158a509e&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>host health check (&lt;a href="https://github.com/yunionio/onecloud/commit/38c1c70a27c2d1de0fba6b2f78455a9edf250956">38c1c70a2&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>gpu host enable huge page (&lt;a href="https://github.com/yunionio/onecloud/commit/98377116f36bef14302d45075aed91ebcbaa7e8f">98377116f&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix/autoscaling: Chang the format of CoolingTime (&lt;a href="https://github.com/yunionio/onecloud/commit/be5c539e94c34fff4651d2c107336ce535be92ae">be5c539e9&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>fix exsi convert disk path (&lt;a href="https://github.com/yunionio/onecloud/commit/9c4d3c62b392f0bd108be6202f7d1a1a19b0ba5f">9c4d3c62b&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix/notify: remove &amp;lsquo;v2&amp;rsquo; from email verify url (&lt;a href="https://github.com/yunionio/onecloud/commit/9aa132cf37001f983ec8174801a07c8215918a37">9aa132cf3&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>fix/notify: Add deadline for rpc client (&lt;a href="https://github.com/yunionio/onecloud/commit/e1c63729d9d0bcb51a211b505397824826233a35">e1c63729d&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>host health check (&lt;a href="https://github.com/yunionio/onecloud/commit/af6c6fee88ea936ae51d453191a7e202febb9d46">af6c6fee8&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>yunionapi reset password fix (&lt;a href="https://github.com/yunionio/onecloud/commit/32e4ae98ca80f0d6b5a2e9ddf92eab64fb40bf87">32e4ae98c&lt;/a>, &lt;a href="mailto:tangbin@yunion.io">tangbin&lt;/a>)&lt;/li>
&lt;li>fix/autoscaling: Change Sunday as 7 from 0 (&lt;a href="https://github.com/yunionio/onecloud/commit/09d7aaf3924fa7c8d40ce37cb71f2b657b7ac621">09d7aaf39&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>fix/guesttemplate: Change ResetPassword as true default (&lt;a href="https://github.com/yunionio/onecloud/commit/203bdb2dfb24f481fb07e146418efea2d150a5f6">203bdb2df&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>fix/autoscaling: fix some problem (&lt;a href="https://github.com/yunionio/onecloud/commit/4d8e0ba1b4cf98303c2beb94de151471efb0148b">4d8e0ba1b&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>host fix cmt bound, minor fix (&lt;a href="https://github.com/yunionio/onecloud/commit/b05d22834ffbfd8bbb9b76ecc25a356300fabd42">b05d22834&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>aws elb health check type fix (&lt;a href="https://github.com/yunionio/onecloud/commit/7b6f45789b62ec06af4bf43cdd0ed6a97053a780">7b6f45789&lt;/a>, &lt;a href="mailto:tangbin@yunion.io">tangbin&lt;/a>)&lt;/li>
&lt;li>huawei elb cookie timeout fix (&lt;a href="https://github.com/yunionio/onecloud/commit/b62727ae05bca7612761f85644bb3988cad328a6">b62727ae0&lt;/a>, &lt;a href="mailto:tangbin@yunion.io">tangbin&lt;/a>)&lt;/li>
&lt;li>ctyun subnet create bugfix (&lt;a href="https://github.com/yunionio/onecloud/commit/8618be1fd23dcc24ef48c350df1a36995355a967">8618be1fd&lt;/a>, &lt;a href="mailto:tangbin@yunion.io">tangbin&lt;/a>)&lt;/li>
&lt;li>misc bugfix: (&lt;a href="https://github.com/yunionio/onecloud/commit/9a7c7623cd86d0ea63e06ca23f5b48ed623de565">9a7c7623c&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>make DIRECT proxysettting default share to system (&lt;a href="https://github.com/yunionio/onecloud/commit/6faa4d91a1a92d2be2469376695166c178a8f85c">6faa4d91a&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>lb 负载均衡优化建议 (&lt;a href="https://github.com/yunionio/onecloud/commit/fc05c2d0e929b27799565f3b6413020ed14e85b8">fc05c2d0e&lt;/a>, &lt;a href="mailto:zhaoxiangchun@yunion.cn">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix/autoscaling: Add &amp;lsquo;scaling_group_id&amp;rsquo; for server-list result (&lt;a href="https://github.com/yunionio/onecloud/commit/16226becf7143c7d700acfb3d1dbd6a1f2962271">16226becf&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>fix/autoscaling: Add status &amp;lsquo;pending_remove&amp;rsquo; for ScalingGroup_Guest (&lt;a href="https://github.com/yunionio/onecloud/commit/32280e2145a9e3161291ff235d4925fe5f9cf10c">32280e214&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>guestnetworks,hosts: add alloc mapped ip addr for use in onecloud vpc (&lt;a href="https://github.com/yunionio/onecloud/commit/3142957f5b3daf816bf46a2ba1b98e9ea93d86b6">3142957f5&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>fix/autoscaling: Change ScalingPolicy as VirtualResource (&lt;a href="https://github.com/yunionio/onecloud/commit/39d5603af8baeabbb12555f6570458a634dbcd3c">39d5603af&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>fix/autoscaling: Use UserCred&amp;rsquo;s session but AdminSession to request monitor (&lt;a href="https://github.com/yunionio/onecloud/commit/acb4d1cabebb93c8e3ad67e7ce77c4c6acb77107">acb4d1cab&lt;/a>, &lt;a href="mailto:zhengyu@yunion.cn">Rain&lt;/a>)&lt;/li>
&lt;li>aliyun create elb listener fix (&lt;a href="https://github.com/yunionio/onecloud/commit/a06f7e7b509fe8c2617de1577759a75cdabe3d22">a06f7e7b5&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>supermicro redfish support (&lt;a href="https://github.com/yunionio/onecloud/commit/98cec09a63ef08e327977c933a5e7b4f3336f5ab">98cec09a6&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>fix check ca cert (&lt;a href="https://github.com/yunionio/onecloud/commit/cf0cf484aead9bdcc000860cdb905ee8b2bce645">cf0cf484a&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>support sync disk snapshot status (&lt;a href="https://github.com/yunionio/onecloud/commit/54596fc42980203f545c9256666abdb30ed9237c">54596fc42&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>huawei elb sync vpc (&lt;a href="https://github.com/yunionio/onecloud/commit/bd0a8f709be455e99cf1cda99369ec70859238d0">bd0a8f709&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>remove aws invalid backendgroup (&lt;a href="https://github.com/yunionio/onecloud/commit/674764208cf7e6879f942e6df9b03fa99ff80e6e">674764208&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;li>keystone store service cert (&lt;a href="https://github.com/yunionio/onecloud/commit/b682e1b44e709ac6a82e48c110798c739088fbff">b682e1b44&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>VMware resource pool同步 (&lt;a href="https://github.com/yunionio/onecloud/commit/1ef9a481c3dec0272a45c4d1f8f3cfd1bbcd5fcb">1ef9a481c&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;li>优化邮件格式 (&lt;a href="https://github.com/yunionio/onecloud/commit/6c3daec4ced9fcc90bea541f66b23fc274ac655e">6c3daec4c&lt;/a>, &lt;a href="mailto:zhaoxiangchun@yunion.cn">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>lblis &amp;amp; lbbg &amp;amp; lbr &amp;amp; lbb create add fetch owner id (&lt;a href="https://github.com/yunionio/onecloud/commit/c977fd02cee86792cdbe3ec8b73248191f87f04f">c977fd02c&lt;/a>, &lt;a href="mailto:tangbin@yunion.cn">tangbin&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="region-15">Region (15)&lt;/h3>
&lt;ul>
&lt;li>schedtag list support resource_types (&lt;a href="https://github.com/yunionio/onecloud/commit/65562c25f57feac5fe7136560b7a8c3fb05871dd">65562c25f&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>lbagents: skip tls check for default influxdb endpoint url (&lt;a href="https://github.com/yunionio/onecloud/commit/7f7aef031adcde0e4a4a80398481a7f696fa0fc5">7f7aef031&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>lbagents: turn off guest src check (&lt;a href="https://github.com/yunionio/onecloud/commit/f30b191d05a24adf1de81303413d1da69c7d160f">f30b191d0&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>loadbalanceragents: yum as the default method (&lt;a href="https://github.com/yunionio/onecloud/commit/4a0d019b6ea764df1b7835c371def3b7531ab507">4a0d019b6&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>retry set influxdb policy until completed (&lt;a href="https://github.com/yunionio/onecloud/commit/8e51f627a64f3ed24e7b95eef74e2086f5800a75">8e51f627a&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix get resource details panic (&lt;a href="https://github.com/yunionio/onecloud/commit/0b70491ea03a0bd428c8e7b246823f12423268d0">0b70491ea&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix server create params not include specified resource (&lt;a href="https://github.com/yunionio/onecloud/commit/4713312b3243455298a921f53c7d07d0541113d7">4713312b3&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix baremetal can&amp;rsquo;t enable public baremetal type network (&lt;a href="https://github.com/yunionio/onecloud/commit/80a405a8a0e51a16946fe653668203e42ffa798c">80a405a8a&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>server create prefer resource fetch by name or id (&lt;a href="https://github.com/yunionio/onecloud/commit/536be2ead7ff8f3e0d373015862a3b65ab5fc696">536be2ead&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>guests: include secgroup ids in listing (&lt;a href="https://github.com/yunionio/onecloud/commit/e8cbaee90473291abe76c8d04bca0e99e651c290">e8cbaee90&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>lbagent: undeploy: make it idempotent (&lt;a href="https://github.com/yunionio/onecloud/commit/f226d342e19ba88da35b4753022af2368d655b4e">f226d342e&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>lbagents: fix deleting pending_deleted objects (&lt;a href="https://github.com/yunionio/onecloud/commit/f890b2b1802a1c7d5f930733e6b2de6ae3e92dbb">f890b2b18&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>cloudaccounts: re-validate only when proxysetting changed (&lt;a href="https://github.com/yunionio/onecloud/commit/d716405eb957f1f7a5faa5c20c9ead59ce6200ba">d716405eb&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>vpcs_mapped_address: fix locking (&lt;a href="https://github.com/yunionio/onecloud/commit/25d1c3693231f11ec66e638803fdbd3db0578893">25d1c3693&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>vpcs_mapped_address: alloc guestnic mapped addr backwards (&lt;a href="https://github.com/yunionio/onecloud/commit/138b596ec477e3cb9e03d993bb6d029a60d20225">138b596ec&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="scheduler-7">Scheduler (7)&lt;/h3>
&lt;ul>
&lt;li>fix storage filter duplicate error message (&lt;a href="https://github.com/yunionio/onecloud/commit/d6b1fa02d85167a0e6efe0a0d609d01db2e17d6e">d6b1fa02d&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix memory over committed (&lt;a href="https://github.com/yunionio/onecloud/commit/d8d6e8c5b537236014fa8868fb2d056989767b54">d8d6e8c5b&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix min counter get count not correct (&lt;a href="https://github.com/yunionio/onecloud/commit/db65bf4ef05ae38a0bb90a8c9311488ca7b8ce50">db65bf4ef&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>filter disabled cloudprovider (&lt;a href="https://github.com/yunionio/onecloud/commit/2e9307269166a275c983e16e73b73afaca47d704">2e9307269&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>set schedtag default strategy if input empty (&lt;a href="https://github.com/yunionio/onecloud/commit/e00b1fdc3b849456742a107c0429db377a4a67bc">e00b1fdc3&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>get region nil panic (&lt;a href="https://github.com/yunionio/onecloud/commit/d049ac936e3a8b9a2b76980daa59205c74ae634e">d049ac936&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix network predicate get wrong free port (&lt;a href="https://github.com/yunionio/onecloud/commit/f39c829595be1279d17a3bf775532867e0c54149">f39c82959&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="sysutils-1">Sysutils (1)&lt;/h3>
&lt;ul>
&lt;li>rework test (&lt;a href="https://github.com/yunionio/onecloud/commit/458bd0c7f77aba4909786348157b6e07ba025921">458bd0c7f&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="tasks-2">Tasks (2)&lt;/h3>
&lt;ul>
&lt;li>onecloud: support disassociate eip (&lt;a href="https://github.com/yunionio/onecloud/commit/74920a37e1d1a2d27a2a4e77dc9ce29f0113d729">74920a37e&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>EipDissociateTask: lock associated model (&lt;a href="https://github.com/yunionio/onecloud/commit/02ea7b462802957c864df7f8f3b223c8016a881c">02ea7b462&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vendor-7">Vendor (7)&lt;/h3>
&lt;ul>
&lt;li>update yunion.io/x/structarg (&lt;a href="https://github.com/yunionio/onecloud/commit/4ce404dd8de6e0d3fe2bd3c3d94a6e099c567062">4ce404dd8&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>update yunion.io/x/{jsonutils.pkg} (&lt;a href="https://github.com/yunionio/onecloud/commit/a2fda726d109f62de65b238c90064049b6e87022">a2fda726d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>update yunion.io/x/sqlchemy (&lt;a href="https://github.com/yunionio/onecloud/commit/2e687997ae3cc6b5610aa8fb59f1cc5f12718609">2e687997a&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>update yunion.io/x/ovsdb (&lt;a href="https://github.com/yunionio/onecloud/commit/5ad06097c1d1123073797bf1ee5076c542f88060">5ad06097c&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>update yunion.io/x/ovsdb (&lt;a href="https://github.com/yunionio/onecloud/commit/4f68026b84d9ed5c125fd4245dfff96514034805">4f68026b8&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>import yunion.io/x/ovsdb (&lt;a href="https://github.com/yunionio/onecloud/commit/7c3d9d7f8993845d217f2f38a7f7c87694ce2552">7c3d9d7f8&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>tidy and vendoring (&lt;a href="https://github.com/yunionio/onecloud/commit/ffadb30c6396607aba0ed76b945173e353d724bf">ffadb30c6&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vet-5">Vet (5)&lt;/h3>
&lt;ul>
&lt;li>composite literal uses unkeyed fields (&lt;a href="https://github.com/yunionio/onecloud/commit/fb26b0c3899eb3677b6ea6d3d4875fa4bdc68505">fb26b0c38&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>bad syntax for struct tag value (&lt;a href="https://github.com/yunionio/onecloud/commit/d25f92af8bc5fb3d12207163796ac83ea507b52c">d25f92af8&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>pairs not separated by spaces (&lt;a href="https://github.com/yunionio/onecloud/commit/b99157f646d16d8871104c97e948441ac4a0f843">b99157f64&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>bad syntax for struct tag pair (&lt;a href="https://github.com/yunionio/onecloud/commit/c18d347b0c9cbcb65980f386188b22865e17cf14">c18d347b0&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>unreachable code (&lt;a href="https://github.com/yunionio/onecloud/commit/85d238cb5adfbe6ae6d2ee9e828e3d550473889c">85d238cb5&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vpcagent-55">Vpcagent (55)&lt;/h3>
&lt;ul>
&lt;li>ClaimVpcGuestDnsRecords: guard against pending_deleted guests (&lt;a href="https://github.com/yunionio/onecloud/commit/821283952d637b4f17190853cd1f40eb9020988d">821283952&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>different direction for l3 and l4 match (&lt;a href="https://github.com/yunionio/onecloud/commit/97251c7cc9d0aa1d3ffc022e02cbf3658618a383">97251c7cc&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: claim dnsrecords for all vpcs (&lt;a href="https://github.com/yunionio/onecloud/commit/ba0e41d9959108c5767dfbc81a5e7b1f0e321fce">ba0e41d99&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>models: include dnsrecords (&lt;a href="https://github.com/yunionio/onecloud/commit/583718014c49292cc82144c6807f42dc592402a2">583718014&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: dns records for guest names (&lt;a href="https://github.com/yunionio/onecloud/commit/88095c6d82e17a5275e3d552a4a1c6daa883aea5">88095c6d8&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: mark and sweep dns records (&lt;a href="https://github.com/yunionio/onecloud/commit/d51791396f0348b5d009a2907ebdb2354b40fe40">d51791396&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: apply qos on eip (&lt;a href="https://github.com/yunionio/onecloud/commit/e442e7a259631acc16a022081fc4efc480a01f07">e442e7a25&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: apply guestnetwork bw_limit (&lt;a href="https://github.com/yunionio/onecloud/commit/4b44f21abfa877d1479456c5871e5222e86bc591">4b44f21ab&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: use FindXxxReferrer_yyy (&lt;a href="https://github.com/yunionio/onecloud/commit/4b299846de25cbf238e3f04baa8cb2ed0bc29f4d">4b299846d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: set underlay mtu size in config file (&lt;a href="https://github.com/yunionio/onecloud/commit/2841e245e2c043401e0163bdc5a4b2de7d75e76d">2841e245e&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: mix eipgw and distgw (&lt;a href="https://github.com/yunionio/onecloud/commit/83a44ce94cde302dae2a857ca3f721e331a60b11">83a44ce94&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>models: include elasticip (&lt;a href="https://github.com/yunionio/onecloud/commit/822ba58756b90cb5c02c5a4d2337f387a1d1a93f">822ba5875&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: add and use mac.HashVpcHostDistgwMac() (&lt;a href="https://github.com/yunionio/onecloud/commit/22090a379011da00b43c59db33e304d38050264f">22090a379&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>models: separate Copy() and CopyJoined() (&lt;a href="https://github.com/yunionio/onecloud/commit/146ab44fbd410f7c6391399f1f5f2490a122506a">146ab44fb&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>apihelper: use CopyJoined() (&lt;a href="https://github.com/yunionio/onecloud/commit/cb27b180520953312304f99067838a53730ba948">cb27b1805&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>models: add CopyJoined() (&lt;a href="https://github.com/yunionio/onecloud/commit/c4b30848964bbb287947cfc02930b08d0fbc5232">c4b308489&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>remove unused code (&lt;a href="https://github.com/yunionio/onecloud/commit/8873c8905e7ff24a260d6ef755fc4302f44c0f20">8873c8905&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>apihelper: use its own options (&lt;a href="https://github.com/yunionio/onecloud/commit/230f004f367dba2b788881015a4291b3f8dc4e87">230f004f3&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>models: remove now boilerplate code (&lt;a href="https://github.com/yunionio/onecloud/commit/3e09d4920bace28a3ba48ca65470ffb5a4f35561">3e09d4920&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>apihelper: add interface IModelSetListOptionProvider (&lt;a href="https://github.com/yunionio/onecloud/commit/c7fee7c760b7183cd4610b7d4b77c587920e2141">c7fee7c76&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>models: modelset: details=false for networks (&lt;a href="https://github.com/yunionio/onecloud/commit/f5360264fe6c0933aed3704f40194347952899d9">f5360264f&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>models: include wires (&lt;a href="https://github.com/yunionio/onecloud/commit/3a51985fcd43a5f4f5d7506830cfb5cef2dee3c7">3a51985fc&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: preparation: skip default vpc (&lt;a href="https://github.com/yunionio/onecloud/commit/5fdd534f74e164764cf9b6a62688a9918edb1362">5fdd534f7&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: preparation: use network.Vpc.Id (&lt;a href="https://github.com/yunionio/onecloud/commit/a7a3beae2752249679caa8445392258ec42d593b">a7a3beae2&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>apihelper: use IModelSet.IncludeEmulated() (&lt;a href="https://github.com/yunionio/onecloud/commit/e0349f92b72fd02c8f057ad0e7d8deba95f4111a">e0349f92b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>models: modelset: add IncludeEmulated() method (&lt;a href="https://github.com/yunionio/onecloud/commit/5bf45ad65c18c93a464a2c2c76eca653de58eab1">5bf45ad65&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>apihelper: use IModelSet.IncludeDetails() (&lt;a href="https://github.com/yunionio/onecloud/commit/39a19d1c68a5e62ca82603280bfb820d4ec2a9da">39a19d1c6&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>models: modelset: add IncludeDetails() method (&lt;a href="https://github.com/yunionio/onecloud/commit/2a0cac9d493be9e4d7538e8c959b463fdfd4784e">2a0cac9d4&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovnutil: destroy non root obj first (&lt;a href="https://github.com/yunionio/onecloud/commit/4d54972a9a91f44b782f09fa4141c40686299b37">4d54972a9&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: cmp: generate clean args in a single batch (&lt;a href="https://github.com/yunionio/onecloud/commit/6d788e052ac68bd7c0d4243595f340bf373a5525">6d788e052&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: use db.FindOneMatchByAnyIndex (&lt;a href="https://github.com/yunionio/onecloud/commit/4962bdc7e14d4f8deb95d2132a4f334ff7e3efb3">4962bdc7e&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: configure acl for lport (&lt;a href="https://github.com/yunionio/onecloud/commit/579641a26898c2040e4c5d9ba347c7d3adb17fa5">579641a26&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovnutil: OvnNbctlArgsDestroy: take into account ACL (&lt;a href="https://github.com/yunionio/onecloud/commit/53f35461252268788b7f0b0d14ee268de0e074e3">53f354612&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: secgrouprules_acl (&lt;a href="https://github.com/yunionio/onecloud/commit/9f4daafee29ba6245df4e7531b2d548f67a60828">9f4daafee&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>models: sort security group rules (&lt;a href="https://github.com/yunionio/onecloud/commit/1abdb4f13629eb5fa69fd7995a3e97bc0a5cb006">1abdb4f13&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>models: include secgroup and rules (&lt;a href="https://github.com/yunionio/onecloud/commit/7ba46e9289d566126531ca0fe43386b4ecba0eb0">7ba46e928&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>apihelper: do not set details=true by default (&lt;a href="https://github.com/yunionio/onecloud/commit/f33a2e1770cb13e30b4e6063da4f690e99231985">f33a2e177&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovnutil: remove old generated code (&lt;a href="https://github.com/yunionio/onecloud/commit/654845fd498767a91ebd646f34fdfe3793ab038a">654845fd4&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: use yunion.io/x/ovsdb (&lt;a href="https://github.com/yunionio/onecloud/commit/cae9594da9044c8a28dcc68b96c421365bc460df">cae9594da&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ignore possible external subnets (&lt;a href="https://github.com/yunionio/onecloud/commit/218df2416ceff6712f85f95f55f676ea598c96ff">218df2416&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: explicitly include gateway route in classless routes (&lt;a href="https://github.com/yunionio/onecloud/commit/5caaccd43fe7a1ba685b14d5d807318bca775296">5caaccd43&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>models: ignore possible external guests (&lt;a href="https://github.com/yunionio/onecloud/commit/4496a7bbcb5e1c81ac0b7725f39ebc8bb74850a9">4496a7bbc&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ad-hoc replacement for db.FindByIndex() (&lt;a href="https://github.com/yunionio/onecloud/commit/503735ebf5679175ec2311577247363f8d0af638">503735ebf&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>models: allow guest to have multiple vpc nics (&lt;a href="https://github.com/yunionio/onecloud/commit/09cc38f96283c8b824801d8c7949e71366b92c19">09cc38f96&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>work around nics of pending deleted guest (&lt;a href="https://github.com/yunionio/onecloud/commit/11835889c061fd15d958a8889d8d51a17d443285">11835889c&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>fend off non-onecloud-vpc guest nics (&lt;a href="https://github.com/yunionio/onecloud/commit/16ced399a587709b909fd10d922d589f00246487">16ced399a&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: use network.GuestDns when available (&lt;a href="https://github.com/yunionio/onecloud/commit/d2c0ba4d5acdc1fc64f45b7dda16b7eb886ab719">d2c0ba4d5&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: manage static routes (&lt;a href="https://github.com/yunionio/onecloud/commit/05c38c81301a5402ac4cef7c0ee293fab25579ce">05c38c813&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: guestnetwork: guard against empty dhcpopt (&lt;a href="https://github.com/yunionio/onecloud/commit/0578d6c4981c8a2008b0240937f5f0f8ff92d94d">0578d6c49&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: rename subnet, guestnetwork ovn obj names (&lt;a href="https://github.com/yunionio/onecloud/commit/1c50ffb2161e34c52628b8613ee35cbcbe00e8cd">1c50ffb21&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: use cmp() when claimVpc (&lt;a href="https://github.com/yunionio/onecloud/commit/38354229b80c10e4ee3edd40a24e0e45a816ebb5">38354229b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: use cmp() (&lt;a href="https://github.com/yunionio/onecloud/commit/d8e419cfae96cfa3c01919623d70494c0d6f8d28">d8e419cfa&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>add cmp() for search and pre-cleanup (&lt;a href="https://github.com/yunionio/onecloud/commit/4d3eba9bac8274267a915779aa0ad186b6467e72">4d3eba9ba&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>ovn: make host ls when claimVpc (&lt;a href="https://github.com/yunionio/onecloud/commit/e6bb3397d19b548295b6d3111b2515c104d20b54">e6bb3397d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>models: include guest, host (&lt;a href="https://github.com/yunionio/onecloud/commit/e4ad3f4194c720b5cf2f04e27e72e160375ad443">e4ad3f419&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vpcs-1">Vpcs (1)&lt;/h3>
&lt;ul>
&lt;li>add ExternalAccessMode field (&lt;a href="https://github.com/yunionio/onecloud/commit/eebd15e0d57b5233e38650a05ab04e93c2521702">eebd15e0d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="webconsole-2">Webconsole (2)&lt;/h3>
&lt;ul>
&lt;li>fix old session make new session closed (&lt;a href="https://github.com/yunionio/onecloud/commit/37ee6f8446f98f1dcfc291b1ecbe8e0dea3a6b53">37ee6f844&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix version and others handler not handle (&lt;a href="https://github.com/yunionio/onecloud/commit/e56152aa488d0778747d0dd69799234f9e8c4a43">e56152aa4&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="wires-1">Wires (1)&lt;/h3>
&lt;ul>
&lt;li>default to &amp;ldquo;default&amp;rdquo; vpc on creation (&lt;a href="https://github.com/yunionio/onecloud/commit/d83a7dade583d28715158553ed6c727332c053a5">d83a7dade&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="ocadm">ocadm&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/ocadm">https://github.com/yunionio/ocadm&lt;/a>&lt;/p>
&lt;p>28 commits to &lt;a href="https://github.com/yunionio/ocadm/compare/v3.2.6...v3.3.0">ocadm - v3.3.0&lt;/a> since this release.&lt;/p>
&lt;h3 id="addon-1">Addon (1)&lt;/h3>
&lt;ul>
&lt;li>add metrics server and remove itsm server (&lt;a href="https://github.com/yunionio/ocadm/commit/6e8ffa23b2cd6b56a8e8fccdd78576a9c642d6f5">6e8ffa2&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-27">Others (27)&lt;/h3>
&lt;ul>
&lt;li>ocadm create cluster, 延时等待容错 (&lt;a href="https://github.com/yunionio/ocadm/commit/32691463fdd1ef0b67e01709925a434a9989e411">3269146&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>高可用部署主备选取应将kube-apiserver是否工作考虑进去 (&lt;a href="https://github.com/yunionio/ocadm/commit/dd775ca1bf1d8507b0e63deb6af579ae0ace8979">dd775ca&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>fix longhron template (&lt;a href="https://github.com/yunionio/ocadm/commit/6d283629b8dbc05ebe0ebbcf0fbd7f692cfa264e">6d28362&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>修复 keepalived master state bug (&lt;a href="https://github.com/yunionio/ocadm/commit/3d452ac219880dc91e518a189027fa21101ebe22">3d452ac&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>longhorn deploy misc fix (&lt;a href="https://github.com/yunionio/ocadm/commit/53cbebc6b455ac171bcb0af2babd4559b66e9676">53cbebc&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>update vendor for release/3.3 (&lt;a href="https://github.com/yunionio/ocadm/commit/ec96e953359e2a0869edc54a5d4d6e5d449dfe84">ec96e95&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>update vendor for 3.3 (&lt;a href="https://github.com/yunionio/ocadm/commit/bd902c2cab49d22f066841a6d3b90c7932bbb98d">bd902c2&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>fix create region zone where upgrade from v2 (&lt;a href="https://github.com/yunionio/ocadm/commit/b581b3d144e51c1b9f0585756346cd5d0a24cf75">b581b3d&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>update vendor for 3.3 (&lt;a href="https://github.com/yunionio/ocadm/commit/ec2d04c2f3812ca43db272ad5cddbda6369403d2">ec2d04c&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>ocadm 接入 keepalived，支持高可用 (&lt;a href="https://github.com/yunionio/ocadm/commit/08d74c0df6b9199846c905e093a880249f92ccd6">08d74c0&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>update DefaultCalicoVersion to 3.12.1 (&lt;a href="https://github.com/yunionio/ocadm/commit/f82dd55368bd3261110247822ecd2ffda2ef36ef">f82dd55&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>migrate data to longhorn (&lt;a href="https://github.com/yunionio/ocadm/commit/9dda325722a65e583acc6022afa28311811b6471">9dda325&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>addon longhorn (&lt;a href="https://github.com/yunionio/ocadm/commit/737c7c3c00a89902d4297c9ee9d39e449d1d2b5f">737c7c3&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fetch itsm config from globalrc (&lt;a href="https://github.com/yunionio/ocadm/commit/0eabd9a816564c0732e7bab8ffbc8823f660b7d0">0eabd9a&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>sync vendor with operator (&lt;a href="https://github.com/yunionio/ocadm/commit/d6eb026351342be497b216d91538f9a11466da20">d6eb026&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix upgrade from v2 (&lt;a href="https://github.com/yunionio/ocadm/commit/442f19e92cb0dc1bc9e129a5afb2f05d57e14633">442f19e&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>add operator priority schedule class (&lt;a href="https://github.com/yunionio/ocadm/commit/0c22cef21b88851d43b03ac1f9e6b17c43294c3c">0c22cef&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>修改itsm镜像仓库信息，和项目信息对应 (&lt;a href="https://github.com/yunionio/ocadm/commit/eb07ee0ba8f863fa7eb387eef6e3b9f3530c7bfd">eb07ee0&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>set node override name (&lt;a href="https://github.com/yunionio/ocadm/commit/1a51fda400de428ade517f11dac81bb0b9b074ce">1a51fda&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>set default control plane endpoint (&lt;a href="https://github.com/yunionio/ocadm/commit/a8f7a53746a0d8f7d24dfa6cab419a8e5c0f0199">a8f7a53&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>多网卡环境下 calico 网卡选择策略 (&lt;a href="https://github.com/yunionio/ocadm/commit/4fbd02dad6f2bfa6274c6a839e2f8f882ed73893">4fbd02d&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>disable loki stack (&lt;a href="https://github.com/yunionio/ocadm/commit/f089a4c0f1ac848727e278bc6a154694758896bf">f089a4c&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>修改itsm的template (&lt;a href="https://github.com/yunionio/ocadm/commit/3f50a3c31ea099da37f7e1a5db8a40907c42a401">3f50a3c&lt;/a>, &lt;a href="mailto:zhaoxiangchun@yunion.cn">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>support upgrade (&lt;a href="https://github.com/yunionio/ocadm/commit/3ccb7ebd46f30900adf20beb2d60ef0d7d07f85c">3ccb7eb&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>join args (&lt;a href="https://github.com/yunionio/ocadm/commit/faa9e3fdd12c3dc45df5c793a517a3c5cb15f455">faa9e3f&lt;/a>, &lt;a href="mailto:zhangdongliang@yunion.cn">Zhang Dongliang&lt;/a>)&lt;/li>
&lt;li>inherit print addon yaml opt (&lt;a href="https://github.com/yunionio/ocadm/commit/a4ea4d14af267dd22ad79d81365d7cb1e0ccd958">a4ea4d1&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>custom csi dependent image (&lt;a href="https://github.com/yunionio/ocadm/commit/f0bfd564baa968e4aae531e3c7488d7088516a21">f0bfd56&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-operator">onecloud-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-operator">https://github.com/yunionio/onecloud-operator&lt;/a>&lt;/p>
&lt;p>64 commits to &lt;a href="https://github.com/yunionio/onecloud-operator/compare/v3.2.6...v3.3.0">onecloud-operator - v3.3.0&lt;/a> since this release.&lt;/p>
&lt;h3 id="bug-fixes-5">Bug Fixes (5)&lt;/h3>
&lt;ul>
&lt;li>apigateway totp should default on (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/0520f4e34423efedab5910fea0eca0752cb2ab4f">0520f4e&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>member policy requires member role (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/3d857385af27d6ff8ef12592f30032f8fe570ff8">3d85738&lt;/a>, &lt;a href="mailto:qiujian@yunionyun.com">Qiu Jian&lt;/a>)&lt;/li>
&lt;li>Change &lt;code>xxIntervalxx&lt;/code> type from &amp;lsquo;int&amp;rsquo; to &amp;lsquo;*int&amp;rsquo; (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/0cc29968b495b7ecc4036016d50c24f4eb369ce8">0cc2996&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Change api prefix &amp;lsquo;/api/v1&amp;rsquo; as &amp;lsquo;api/v1&amp;rsquo; (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/5fcceb28924f5eef426f989d17fd1425ff02fa47">5fcceb2&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>change command of init container for oso (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/019c5b04153148e9e26cadcb1f7bf40c6014e9ed">019c5b0&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="defaults-1">Defaults (1)&lt;/h3>
&lt;ul>
&lt;li>using openvswitch image of tag 2.10.4-0 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/cbbaa01be9b7ea2027ecba25cbb3e505b1be700d">cbbaa01&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="feature-1">Feature (1)&lt;/h3>
&lt;ul>
&lt;li>add cloudid service (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/525f310f6cb8e115ff610c40629886ef183550b3">525f310&lt;/a>, &lt;a href="mailto:quxuan@yunionyun.com">Qu Xuan&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-1">Features (1)&lt;/h3>
&lt;ul>
&lt;li>Add support for onecloud-resource-operator (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/b5b91810c2687becbb8d8cf520a5b0f31c68df84">b5b9181&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="host-1">Host (1)&lt;/h3>
&lt;ul>
&lt;li>tell sdnagent to use common.conf (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/a260f9c6720b0f162db24d571435443feb702492">a260f9c&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="itsm-1">Itsm (1)&lt;/h3>
&lt;ul>
&lt;li>limit memory to 1G (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/83c05e97e5d94a8eeb24c7463553e908186dc9a1">83c05e9&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-52">Others (52)&lt;/h3>
&lt;ul>
&lt;li>调整统一监控 系统报警规则的注入配置 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/7dc826632c97bc4b1e23dfcf3a36395c17c6285a">7dc8266&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix etcd member count (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/8f5c7b598f7b1bb04484f548ca8c80a00a66a96b">8f5c7b5&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>recreate pods on pvc not local path (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/03b924ea35877d01d897792c7d89faf1115fc5d9">03b924e&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>修复系统报警规则重复创建的问题 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/6576384e82ce896a63186c781721b5b840e39ae0">6576384&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>fix set pvc name (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/821875d7a28e3f651f93e1a0e10ae9d16289c04f">821875d&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix glance pvc name (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/54bffdafc629efdfce11e7ce7de049f89b822de3">54bffda&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>update vendor for release/3.3 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/0d99429d0638d355e411eae3bbdacf58d760431f">0d99429&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>cloudmon deployment increase [rds redis oss] monitor information collectiona (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/5dbf86e9f39379a17be4bff6e9078e05420c4a14">5dbf86e&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>add check if cronjob exist (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/5862b3be77714ba12d86fe5d73ff45f420cb1443">5862b3b&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>service etcd client disable unready client (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/052dca4b2dae64ce63705a10b57bf9fc4837a0dd">052dca4&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>cloudmon as deployment (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/d5f78cdfd51d1563a8a6d87a3db817947807bcd6">d5f78cd&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>host image component set default toleration (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/6f564a2b95918191c2639a049ae4e8024a8c3e09">6f564a2&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>check etcd dbsize, do compact and defrag (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/9ec773cd11fec559660db7ecf2348afb7754fc02">9ec773c&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>system alert init info create in operator (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/61f9c0909feecfb76c14db905f2c7feae9cf7eb2">61f9c09&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>host image as daemonset (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/dcf7299401721eb54b8eac7509d6de7b5e806fe4">dcf7299&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix etcd defrag (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/e9474449c22eccec5a47ee87672ac8964fe664be">e947444&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>add daemonset telegraf (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/78e082eb8d5baa79e9faacbf9bf90dc66cf1b754">78e082e&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>telegraf init tool (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/ca5814106faf8c363ed8afe7d1ce9eedd5b8dbd7">ca58141&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix:优化manifest example (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/4c7e1fe9fd54449fe448381dfd7baeec183f46a7">4c7e1fe&lt;/a>, &lt;a href="mailto:lvyangyang@yunion.cn">lvyangyang&lt;/a>)&lt;/li>
&lt;li>new pvc name with storage class (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/6b300f5ce627ba5f76c5ffeb3e726811804ccb23">6b300f5&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>itsm endpoint注册为http请求 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/14fcbe182d8e18b6f045bc1f3f0e17fd3825b82c">14fcbe1&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>not register azure classic host data (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/e345786d8bc6602dde013d14426cdf618052f9c9">e345786&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>operator增加itsm服务 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/9739e8a494359fb98bc5255eb79ab5b0bde746e3">9739e8a&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>remove put/del key on liveness probe (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/ffdf0ebbe08001e701c3943490b99f928077f935">ffdf0eb&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>set cronjob default attributes (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/292f37ab8197cc3751c9aa1ddf63cd8709fa0770">292f37a&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>etcd cluster default use version 3.4.6 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/2b293d63460246ee32622389fd7b950a718a79c8">2b293d6&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>bugfix：宿主机监控没有默认值注入的函数 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/e48997d591e687edecdda0d921c6807a6f765889">e48997d&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>etcd operator fix (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/f71a98e0d8e95e6b38379e9eb8efb5904f355945">f71a98e&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix etcd liveness probe (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/a7d57db34ff451f643e8a76b2788b00c27007491">a7d57db&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>first create policy (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/5eae9485fec05eb464f7e46992c09260971b4892">5eae948&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>add max wal file (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/cfc762a11ca7325c1f563074953cdc5e1c9d19e2">cfc762a&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix etcd arguments (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/d661676960c0a802c1516c1efee6e62069048a67">d661676&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>增加宿主机的监控查询的cronjob (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/011ae7d778ac8da85c1d9eb95964cd15070e16c1">011ae7d&lt;/a>, &lt;a href="mailto:1422928955@qq.com">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>report-server 监控间隔调整 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/fba6be1bdfbea348b1f5c822b61b044bde83845a">fba6be1&lt;/a>, &lt;a href="mailto:zhaoxiangchun@yunion.cn">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>修改reportserver cronjob采集监控数据的间隔 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/fb885680598b48e83e90a7d0dd8fafe8e997b9ff">fb88568&lt;/a>, &lt;a href="mailto:zhaoxiangchun@yunion.cn">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>set keystone url (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/2bd2d63a69cc64249e5e5673caa51a792a4e1353">2bd2d63&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>kubeserver add service account (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/4cbff0ab593b2eba620220e1aac08820e3c24f0c">4cbff0a&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>onecloud culster fix: (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/8a61750991f4b6f2683d311ffc4bc9ff10d0adea">8a61750&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>mount etcd tls (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/6391bf8d0c812e927de8e31ae87c4ccc2ca5ddcc">6391bf8&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>web nginx config (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/06493234e92b72d9462619f61026dbb9fa2794e1">0649323&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>fix api_server url (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/8bc9f6cff67236a04b5ce3dfb8e886db309a2d3b">8bc9f6c&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>fix cronjob update (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/28ca0af738a2beee4ff7ec80781d6991a51efdef">28ca0af&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>etcd use tempfs (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/23c8a3e91a8f10c343e410c49cb12019e0b19fb1">23c8a3e&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>adjust web nginx config (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/b770851c46e37b4de40454b8ab81c86dadf96a79">b770851&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;li>create etcd service (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/91b75cc5bfc6df4717a9af4006a0954b03c68509">91b75cc&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>do not always sync configmap (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/437091a0055ec74ec1bf87f111f9afa9c69e4cc2">437091a&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>create etcd service (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/00127da80efe4fe16de394b0eaee7c7d5ef3af6f">00127da&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>etcd tls endpoint (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/69f02e3426b8c73abe1a8137b2267f0e5383594a">69f02e3&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>create etcd cluster (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/e25a2f7fe65256252afe14184d850b4159b3769e">e25a2f7&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;li>
&lt;ul>
&lt;li>sync config api_server to common service (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/2ce9c338b8db56019428bc46b89817164e28c152">2ce9c33&lt;/a>, &lt;a href="mailto:wanyaoqi@yunionyun.com">wanyaoqi&lt;/a>)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>添加cronjob StartingDeadlineSeconds 参数 (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/daed9d92c93f97dec9ab612ea402bf7726daea09">daed9d9&lt;/a>, &lt;a href="mailto:zhaoxiangchun@yunion.cn">zhaoxiangchun&lt;/a>)&lt;/li>
&lt;li>add sockio web location (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/a0b437e9e5309c8055e92522771859c582f090b6">a0b437e&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="web-1">Web (1)&lt;/h3>
&lt;ul>
&lt;li>remove unused nginx config (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/6f37389c654f62a9e7cb229779c2a9c731a30ad0">6f37389&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="yunionagent-1">Yunionagent (1)&lt;/h3>
&lt;ul>
&lt;li>update content (&lt;a href="https://github.com/yunionio/onecloud-operator/commit/87badd5353296c3d1b6997579a1121dc838f387d">87badd5&lt;/a>, &lt;a href="mailto:zexi.li@qq.com">Zexi Li&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="onecloud-service-operator">onecloud-service-operator&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/onecloud-service-operator">https://github.com/yunionio/onecloud-service-operator&lt;/a>&lt;/p>
&lt;p>36 commits to onecloud-service-operator - v3.3.0 since this release.&lt;/p>
&lt;h3 id="code-refactoring-1">Code Refactoring (1)&lt;/h3>
&lt;ul>
&lt;li>Abstract the same logic and abstract interface (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/178b33bc73c1848c9d823bc1ef6b5c3c8f9b546f">178b33b&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="features-3">Features (3)&lt;/h3>
&lt;ul>
&lt;li>init docs (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/1b18737d367ad476ddfc3a0f13c18088546f5eb1">1b18737&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Change field of IntOrStringStore (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/655cf96884554f29e1449c57bd10e2f5e6b422d5">655cf96&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Normalize options &amp;amp; Add &amp;lsquo;dense&amp;rsquo; options (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/6ec03262140c048c0def80900260e2cbd429a2a1">6ec0326&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-32">Others (32)&lt;/h3>
&lt;ul>
&lt;li>Add Endpoint document (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/3696dc60ba9d7102b4b04ccf4a7b1cfcfac8ab6f">3696dc6&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Add CRD Endpoint (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/8e7de75ceebcd2a741f4a297f01b4f3928a0d250">8e7de75&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>support yaml string (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/e1ac25cfa134f26e816edd23e1e864781fc409da">e1ac25c&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>fix about field reference (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/1341f221baaa2233b3393bb969a1929b2bbf3b5f">1341f22&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>fix the reference of option&amp;rsquo;s field (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/368fcf262a4295846dbd6f134abcd7b844b75a6b">368fcf2&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>update README.md and CONTRIBUTING.md (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/2bdd57423966449e2506fde34086cf9be26800a4">2bdd574&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>modify Dockerfile (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/454c20c5d8c14cb096cad7b6e3b592c68c923df1">454c20c&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Modify the code structure in the pkg directory (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/0c4466a159750d1917aced4cd2e5ec28cb228227">0c4466a&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Add README.md and CONTRIBUTING.md (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/01cff42129c4759810f9df51336f5b1de8e62d31">01cff42&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>modify the image name in Makefile (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/2fd0ec90feaf80d6ba966aaf249729e2832aa227">2fd0ec9&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>add LICENSE (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/4c79f85dd7e236ba42fe25fb7013a059764c21f8">4c79f85&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>modify copyright (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/758336b5a93c0dbc7148c4fe0b8dcdc9e6116cfc">758336b&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Reduce the dependence on executing &amp;lsquo;make image&amp;rsquo; (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/a235dbaa64cfe7756036d46b88509682d940a638">a235dba&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>change module name: onecloud-resource-operator=&amp;gt;onecloud-service-operator (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/d4a574e9e8dc7170a24ebddbcc1730185232bf0e">d4a574e&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>remove &amp;lsquo;MetricsAddr&amp;rsquo; and add &amp;lsquo;WebhookPort&amp;rsquo; for Options (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/6b58d3ccd261546989506464b1ea268c16b0b738">6b58d3c&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Modify Makefile and Dockerfile for vendor (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/b1885e7d8cde7443c986ac75cd1aa6ea4327c7bf">b1885e7&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>init vendor (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/be4e55a4630964374f03724a27a0549aedb6d8b7">be4e55a&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>change module name: onecloud-service-operator=&amp;gt;onecloud-resource-operator (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/6baefaac433b5d85da655d6febfcfc07f0c2fb9c">6baefaa&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Modify Dockerfile and Makefile (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/4a140093aaa521b71a0188f7f7ba77757f984e17">4a14009&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Adjust the project&amp;rsquo;s directory structure (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/958333e1e361fed1516a337a1b4424e8dbb0b923">958333e&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Improve value abstraction (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/8abac2166b2a7c9c9b77da8232999f9c22123644">8abac21&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>fix some problem in provider/virtualmachine.go (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/8b812fbabb76766d0d25fa0af093e4a6cadee517">8b812fb&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Set the ansible_user as &amp;lsquo;cloudroot&amp;rsquo; when hypervisor is not &amp;lsquo;kvm&amp;rsquo; (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/6b12bdcdc86ee0845a344b21be7e56b16f225d58">6b12bdc&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>fix IsServerErr: code &amp;lsquo;500&amp;rsquo; is also ServerErr (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/403c3bcae9c2aff07ab69d49a1cb37ad8f9aa572">403c3bc&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>Modify the json desc about &amp;lsquo;Bw&amp;rsquo; in VMNewEipSpec (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/c7946877285d674bc729bc1cfde63253773d1dde">c794687&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>fix some comment (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/29ce124a4f66fc30385d16c225b6870fec3aad15">29ce124&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>fix &amp;lsquo;dealErr&amp;rsquo; and update Dockerfile, kustomization.yaml (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/6c0c0722737b6a00f3be31b1e858d95af67eb7b3">6c0c072&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>clear external ansibleplaybook which is finished (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/dbe77e4c26d3e93e64782a265d80a14efba540a7">dbe77e4&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>fix and update (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/7f60c791e86ad22ab5cd9b875d436e27b2017f1b">7f60c79&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>change module name &amp;lsquo;onecloud-service-operator&amp;rsquo; to &amp;lsquo;yunion.io/x/onecloud-service-operator&amp;rsquo; (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/2430e128c50fbb4037cd4072279c76f1f1597a78">2430e12&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>fix and update (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/45c9033fcbf2687622e74006ae573e30768a4816">45c9033&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;li>init (&lt;a href="https://github.com/yunionio/onecloud-service-operator/commit/0e138d9d05e2f189991e33a62a777962cc2a43c6">0e138d9&lt;/a>, &lt;a href="mailto:mjoycarry@gmail.com">rainzm&lt;/a>)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="sdnagent">sdnagent&lt;/h2>
&lt;p>仓库地址: &lt;a href="https://github.com/yunionio/sdnagent">https://github.com/yunionio/sdnagent&lt;/a>&lt;/p>
&lt;p>39 commits to &lt;a href="https://github.com/yunionio/sdnagent/compare/v3.2.6...v3.3.0">sdnagent - v3.3.0&lt;/a> since this release.&lt;/p>
&lt;h3 id="agent-18">Agent (18)&lt;/h3>
&lt;ul>
&lt;li>ovn: no error log if the mapped bridge does not exist (&lt;a href="https://github.com/yunionio/sdnagen/commit/eec5b5839cc8ff3f18cc599915d545768a3a7faa">eec5b58&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>add eip man (&lt;a href="https://github.com/yunionio/sdnagen/commit/24c73389151d112ccab88aebd0f5bc24546a38af">24c7338&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>parse/watch config from main (&lt;a href="https://github.com/yunionio/sdnagen/commit/616a4e5eb10ac706f0689bd3db3b8c40fb9cb10b">616a4e5&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>server: use sdn_enable_guest_man (&lt;a href="https://github.com/yunionio/sdnagen/commit/d6452ef0d32bc2dc9a160e978d7710d781b17e15">d6452ef&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>server: move hostConfig watch to AgentServer (&lt;a href="https://github.com/yunionio/sdnagen/commit/2bee5152272fd695969b217817bb126754aa92fc">2bee515&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>server: shuffle lines to prepare for conditionals (&lt;a href="https://github.com/yunionio/sdnagen/commit/d778a93d52628effbb869fc0b6a34c8ce70889f2">d778a93&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>drop support for k8s_cluster_cidr (&lt;a href="https://github.com/yunionio/sdnagen/commit/cf5b8bfb43d468e1ec6ab15ee97f4eabfd7a8a4a">cf5b8bf&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>use hostman options (&lt;a href="https://github.com/yunionio/sdnagen/commit/0856fcc2ed1b6d5bbef44188cd7d969f5ddde969">0856fcc&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>server: guest: do region api sync when needed (&lt;a href="https://github.com/yunionio/sdnagen/commit/0b22e058febeb3a20c5ed81ed6815a426bda3b43">0b22e05&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>utils: add g.NeedsSync method (&lt;a href="https://github.com/yunionio/sdnagen/commit/e87a9e8c00c1eea98b10c76613b2ce12182921f4">e87a9e8&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>server: guest: guard against emtpy g.HostId (&lt;a href="https://github.com/yunionio/sdnagen/commit/36f6603314cd1adf3a4abf25c2dcfe2a89b8a4a8">36f6603&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>server: guest: clear up classic and vpc nics handling (&lt;a href="https://github.com/yunionio/sdnagen/commit/b56d74dc7ebb252df7a4575eddede7f99d563622">b56d74d&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>server: guest: rename flow update/clear method names (&lt;a href="https://github.com/yunionio/sdnagen/commit/e11882855b549829b4dcc09d78ccdfaf91876693">e118828&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>add ovn distgw manager (&lt;a href="https://github.com/yunionio/sdnagen/commit/5d16d37c9074fb6b96ca5ec15d015e13a76d6349">5d16d37&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>utils: add mapped ip addr info (&lt;a href="https://github.com/yunionio/sdnagen/commit/5c4a41dc19d600d0c04bb1e8db766e042d16e395">5c4a41d&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>flowman: log also bridge name (&lt;a href="https://github.com/yunionio/sdnagen/commit/bc2f5ea9daaaa82a75650c13e11e559db198efea">bc2f5ea&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>fix log level (&lt;a href="https://github.com/yunionio/sdnagen/commit/4d985a41ca73504505febc2659ee8857bd179f09">4d985a4&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>export guest.IsPending method (&lt;a href="https://github.com/yunionio/sdnagen/commit/dc7f907c87c018e62e836e2a7c991103875560c2">dc7f907&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="build-10">Build (10)&lt;/h3>
&lt;ul>
&lt;li>systemd: add keepalived reload command (&lt;a href="https://github.com/yunionio/sdnagen/commit/1fd0c9d00017aa26c93fb23c95a7f0d92a3be123">1fd0c9d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>eipgw: use 8 byte char for auth_pass (&lt;a href="https://github.com/yunionio/sdnagen/commit/1084304ed7ae7781cb72bea52d818bfa94f9daa1">1084304&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>eipgw: let keepalived use detail log (&lt;a href="https://github.com/yunionio/sdnagen/commit/7d8f62d63cdefce03fe3ea4a80c8c3e185bd431b">7d8f62d&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>add ansible playbook README (&lt;a href="https://github.com/yunionio/sdnagen/commit/9263c95e624890f1ca2817c3e85902d276658ddc">9263c95&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>separate artifact and docker image build (&lt;a href="https://github.com/yunionio/sdnagen/commit/c5cae93f876c190689a9dad65ac44e9ce7bc5e54">c5cae93&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>docker: use openvswitch 2.10.4-0 as base (&lt;a href="https://github.com/yunionio/sdnagen/commit/86e8bc15da693fb3a8c36c1edf648b7396444771">86e8bc1&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>add example ansible playbook for ha deployment (&lt;a href="https://github.com/yunionio/sdnagen/commit/124d8ea8278963b0d3968a0960f178014014e352">124d8ea&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>Makefile: add mod target (&lt;a href="https://github.com/yunionio/sdnagen/commit/a4ced7ebf30076b606211715ec3ba63f9543889a">a4ced7e&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>remove python2 dependency (&lt;a href="https://github.com/yunionio/sdnagen/commit/0d0b7b4f0993cf6004aae0f75930ef5233cbd55a">0d0b7b4&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>build binaries parallelly (&lt;a href="https://github.com/yunionio/sdnagen/commit/6239ea35b69cd49c1df45c851918b8f7231dc22f">6239ea3&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="hostconfig-3">Hostconfig (3)&lt;/h3>
&lt;ul>
&lt;li>add GetOverlayMTU() (&lt;a href="https://github.com/yunionio/sdnagen/commit/1d2f96a255632c0d2112325ca7a877ad9027f313">1d2f96a&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>add option ovn_mapped_bridge (&lt;a href="https://github.com/yunionio/sdnagen/commit/3e4fa3246f9ae02cb06d14d08ddc142bc04e7122">3e4fa32&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>import auth info (&lt;a href="https://github.com/yunionio/sdnagen/commit/02f5657d1bf0e80390d1e7db3426c8cc3eacce0b">02f5657&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="owners-1">OWNERS (1)&lt;/h3>
&lt;ul>
&lt;li>add wanyaoqi (&lt;a href="https://github.com/yunionio/sdnagen/commit/89aacb76e2c391329fdcdf3de42d39e51f58f229">89aacb7&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="others-1">Others (1)&lt;/h3>
&lt;ul>
&lt;li>go.mod: vendoring onecloud v0.0.0-20200603092502-73bcfb4bb731 (&lt;a href="https://github.com/yunionio/sdnagen/commit/a6dfd5bc1912c12b38d46364dba4515ce78044d5">a6dfd5b&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="ovn-1">Ovn (1)&lt;/h3>
&lt;ul>
&lt;li>use yunion.io/x/onecloud/pkg/vpcagent/ovn/mac (&lt;a href="https://github.com/yunionio/sdnagen/commit/8c2d6cdf92d37a68f2560130b7031400f2cb7a5e">8c2d6cd&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="utils-2">Utils (2)&lt;/h3>
&lt;ul>
&lt;li>add Empty (&lt;a href="https://github.com/yunionio/sdnagen/commit/f3e1069a9950ac295d0c4913b9e88dafe4961518">f3e1069&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>guest: reset VpcNICs on LoadDesc (&lt;a href="https://github.com/yunionio/sdnagen/commit/44598a7b341702641f07b17b10bb7fcaaee5b459">44598a7&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="vendor-3">Vendor (3)&lt;/h3>
&lt;ul>
&lt;li>use tip of onecloud release 3.2 (&lt;a href="https://github.com/yunionio/sdnagen/commit/3cef7d302d92c75f41dcae4a4952013a57706cef">3cef7d3&lt;/a>, &lt;a href="mailto:zhouyousong@yunionyun.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>update yunion.io/x/onecloud (&lt;a href="https://github.com/yunionio/sdnagen/commit/dd77171ecb6c9b333b470d5b5a6f657d682631bb">dd77171&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;li>go mod vendor (&lt;a href="https://github.com/yunionio/sdnagen/commit/6af0f56609071518abb6e671d7a0099aa43effd8">6af0f56&lt;/a>, &lt;a href="mailto:yszhou4tech@gmail.com">Yousong Zhou&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: 介绍</title><link>https://www.cloudpods.org/v3.4/docs/howto/baremetal/intro/</link><pubDate>Fri, 19 Jul 2019 20:28:13 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/howto/baremetal/intro/</guid><description>
&lt;h2 id="功能介绍">功能介绍&lt;/h2>
&lt;p>云平台支持 Baremetal(物理机) 管理，提供的功能如下:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>自动化上架: 物理机上架加电启动后，自动注册到云管平台，自动分配BMC IP地址，初始化IPMI账号密码，自动上报物理机硬件配置（CPU、内存、序列号、网卡、磁盘等）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>自动化装机: 根据配置要求自动配置 RAID，自动分区格式化磁盘，自动部署操作系统镜像，自动初始化操作系统账号密码，自动分配IP地址，可以植入配置文件&lt;/p>
&lt;/li>
&lt;li>
&lt;p>生命周期管理: 支持物理机自动化开机，关机，重装系统，远程带外管理，卸载操作系统等操作&lt;/p>
&lt;/li>
&lt;li>
&lt;p>与虚拟机共享镜像: 使用虚拟机镜像部署物理机，便于虚拟机和物理机统一操作系统运行环境&lt;/p>
&lt;/li>
&lt;li>
&lt;p>API 支持: 以上操作均支持API操作，便于与其他系统的自动化流程集成&lt;/p>
&lt;/li>
&lt;li>
&lt;p>服务器型号支持: 支持Dell、HP、华为、浪潮、联想、超微等主流x86服务器厂商和机型&lt;/p>
&lt;/li>
&lt;li>
&lt;p>RAID 控制器支持: LSI MegaRaid, HP Smart Array, LSI MPT2SAS, LSI MPT3SAS, Mrarvell RAID等&lt;/p>
&lt;/li>
&lt;li>
&lt;p>转换为宿主机: 直接将物理机转换为运行虚拟机的宿主机&lt;/p>
&lt;/li>
&lt;li>
&lt;p>托管已有服务器： 托管已有并装好系统的物理机&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="服务架构">服务架构&lt;/h2>
&lt;p>物理机管理服务架构如下:&lt;/p>
&lt;p>&lt;img src="../images/baremetal-arch.png" alt="物理机管理架构">&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Baremetal &amp;lt;-&amp;gt; DHCP Relay： 处理 PXE 网络启动&lt;/p>
&lt;/li>
&lt;li>
&lt;p>DHCP Relay &amp;lt;-&amp;gt; Baremetal Agent:&lt;/p>
&lt;ul>
&lt;li>转发 PXE Boot 请求，获取网络启动相关的信息&lt;/li>
&lt;li>通过 DHCP 和 TFTP 服务下发 PXE 配置
&lt;ul>
&lt;li>云平台定制的&lt;a href="https://github.com/yunionio/yunionos">网络启动小系统(yunionos)&lt;/a> kernel 和 initramfs: 运行 SSH 服务，制作 RAID，收集硬件信息等&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Baremetal Agent &amp;lt;-&amp;gt; Region Server:&lt;/p>
&lt;ul>
&lt;li>通过 Region Server 注册物理机记录&lt;/li>
&lt;li>获取网络 IP 地址&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Baremetal Agent &amp;lt;-&amp;gt; Baremetal:&lt;/p>
&lt;ul>
&lt;li>Baremetal 通知 Agent SSH 相关的登录信息&lt;/li>
&lt;li>Agent 通过 SSH 配置 Baremetal 的 IPMI&lt;/li>
&lt;li>Agent 通过 IPMI 控制 Baremetal 开关机等操作&lt;/li>
&lt;li>Agent 通过 SSH 执行做 RAID，装机，销毁等操作&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Glance Server -&amp;gt; Baremetal: Baremetal 从 Glance server 下载装机镜像&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在交换机上开启 DHCP Relay 功能(或者使用 DHCP Relay软件)，relay 指向 Baremetal Agent&lt;/p>
&lt;ul>
&lt;li>物理机上架通电后，设置 PXE 网络启动，DHCP Relay 会将 PXE Boot 请求转发到 Baremetal Agent，Baremetal Agent 收到 PXE Boot 请求，向 Region Server 注册物理机记录&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="技术细节">技术细节&lt;/h2>
&lt;h3 id="注册物理机">注册物理机&lt;/h3>
&lt;p>注册物理机有自动注册和手动注册两种方式，如果 Baremetal Agent 开启了自动注册功能，就会自动在云平台创建 baremetal 记录；如果为手动注册方式，就需要先调用物理机创建接口把对应的 PXE 网卡对应的 MAC 地址注册到平台。&lt;/p>
&lt;p>注册的流程如下:&lt;/p>
&lt;ol>
&lt;li>物理机 PXE 启动时会发送 DHCP PXE boot 的请求，通过 DHCP Relay 请求会到 Baremetal Agent;&lt;/li>
&lt;li>Baremetal Agent 从 DHCP 请求中取出网卡 MAC 地址，拿 MAC 地址向 Region Server 过滤物理机记录;&lt;/li>
&lt;li>Region Server 告诉 Baremetal Agent 改 MAC 地址没有物理机，Baremetal Agent 就会新建记录，并从 Region Server 获取分配对应网段的 IP 地址, 通过内置 DHCP 服务回包给物理机;&lt;/li>
&lt;li>物理机 PXE DHCP 请求获得分配的 IP 地址后，会通过 TFTP 从 Baremetal Agent 下载启动引导文件(kernel 和 initramfs)，然后使用 ramdisk 机制进入我们定制的 initramfs 小系统;&lt;/li>
&lt;li>initramfs 小系统启动后，会启动 sshd 服务，然后修改 root 用户密码，将这些登录信息通知回 Baremetal Agent;&lt;/li>
&lt;li>Baremetal Agent 收到通知后，记录 ssh 登录的信息，开始进行准备工作;&lt;/li>
&lt;li>准备工作包括配置 IPMI，收集硬件信息等，当这些操作完成后，将所有信息上报给 Region Server 完成注册&lt;/li>
&lt;/ol>
&lt;h3 id="yunionos-网络启动小系统">yunionos 网络启动小系统&lt;/h3>
&lt;p>yunionos(&lt;a href="https://github.com/yunionio/yunionos">https://github.com/yunionio/yunionos&lt;/a>) 是我们使用 &lt;a href="https://buildroot.org/">Buildroot&lt;/a> 工具定制的用于 PXE 启动和管理物理机的小型 Linux 系统，作用如下:&lt;/p>
&lt;ol>
&lt;li>运行 sshd 服务，提供 Baremetal Agent 远程执行命令&lt;/li>
&lt;li>包含 LSI MegaRaid, HP Smart Array, LSI MPT2SAS, LSI MPT3SAS, Mrarvell RAID等驱动和工具，用于制作 RAID&lt;/li>
&lt;li>包含 ipmitool 和相关 driver，用于配置和调用 IPMI BMC 管理物理机&lt;/li>
&lt;li>包含 qemu-img, sgdisk, parted 等磁盘分区工具，用于创建操作系统&lt;/li>
&lt;/ol>
&lt;h3 id="ssh-管理">SSH 管理&lt;/h3>
&lt;p>当物理机通过 PXE 进入 yunionos 小系统后会启动 sshd 服务，并将 ssh login 信息通知给 Baremetal Agent，Baremetal Agent 会更新 ssh 相关的登录信息&lt;/p>
&lt;h3 id="raid-配置">RAID 配置&lt;/h3>
&lt;p>RAID 配置由 Baremetal Agent 根据用户的配置，生成 raid 配置命令，通过 ssh 远程控制 yunionos 在物理机上制作 RAID&lt;/p>
&lt;h3 id="安装操作系统">安装操作系统&lt;/h3>
&lt;p>RAID 做完后，Baremetal Agent 会通过 ssh 远程控制 yunionos 安装操作系统和分区，流程如下:&lt;/p>
&lt;ol>
&lt;li>调用 &lt;a href="https://github.com/yunionio/yunionos/blob/master/src/lib/mos/rootcreate.sh">/lib/mos/rootcreate.sh&lt;/a> 将系统创建到磁盘:&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>通过 wget 从 Glance Server 下载用户指定的 image 镜像&lt;/li>
&lt;li>通过 qemu-img convert 命名将 image 写入到磁盘&lt;/li>
&lt;/ul>
&lt;ol start="2">
&lt;li>创建好系统后，会根据用户的配置将系统盘 resize 分区&lt;/li>
&lt;li>创建其它分区并格式化&lt;/li>
&lt;li>Baremetal Agent 进行一些网络，磁盘配置的设置：比如 bonding，ip 设置, /etc/fstab, 改变 hostname 等&lt;/li>
&lt;/ol>
&lt;h3 id="开关机">开关机&lt;/h3>
&lt;p>注册好的的物理机会配置好 IPMI, IPMI 相关的信息会记录在数据库，Baremetal Agent 通过 ipmitool 控制开关机&lt;/p>
&lt;h3 id="重装操作系统">重装操作系统&lt;/h3>
&lt;p>类似于安装操作系统，流程上会让安装了操作系统的物理机重新进入 yunionos 小系统，然后重新安装操作系统&lt;/p>
&lt;h3 id="远程访问">远程访问&lt;/h3>
&lt;p>Baremetal Agent 通过 ipmitool sol 接口提供串口控制界面&lt;/p>
&lt;h3 id="删除操作系统">删除操作系统&lt;/h3>
&lt;p>对正在运行操作系统的物理机重启进入 PXE 网络启动，进入 yunionos 小系统，调用 &lt;a href="https://github.com/yunionio/yunionos/blob/master/src/lib/mos/partdestroy.sh">/lib/mos/partdestory.sh&lt;/a> 销毁磁盘分区和相应的 raid 命令销毁 raid 配置&lt;/p></description></item><item><title>Docs: KVM 宿主机</title><link>https://www.cloudpods.org/v3.4/docs/howto/host/kvm/</link><pubDate>Fri, 19 Jul 2019 20:00:14 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/howto/host/kvm/</guid><description>
&lt;p>云联壹云 原生提供基于 kvm 的私有云虚拟机管理功能，运行 kvm 虚拟机的机器叫做宿主机，这种宿主机也叫作 &amp;ldquo;计算节点&amp;rdquo;，上面会运行管理虚拟机、网络和存储的一系列服务，如何部署并上线宿主机请参考: &lt;a href="https://www.cloudpods.org/v3.4/docs/setup/host/">安装部署/计算节点&lt;/a>。&lt;/p>
&lt;h2 id="宿主机操作">宿主机操作&lt;/h2>
&lt;h3 id="查询">查询&lt;/h3>
&lt;p>通过 &lt;code>host-list&lt;/code> 查询宿主机列表，&lt;code>host-show&lt;/code> 查询宿主机详情。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 查询 kvm 这种类型的宿主机&lt;/span>
$ climc host-list --hypervisor kvm
&lt;span style="color:#8f5902;font-style:italic"># 查询被禁用的 kvm 宿主机&lt;/span>
$ climc host-list --hypervisor kvm --disabled
&lt;span style="color:#8f5902;font-style:italic"># 查询启用的 kvm 宿主机&lt;/span>
$ climc host-list --hypervisor kvm --enabled
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="启用">启用&lt;/h3>
&lt;p>kvm 宿主机上线后，默认是禁用的状态，需要启用才能创建虚拟机。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 找到禁用的宿主机&lt;/span>
$ climc host-list --disabled
&lt;span style="color:#8f5902;font-style:italic"># 启用&lt;/span>
$ climc host-enable &amp;lt;host_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="禁用">禁用&lt;/h3>
&lt;p>如果完全不想让宿主机创建虚拟机，可以禁用它。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ climc host-disable &amp;lt;host_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="host-服务启动失败或者页面有-warning-如何处理">host 服务启动失败或者页面有 warning 如何处理&lt;/h3>
&lt;h4 id="禁用-dhcp-服务">禁用 dhcp 服务&lt;/h4>
&lt;p>如果你看到了这样的提示：&lt;code>dhcp: dhcp client is enabled before host agent start, please disable it.&lt;/code>&lt;/p>
&lt;p>说明你的机器之前启用过dhcp client.&lt;/p>
&lt;p>如何禁用 dhcp client：&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 一般 centos7 的 dhcp client 都是由 NetworkManager 启动的&lt;/span>
$ systemctl disable NetworkManager --now
&lt;span style="color:#8f5902;font-style:italic"># 我们会检查 /var/run/dhclient-&amp;lt;nic&amp;gt;.pid 下是否有dhclient的pid文件来决定是否要输出 warning&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 所以同时你需要清除 /var/run 下的 dhclient-&amp;lt;nic&amp;gt;.pid 文件, nic 需要替换成自己的网卡名，如 eth0&lt;/span>
$ rm -f /var/run/dhclient-&amp;lt;nic&amp;gt;.pid
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="内核模块不匹配">内核模块不匹配&lt;/h4>
&lt;p>使用我们的平台的 host 服务需要用我们的内核，如果你看到了这样的提示：&lt;/p>
&lt;p>&lt;code>openvswitch: kernel module openvswitch paramters version not found, is kernel version correct ??&lt;/code>&lt;/p>
&lt;p>或者 &lt;code>uname -r&lt;/code> 输出结果中字段不包含 yn. 正确的：&lt;code>3.10.0-514.26.2.el7.yn20180608.x86_64&lt;/code>&lt;/p>
&lt;p>说明你的机器使用的不是我们的内核， 需要安装我们的内核然后重启。&lt;/p>
&lt;p>如何安装我们的内核可以参考&lt;a href="https://www.cloudpods.org/v3.4/docs/setup/host/#%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96">安装部署流程&lt;/a>&lt;/p></description></item><item><title>Docs: 上传镜像</title><link>https://www.cloudpods.org/v3.4/docs/howto/image/upload/</link><pubDate>Fri, 19 Jul 2019 11:34:14 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/howto/image/upload/</guid><description>
&lt;h2 id="获取镜像">获取镜像&lt;/h2>
&lt;p>上传镜像之前需要先获取镜像，途径有多种，比如从发行版官网下载用于云平台的镜像，或者自己制作。&lt;/p>
&lt;h3 id="发行版镜像">发行版镜像&lt;/h3>
&lt;p>根据自己对发行版的需要下载发行版镜像，常用的 Linux 发行版会提供云平台虚拟机使用的镜像，地址如下:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://cloud.centos.org/centos/7/images/">centos&lt;/a>: &lt;a href="http://cloud.centos.org/centos/7/images/">http://cloud.centos.org/centos/7/images/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://cloud-images.ubuntu.com/">ubuntu&lt;/a>: &lt;a href="https://cloud-images.ubuntu.com/">https://cloud-images.ubuntu.com/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="制作镜像">制作镜像&lt;/h3>
&lt;p>参考: &lt;a href="../create/">制作镜像&lt;/a>&lt;/p>
&lt;h2 id="上传">上传&lt;/h2>
&lt;p>下载或者制作完镜像后，使用 &lt;code>climc image-upload&lt;/code> 上传到云平台的 glance 服务，下面以下载 CentOS 提供的 CentOS-7-x86_64-GenericCloud-1711 举例:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 下载 CentOS-7-x86_64-GenericCloud-1711.qcow2 &lt;/span>
$ wget http://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud-1711.qcow2
&lt;span style="color:#8f5902;font-style:italic"># 上传镜像到云平台并名为 CentOS-7-x86_64-GenericCloud-1711.qcow2&lt;/span>
$ climc image-upload --format qcow2 --os-type Linux --os-arch x86_64 --standard CentOS-7-x86_64-GenericCloud-1711.qcow2 ./CentOS-7-x86_64-GenericCloud-1711.qcow2
&lt;/code>&lt;/pre>&lt;/div>&lt;p>上传时间长短取决于网络环境和镜像大小，上传完成后需要查询镜像的状态，当状态变为 &amp;lsquo;active&amp;rsquo; 时，就可以拿来使用了。( 更多的关于镜像的查询参考: &lt;a href="../query/">镜像查询&lt;/a> )&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ climc image-show CentOS-7-x86_64-GenericCloud-1711.qcow2 &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep status
&lt;span style="color:#000;font-weight:bold">|&lt;/span> status &lt;span style="color:#000;font-weight:bold">|&lt;/span> active &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="上传参数">上传参数&lt;/h2>
&lt;p>使用 &lt;code>climc help image-upload&lt;/code> 获取各个参数解释。&lt;/p></description></item><item><title>Docs: All in One 安装</title><link>https://www.cloudpods.org/v3.4/docs/quickstart/allinone/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/quickstart/allinone/</guid><description>
&lt;h2 id="前提">前提&lt;/h2>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">注意&lt;/h4>
本章内容是通过部署工具快速搭建 云联壹云 服务，如果想了解部署的细节或者部署高可用环境请参考: &lt;a href="https://www.cloudpods.org/v3.4/docs/setup/">安装部署&lt;/a> 。
&lt;/div>
&lt;h2 id="环境准备">环境准备&lt;/h2>
&lt;p>云联壹云 相关的组件运行在 kubernetes 之上。&lt;/p>
&lt;h3 id="服务器配置要求">服务器配置要求&lt;/h3>
&lt;ul>
&lt;li>操作系统: CentOS 7.6&lt;/li>
&lt;li>最低配置要求: CPU 4核, 内存 8G, 存储 100G&lt;/li>
&lt;/ul>
&lt;p>以下为待部署机器的环境:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">IP&lt;/th>
&lt;th style="text-align:center">登录用户&lt;/th>
&lt;th style="text-align:center">操作系统&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">10.168.26.216&lt;/td>
&lt;td style="text-align:center">root&lt;/td>
&lt;td style="text-align:center">CentOS 7.6&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">提示&lt;/h4>
&lt;blockquote>
&lt;p>10.168.26.216 是本次测试环境 ip，请根据自己的环境做相应修改。&lt;/p>
&lt;/blockquote>
&lt;/div>
&lt;h3 id="云联壹云相关软件依赖">云联壹云相关软件依赖&lt;/h3>
&lt;ul>
&lt;li>数据库: mariadb Ver 15.1 Distrib 5.5.56-MariaDB&lt;/li>
&lt;li>docker: ce-19.03.9&lt;/li>
&lt;li>kubernetes: v1.15.8&lt;/li>
&lt;/ul>
&lt;h3 id="本地环境配置要求">本地环境配置要求&lt;/h3>
&lt;p>本地环境即用户进行实际操作部署的环境。本次测试的本地环境为MAC操作系统的笔记本，也可在待部署机器上进行操作。&lt;/p>
&lt;ul>
&lt;li>ssh: 开启 ssh 免密登录&lt;/li>
&lt;li>本地环境安装部署 ansbile，Windows操作系统不支持安装 ansible&lt;/li>
&lt;/ul>
&lt;h4 id="配置-ssh-免密登录">配置 ssh 免密登录&lt;/h4>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 生成本机的 ssh 秘钥 (如果本地已有 ~/.ssh/id_rsa.pub 则跳过此步骤)&lt;/span>
$ ssh-keygen
&lt;span style="color:#8f5902;font-style:italic"># 将生成的 ~/.ssh/id_rsa.pub 公钥拷贝到待部署机器&lt;/span>
$ ssh-copy-id -i ~/.ssh/id_rsa.pub root@10.168.26.216
&lt;span style="color:#8f5902;font-style:italic"># 尝试免密登录待部署机器，应该不需要输入登录密码即可拿到部署机器的 hostname&lt;/span>
$ ssh root@10.168.26.216 &lt;span style="color:#4e9a06">&amp;#34;hostname&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="开始部署">开始部署&lt;/h2>
&lt;p>部署的工具是 &lt;a href="https://github.com/yunionio/ocboot">https://github.com/yunionio/ocboot&lt;/a> , 然后根据需要部署机器的配置， 利用 ansbile 远程登录到待部署的机器安装配置 云联壹云 服务，以下操作都在本地环境上进行操作。操作步骤如下:&lt;/p>
&lt;h3 id="下载-ocboot">下载 ocboot&lt;/h3>
&lt;ul class="nav nav-tabs" id="ocboot_install" role="tablist">&lt;li class="nav-item">&lt;a data-toggle="tab" class="nav-link active" href="#ocboot_install-0" role="tab" aria-controls="ocboot_install-0" aria-selected="true">CentOS 7&lt;/a>&lt;/li>
&lt;li class="nav-item">&lt;a data-toggle="tab" class="nav-link" href="#ocboot_install-1" role="tab" aria-controls="ocboot_install-1">其它操作系统&lt;/a>&lt;/li>&lt;/ul>
&lt;div class="tab-content" id="ocboot_install">&lt;div id="ocboot_install-0" class="tab-pane show active" role="tabpanel" aria-labelledby="ocboot_install-0">
&lt;p>&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 本地安装 ansible&lt;/span>
$ yum install -y epel-release ansible
&lt;span style="color:#8f5902;font-style:italic"># 下载 ocboot 工具到本地&lt;/span>
$ git clone -b release/3.6 https://github.com/yunionio/ocboot &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#204a87">cd&lt;/span> ./ocboot
&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;div id="ocboot_install-1" class="tab-pane" role="tabpanel" aria-labelledby="ocboot_install-1">
&lt;p>&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 本地安装 ansible&lt;/span>
$ pip install ansible
&lt;span style="color:#8f5902;font-style:italic"># 下载 ocboot 工具到本地&lt;/span>
$ git clone -b release/3.4 https://github.com/yunionio/ocboot &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#204a87">cd&lt;/span> ./ocboot
&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;/div>
&lt;h3 id="编写部署配置">编写部署配置&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 编写 config-allinone.yml 文件&lt;/span>
$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt;./config-allinone.yml
&lt;/span>&lt;span style="color:#4e9a06"># mariadb_node 表示需要部署 mariadb 服务的节点
&lt;/span>&lt;span style="color:#4e9a06">mariadb_node:
&lt;/span>&lt;span style="color:#4e9a06"> # 待部署节点 ip
&lt;/span>&lt;span style="color:#4e9a06"> hostname: 10.168.26.216
&lt;/span>&lt;span style="color:#4e9a06"> # 待部署节点登录用户
&lt;/span>&lt;span style="color:#4e9a06"> user: root
&lt;/span>&lt;span style="color:#4e9a06"> # mariadb 的用户
&lt;/span>&lt;span style="color:#4e9a06"> db_user: root
&lt;/span>&lt;span style="color:#4e9a06"> # mariadb 用户密码
&lt;/span>&lt;span style="color:#4e9a06"> db_password: your-sql-password
&lt;/span>&lt;span style="color:#4e9a06"># primary_master_node 表示运行 k8s 和 云联壹云 服务的节点
&lt;/span>&lt;span style="color:#4e9a06">primary_master_node:
&lt;/span>&lt;span style="color:#4e9a06"> hostname: 10.168.26.216
&lt;/span>&lt;span style="color:#4e9a06"> user: root
&lt;/span>&lt;span style="color:#4e9a06"> # 数据库连接地址
&lt;/span>&lt;span style="color:#4e9a06"> db_host: 10.168.26.216
&lt;/span>&lt;span style="color:#4e9a06"> # 数据库用户
&lt;/span>&lt;span style="color:#4e9a06"> db_user: root
&lt;/span>&lt;span style="color:#4e9a06"> # 数据库密码
&lt;/span>&lt;span style="color:#4e9a06"> db_password: your-sql-password
&lt;/span>&lt;span style="color:#4e9a06"> # k8s 控制节点的 ip
&lt;/span>&lt;span style="color:#4e9a06"> controlplane_host: 10.168.26.216
&lt;/span>&lt;span style="color:#4e9a06"> # k8s 控制节点的端口
&lt;/span>&lt;span style="color:#4e9a06"> controlplane_port: &amp;#34;6443&amp;#34;
&lt;/span>&lt;span style="color:#4e9a06"> # 云联壹云 登录用户
&lt;/span>&lt;span style="color:#4e9a06"> onecloud_user: admin
&lt;/span>&lt;span style="color:#4e9a06"> # 云联壹云 登录用户密码
&lt;/span>&lt;span style="color:#4e9a06"> onecloud_user_password: admin@123
&lt;/span>&lt;span style="color:#4e9a06"> # 该节点作为 云联壹云 私有云计算节点
&lt;/span>&lt;span style="color:#4e9a06"> as_host: true
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="开始部署-1">开始部署&lt;/h3>
&lt;p>当填写完 config-allinone.yml 部署配置文件后，便可以执行 ocboot 里面的 &lt;code>./run.py ./config-allinone.yml&lt;/code> 部署集群了。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 开始部署&lt;/span>
$ ./run.py ./config-allinone.yml
....
&lt;span style="color:#8f5902;font-style:italic"># 部署完成后会有如下输出，表示运行成功&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 浏览器打开 https://10.168.26.216&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 使用 admin/admin@123 用户密码登录就能访问前端界面&lt;/span>
Initialized successfully!
Web page: https://10.168.26.216
User: admin
Password: admin@123
&lt;/code>&lt;/pre>&lt;/div>&lt;p>然后用浏览器访问 https://10.168.26.216 ，用户名输入 &lt;code>admin&lt;/code>，密码输入 &lt;code>admin@123&lt;/code> 就会进入 云联壹云 的界面。&lt;/p>
&lt;p>&lt;img src="../images/index.png" alt="登录页">&lt;/p>
&lt;h2 id="faq">FAQ&lt;/h2>
&lt;h3 id="1-在-all-in-one-中找不到虚拟机界面">1. 在 All in One 中找不到虚拟机界面？&lt;/h3>
&lt;p>All in One 部署的节点会部署 云联壹云 host 计算服务，作为宿主机，具有创建和管理私有云虚拟机的能力。没有虚拟机界面应该是 云联壹云 环境中没有启用宿主机。&lt;/p>
&lt;p>请到 &lt;code>管理后台&lt;/code> 界面，点击 &lt;code>主机/基础资源/宿主机&lt;/code> 查看宿主机列表，启用相应的宿主机，刷新界面就会出现虚拟机界面。&lt;/p>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">注意&lt;/h4>
&lt;p>如果要使用 云联壹云 私有云虚拟机，需要宿主机使用 云联壹云 编译的内核，可使用以下命令查看宿主机是否使用 云联壹云 内核(包含 yn 关键字)。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 查看是否使用 yn 内核&lt;/span>
$ uname -a &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep yn
Linux office-controller 3.10.0-1062.4.3.el7.yn20191203.x86_64
&lt;span style="color:#8f5902;font-style:italic"># 如果内核不是带有 yn 关键字的版本，可能是第一次使用 ocboot 安装，重启即可进入 yn 内核&lt;/span>
$ reboot
&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;p>&lt;img src="../images/host.png" alt="宿主机">&lt;/p>
&lt;h3 id="2-如何导入公有云或者其它私有云平台资源">2. 如何导入公有云或者其它私有云平台资源？&lt;/h3>
&lt;p>在 &lt;code>多云管理&lt;/code> 菜单，选择 &lt;code>云账号&lt;/code> 并新建，根据自己的需求填写对应云平台的认证信息，配置完云账号后 云联壹云 服务就会同步相应云平台的资源，同步完成后即可在前端查看。&lt;/p>
&lt;p>&lt;img src="../images/cloudaccount.png" alt="多云管理">&lt;/p>
&lt;h3 id="3-修改节点的-hostname-有些服务启动失败">3. 修改节点的 hostname ，有些服务启动失败&lt;/h3>
&lt;p>k8s 管理节点，依赖于 hostname，请改回去。&lt;/p>
&lt;h3 id="4-如何重装">4. 如何重装&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>重新运行 ocboot 的脚本&lt;/p>
&lt;/li>
&lt;li>
&lt;p>等待运行完毕，使用&lt;code>kubectl edit deployment onecloud-operator -n onecloud&lt;/code>加入下列参数，然后保存关闭。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="../images/oo_syncuser.png" alt="">&lt;/p>
&lt;ol start="3">
&lt;li>第2步的修改，会影响 onecloud-operator 的性能，所以等所有服务启动，可以将第2步的参数恢复。&lt;/li>
&lt;/ol>
&lt;h3 id="5-其它问题">5. 其它问题？&lt;/h3>
&lt;p>其它问题欢迎在 云联壹云 github issues 界面提交: &lt;a href="https://github.com/yunionio/onecloud/issues">https://github.com/yunionio/onecloud/issues&lt;/a> , 我们会尽快回复。&lt;/p></description></item><item><title>Docs: MiniKube 安装</title><link>https://www.cloudpods.org/v3.4/docs/quickstart/minikube/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/quickstart/minikube/</guid><description>
&lt;h2 id="前提">前提&lt;/h2>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">注意&lt;/h4>
&lt;p>本章内容是方便快速体验云联壹云, 通过 MiniKube 快速搭建云联壹云服务，无法在生产环境使用，也无法验证云联内置私有云相关功能(因为内置私有云需要节点上面安装配置 qemu, openvswitch 等各种虚拟化软件)。&lt;/p>
&lt;p>仅适用于多云管理功能的体验，比如管理 VMware, 公有云(aws, 阿里云, 腾讯云等)或者其它私有云(zstack, openstack 等)。&lt;/p>
&lt;p>如果想部署生产可用的环境请参考: &lt;a href="https://www.cloudpods.org/v3.4/docs/setup/">安装部署&lt;/a> 。&lt;/p>
&lt;/div>
&lt;h2 id="环境准备">环境准备&lt;/h2>
&lt;p>云联壹云 相关的组件运行在 MiniKube 之上，环境以及相关的软件依赖如下:&lt;/p>
&lt;ul>
&lt;li>操作系统: CentOS 7.6&lt;/li>
&lt;li>最低配置要求: CPU 4核, 内存 8G, 存储 100G&lt;/li>
&lt;/ul>
&lt;h2 id="部署">部署&lt;/h2>
&lt;h3 id="启动-minikube-集群">启动 minikube 集群&lt;/h3>
&lt;p>下载 minikue/kubectl, 并启动 minikube 集群, 具体请参考： &lt;a href="https://kubernetes.io/docs/tasks/tools/install-minikube/">https://kubernetes.io/docs/tasks/tools/install-minikube/&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 配置 minikube&lt;/span>
$ minikube config -p onecloud &lt;span style="color:#204a87">set&lt;/span> memory &lt;span style="color:#0000cf;font-weight:bold">8192&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 启动 kubernetes 集群, 并且从 aliyun 拉取镜像，这样速度会快一点&lt;/span>
$ minikube start -p onecloud --image-repository&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>registry.aliyuncs.com/google_containers
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="部署云联壹云-onecloud-operator">部署云联壹云 onecloud operator&lt;/h3>
&lt;p>云联壹云 k8s operator地址： &lt;a href="https://github.com/yunionio/onecloud-operator">https://github.com/yunionio/onecloud-operator&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 下载 onecloud-operator 的 yaml 文件&lt;/span>
$ wget https://raw.githubusercontent.com/yunionio/onecloud-operator/master/manifests/onecloud-operator.yaml
&lt;span style="color:#8f5902;font-style:italic"># 部署 onecloud-operator 到集群&lt;/span>
$ kubectl apply -f onecloud-operator.yaml
&lt;span style="color:#8f5902;font-style:italic"># 将 kubernetes node 打上 onecloud.yunion.io/controller=enable 标签&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 如果不打标签，operator 服务就不会把对应的后端服务调度到这个节点&lt;/span>
$ kubectl get nodes
NAME STATUS ROLES AGE VERSION
onecloud Ready master 20m v1.15.9-beta.0
&lt;span style="color:#8f5902;font-style:italic"># 加上标签，这个 node 就可以运行 onecloud 相关服务&lt;/span>
$ kubectl label nodes onecloud onecloud.yunion.io/controller&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">enable&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 这里需要等待 onecloud-operator 的 pod 状态变为 Running&lt;/span>
$ kubectl get pods -n onecloud
NAME READY STATUS RESTARTS AGE
onecloud-operator-7fd65d6489-kwdkr 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 5m2s
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="部署云联壹云服务">部署云联壹云服务&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 下载 onecloud cluster 的 yaml 文件&lt;/span>
$ wget https://raw.githubusercontent.com/yunionio/onecloud-operator/master/manifests/example-onecloud-cluster.yaml -O onecloud-cluster.yaml
&lt;span style="color:#8f5902;font-style:italic"># 部署云联壹云服务&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 将 onecloud-cluster.yaml 部署到 kubernetes 集群&lt;/span>
$ kubectl apply -f onecloud-cluster.yaml
&lt;span style="color:#8f5902;font-style:italic"># 等待 onecloud 相关服务启动，这个过程会拉取各个服务的镜像，配置服务&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 需要等待几分钟让所有服务状态变为 Running&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 可以多次使用下面的命令查看 pods 状态&lt;/span>
$ kubectl get pods -n onecloud
NAME READY STATUS RESTARTS AGE
default-ansibleserver-6955fb8d66-gb8w7 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m57s
default-apigateway-57f78c9cfb-8xvgw 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m54s
default-autoupdate-5f8bf779dd-6drtb 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m41s
default-climc-6c49f88df9-s4f5g 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m45s
default-cloudevent-6775bf8d66-bppcv 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m39s
default-cloudid-7798948bc8-blkxw 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m30s
default-cloudnet-55fd8ff98b-2gnm4 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m36s
default-devtool-7db6b87cf9-bvxsm 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m32s
default-esxi-agent-bb555858c-ft6dz 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m50s
default-etcd-dvfcg6jfjp 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 11m
default-glance-86d99c66-7v4lg 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 9m1s
&lt;span style="color:#8f5902;font-style:italic"># 这里注意下，如果 host-deployer 一直为 ContainerCreating 的状态，可以先忽略，不影响使用&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 因为是 minikube 部署的，没有注入一些默认的配置，这个问题以后会解决&lt;/span>
default-host-deployer-vmkxm 0/1 ContainerCreating &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m17s
default-influxdb-69dcbdb4c-l4lp9 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m44s
default-keystone-78f45cc8db-xstk2 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 9m48s
default-logger-5576dbc7f4-8mdl4 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m35s
default-monitor-64d9c65b7b-4wf8t 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m33s
default-notify-59cc65d479-hccs8 11/11 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m38s
default-onecloud-service-operator-584989c746-8ndvf 2/2 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m31s
default-ovn-north-866c9fbc6f-87wkg 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m49s
default-region-5bc599845-nb882 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 9m36s
default-region-dns-hdj5k 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m55s
default-s3gateway-69b9c5b56c-hb64l 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m32s
default-scheduler-57c66964b7-qh9f2 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 9m1s
default-telegraf-f7rvx 2/2 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m27s
default-vpcagent-8ff58c47d-5b4j8 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m41s
default-web-79df8f97b9-c6lgm 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m52s
default-webconsole-79cc5cfb9-xd9tk 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m36s
default-yunionconf-5f79b9655f-trmls 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 8m37s
mysql-7d4f67979b-8gl4g 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 11m
onecloud-operator-69bf9fb476-dsw6d 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 13m
&lt;/code>&lt;/pre>&lt;/div>&lt;p>也可打开 kubernetes dashboard 确认相关服务正常启动完成。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 启用 kubernetes dashboard&lt;/span>
$ minikube dashboard -p onecloud
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="创建账号登录-web-ui">创建账号登录 Web UI&lt;/h3>
&lt;ul>
&lt;li>创建账号: 部署完成后，需要使用我们的命令行工具 climc 创建帐号&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 进入 climc 容器&lt;/span>
$ kubectl &lt;span style="color:#204a87">exec&lt;/span> -n onecloud &lt;span style="color:#4e9a06">`&lt;/span>kubectl -n onecloud get pods &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep &lt;span style="color:#4e9a06">&amp;#34;default-climc&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">|&lt;/span> cut -f1 -d&lt;span style="color:#4e9a06">&amp;#34; &amp;#34;&lt;/span>&lt;span style="color:#4e9a06">`&lt;/span> -c climc -i -t -- /bin/bash -il
&lt;span style="color:#8f5902;font-style:italic"># 创建用户 demo , 密码为 demo123A 的管理员&lt;/span>
$ /opt/yunion/bin/climc user-create demo --password demo123A --enabled
&lt;span style="color:#8f5902;font-style:italic"># 将用户 demo 加入 system 项目，并且赋予 admin 权限&lt;/span>
$ /opt/yunion/bin/climc project-add-user system demo admin
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>登陆 web 前端 UI 界面&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 使用 kubectl port-forward 将 web 前端 forward 到本地 9999 端口&lt;/span>
$ kubectl -n onecloud port-forward &lt;span style="color:#4e9a06">`&lt;/span>kubectl -n onecloud get pods &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep &lt;span style="color:#4e9a06">&amp;#34;default-web-&amp;#34;&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> cut -f1 -d&lt;span style="color:#4e9a06">&amp;#34; &amp;#34;&lt;/span>&lt;span style="color:#4e9a06">`&lt;/span> 9999:443 --address&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>0.0.0.0
&lt;/code>&lt;/pre>&lt;/div>&lt;p>打开浏览器：https://localhost:9999&lt;/p>
&lt;h2 id="集群清理">集群清理&lt;/h2>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 删除所有 onecloud 服务&lt;/span>
$ kubectl delete -f onecloud-cluster.yaml
$ kubectl delete -f onecloud-operator.yaml
&lt;span style="color:#8f5902;font-style:italic"># stop kubernetes 集群，以后还可以用 minikube start 开启&lt;/span>
$ minikube -p onecloud stop
&lt;span style="color:#8f5902;font-style:italic"># 以下命令删除整个 minikube 创建的 kubernetes 集群&lt;/span>
$ minikube -p onecloud delete
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="待解决的问题">待解决的问题&lt;/h2>
&lt;ul>
&lt;li>default-host-deployer pod 无法启动，会处于 ContainerCreating 状态，这个是没有用 ocadm 部署集群导致的。未来会想办法支持该服务在 minikube 的集群里面运行，目前启动不了，不影响体验云联壹云。&lt;a href="https://github.com/yunionio/onecloud/issues/8910">issue #8910&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Docs: 云账号</title><link>https://www.cloudpods.org/v3.4/docs/howto/multicloud/cloudaccount/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/howto/multicloud/cloudaccount/</guid><description>
&lt;p>云管平台通过云账号与不同平台建立连接，并同步平台上的资源到云管平台上管理。一个账户对应的云资源归属域，不同域内资源隔离，可通过共享功能让其他域使用云账号资源。当系统未启用三级权限时，所有云资源都默认属于default域。&lt;/p>
&lt;p>目前 云联壹云 平台支持纳管的平台如下：&lt;/p>
&lt;ul>
&lt;li>公有云：阿里云（公共云和金融云）、Azure、腾讯云、AWS、华为云、UCloud、谷歌云、天翼云等，后续还将陆续支持更多云平台以满足用户的需求。&lt;/li>
&lt;li>私有云：VMware、ZStack、DStack、OpenStack、阿里飞天私有云等；&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>入口&lt;/strong>：在云管平台左侧菜单栏中单击 &lt;strong>&lt;em>&amp;ldquo;多云管理/云账号/云账号&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入云账号页面。&lt;/p>
&lt;p>&lt;img src="../../images/account.png" alt="">&lt;/p>
&lt;h2 id="新建云账号">新建云账号&lt;/h2>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
&lt;ul>
&lt;li>如需在 云联壹云 平台上管理公有云平台，至少要求云账号拥有所操作资源的管理权限。建议授予云账号平台所有功能的管理权限。&lt;/li>
&lt;li>已添加的云账号不支持更改域，如用户需要将云账号上的资源同步到其他域，可以在 云联壹云 上删除云账号，再重新添加云账号到指定域。在 云联壹云 平台上删除云账号操作仅为取消纳管云账号资源，不会影响云账号上的资源。&lt;/li>
&lt;/ul>
&lt;/div>
&lt;h3 id="新建阿里云账号">新建阿里云账号&lt;/h3>
&lt;ol>
&lt;li>在云账号页面单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入新建云账号页面。&lt;/li>
&lt;li>选择云平台为阿里云，单击 &lt;strong>&lt;em>&amp;ldquo;下一步：配置云账号&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入配置云账号页面。&lt;/li>
&lt;li>设置以下参数：
&lt;ul>
&lt;li>名称：阿里云账号的名称。&lt;/li>
&lt;li>账号类型：目前支持对接公共云和金融云的阿里云账号。&lt;/li>
&lt;li>密钥ID/密码：通过Access Key验证方式对接阿里云平台，Access Key由密钥ID（Access Key ID）和密码（Access Key Secret）组成。具体请参考：&lt;a href="#%E9%98%BF%E9%87%8C%E4%BA%91%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0%E8%8E%B7%E5%8F%96%E6%96%B9%E5%BC%8F">阿里云相关参数获取方式&lt;/a>。&lt;/li>
&lt;li>域：选择云账号所属的域。当云账号私有状态下，域下所有项目用户都可以使用云账号创建资源。&lt;/li>
&lt;li>资源归属项目：选择将云账号上的资源同步到 云联壹云 平台的本地项目。如需将云账号上的资源按照云上项目归类，请先指定默认资源归属项目，并勾选自动创建项目。勾选后，将会在 云联壹云 平台创建与云上项目同名的本地项目，并将资源同步到对应项目中。云上没有项目归属的资源将会同步到默认资源归属项目。&lt;/li>
&lt;li>代理：当云账号需要代理才可以正常访问时设置该项，留空代表直连。如没有合适的代理，直接单击“新建”超链接，在弹出的新建代理对话框中设置相关参数，创建代理。&lt;/li>
&lt;li>自动同步：设置是否自动同步阿里云平台上的信息，并设置自动同步的时间。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 按钮，测试输入的参数是否正确。&lt;/li>
&lt;li>测试成功后，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建阿里云账号。&lt;/li>
&lt;/ol>
&lt;h4 id="阿里云相关参数获取方式">阿里云相关参数获取方式&lt;/h4>
&lt;h5 id="主账号获取accesskey">主账号获取AccessKey&lt;/h5>
&lt;ol>
&lt;li>
&lt;p>使用主账号登录阿里云控制台，单击页面右上角个人信息，展开下拉菜单，单击 &lt;strong>_&amp;ldquo;accesskeys&lt;/strong> &amp;ldquo;_** 菜单项进入安全信息管理页面。
&lt;img src="../../images/aliyun-accesskeys1.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在安全信息管理页面，可以查看已存在的AccessKey信息，也可以单击 &lt;strong>&lt;em>&amp;ldquo;创建AccessKey&amp;rdquo;&lt;/em>&lt;/strong> 按钮新建用户AccessKey，新建AccessKey时阿里云会向账号联系人手机发送验证码，验证通过后才可以创建AccessKey。
&lt;img src="../../images/aliyun-get_acceesskey_list.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Access Key Secret默认不显示，单击&amp;rdquo;&lt;strong>显示&lt;/strong> &amp;ldquo;链接，阿里云将向账号所属的联系人手机发送一个验证码，验证通过后，才会显示Access Key Secret。
&lt;img src="../../images/aliyun-get_access_key_secret.png" alt="">&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h5 id="ram子账号如何获取access-key">RAM子账号如何获取Access Key&lt;/h5>
&lt;ol>
&lt;li>
&lt;p>使用子账号登录阿里云控制台，单击页面右上角个人信息，展开下拉菜单，单击 &amp;ldquo;&lt;strong>accesskey&amp;hellip;&lt;/strong>&amp;rdquo; 进入安全信息管理页面。
&lt;img src="../../images/aliyun_ram_get_access_key.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在安全信息管理页面，单击 &lt;strong>&lt;em>&amp;ldquo;创建AccessKey&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建AccessKey。
&lt;img src="../../images/aliyun_get_ram_access_key_create.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>创建成功后，AccessKeySecret信息只会展示一次，请及时保存。
&lt;img src="../../images/aliyun_ram_access_key_get.png" alt="">&lt;/p>
&lt;/li>
&lt;/ol>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">注意&lt;/h4>
已创建的AccessKey，无法再查看AccessKeySecret。
&lt;/div>
&lt;h5 id="通过平台管理阿里云资源需要云账号拥有哪些权限">通过平台管理阿里云资源，需要云账号拥有哪些权限&lt;/h5>
&lt;p>使用云联壹云管理阿里云资源，需要接入云账号的有足够的权限，下面列出管理云资源所用到的权限策略，如果由于接入账号未被授权导致的错误提示，请按照以下说明对接入账号进行授权：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">权限策略&lt;/th>
&lt;th style="text-align:left">策略说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">AliyunRAMFullAccess&lt;/td>
&lt;td style="text-align:left">管理访问控制（RAM）的权限，即管理用户以及授权的权限。如果您需要CloudID功能，以及需要为子账号创建Access key时，请开启该权限&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">AliyunECSFullAccess&lt;/td>
&lt;td style="text-align:left">管理虚拟机服务(ECS)的权限，如果您需要管理虚拟机，请开启该权限。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">AliyunCloudMonitorFullAccess&lt;/td>
&lt;td style="text-align:left">管理云监控(CloudMonitor)的权限，此权限为必须权限。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">AliyunOSSFullAccess&lt;/td>
&lt;td style="text-align:left">管理对象存储(OSS)的权限，如果您需要对象存储或账单功能，请开启该权限&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">AliyunBSSReadOnlyAccess&lt;/td>
&lt;td style="text-align:left">只读访问费用中心(BSS)的权限，如果你需要账单或查看账户余额功能，请开启该权限&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h5 id="如何给子账号授权">如何给子账号授权&lt;/h5>
&lt;ol>
&lt;li>
&lt;p>使用主账号登录阿里云控制台，单击页面右上角个人信息，展开下拉菜单，单击 &lt;strong>&lt;em>&amp;ldquo;访问控制&amp;rdquo;&lt;/em>&lt;/strong> 菜单项 ，进入访问控制页面。
&lt;img src="../../images/aliyun_access_control.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>单击左侧菜单栏 &lt;strong>&lt;em>&amp;ldquo;用户管理&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入用户管理页面。
&lt;img src="../../images/aliyun_access_control_all.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在用户管理页面，单击指定用户操作列 &lt;strong>&lt;em>&amp;ldquo;授权&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进行授权操作。
&lt;img src="../../images/aliyun_ram_user_access_control.png" alt="">&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="新建aws账号">新建AWS账号&lt;/h3>
&lt;ol>
&lt;li>在公有云账号页面单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;AWS&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出新建对话框。&lt;/li>
&lt;li>设置以下参数：
&lt;ul>
&lt;li>名称：AWS账号的名称。&lt;/li>
&lt;li>账号类型：目前支持对接全球区和中国区的AWS云账号。&lt;/li>
&lt;li>密钥ID/密码：对接AWS平台的密钥ID和密码信息。具体请参考&lt;a href="#aws%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0%E8%8E%B7%E5%8F%96%E6%96%B9%E5%BC%8F">AWS相关参数获取方式&lt;/a>。&lt;/li>
&lt;li>域：选择云账号所属的域。当云账号私有状态下，域下所有项目用户都可以使用云账号创建资源。&lt;/li>
&lt;li>资源归属项目：选择将云账号上的资源同步到云联壹云平台的本地项目。如需将云账号上的资源按照云上项目归类，请先指定默认资源归属项目，并勾选自动创建项目。勾选后，将会在云联壹云平台创建与云上项目同名的本地项目，并将资源同步到对应项目中。云上没有项目归属的资源将会同步到默认资源归属项目。&lt;/li>
&lt;li>代理：当云账号需要代理才可以正常访问时设置该项，留空代表直连。如没有合适的代理，直接单击“新建”超链接，在弹出的新建代理对话框中设置相关参数，创建代理。&lt;/li>
&lt;li>开启免密登录：启用该项后，会自动将系统的SAML信息同步到云账号上，并成为云上登录的身份提供商。实现通过本系统单点登录到公有云平台。
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
&lt;p>目前仅支持在创建云账号时，开启免密登录功能，将系统的saml源上传到对应的公有云云账号。如在创建云账号时，未开启免密登录，仍想使用免密登录功能，可通过Climc命令行在控制节点操作。&lt;/p>
&lt;p>&lt;code>climc cloud-account-update-aws --saml-auth true &amp;lt;account_id&amp;gt;&lt;/code>&lt;/p>
&lt;/div>
&lt;/li>
&lt;li>自动同步：设置是否自动同步AWS平台上的信息，并设置自动同步的时间间隔。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 按钮，测试输入的参数是否正确。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建AWS账号。&lt;/li>
&lt;/ol>
&lt;h4 id="aws相关参数获取方式">AWS相关参数获取方式&lt;/h4>
&lt;h5 id="获取aws的访问密钥">获取AWS的访问密钥&lt;/h5>
&lt;ol>
&lt;li>
&lt;p>使用AWS主账号（或拥有Administrator Access管理权限的子账号）登录AWS管理控制台，单击 &lt;strong>&lt;em>&amp;ldquo;IAM&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入IAM控制面板页面。
&lt;img src="../../images/faq_account_aws_1.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>单击左侧菜单栏 &lt;strong>&lt;em>&amp;ldquo;用户&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入用户管理列表，单击用户名名称项，进入指定用户详情页面。注意需要选择有足够管理权限的用户。
&lt;img src="../../images/faq_account_aws_2.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>单击“&lt;strong>安全证书&lt;/strong>”页签。
&lt;img src="../../images/faq_account_aws_3.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>单击 &lt;strong>&lt;em>&amp;ldquo;创建访问密钥&amp;rdquo;&lt;/em>&lt;/strong> 按钮，在弹出的创建访问密钥对话框中即可看到密钥信息，即密钥ID（Access Key ID）、密码（Access Key Secret）。
&lt;img src="../../images/faq_account_aws_4.png" alt="">&lt;/p>
&lt;/li>
&lt;/ol>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">注意&lt;/h4>
私有访问密钥仅创建时可见，请复制另存，如果不慎丢失，重新创建即可。
&lt;/div>
&lt;h5 id="通过平台管理aws资源需要云账号具备哪些权限">通过平台管理AWS资源，需要云账号具备哪些权限？&lt;/h5>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">策略名称&lt;/th>
&lt;th style="text-align:left">策略说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">AdministratorAccess&lt;/td>
&lt;td style="text-align:left">完全的云资源访问权限，如果拥有此权限，您便拥有了管理所有资源的权限，无需再关注其它策略。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">AmazonEC2FullAccess&lt;/td>
&lt;td style="text-align:left">如果没有AdministratorAccess策略而又需要管理虚拟机（EC2），请开启该权限。&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="新建azure账号">新建Azure账号&lt;/h3>
&lt;ol>
&lt;li>在公有云账号页面单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;Azure&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出新建对话框。&lt;/li>
&lt;li>设置以下参数：
&lt;ul>
&lt;li>名称：Azure账号的名称&lt;/li>
&lt;li>账号类型：目前支持对接全球区、中国区、美国政务区、德国区的Azure云账号。&lt;/li>
&lt;li>租户（Tenant）ID/客户端ID/客户端密码请参考&lt;a href="#azure%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0%E8%8E%B7%E5%8F%96%E6%96%B9%E5%BC%8F">Azure相关参数获取方式&lt;/a>。&lt;/li>
&lt;li>域：选择云账号所属的域。当云账号私有状态下，域下所有项目用户都可以使用云账号创建资源。&lt;/li>
&lt;li>资源归属项目：选择将云账号上的资源同步到云联壹云平台的本地项目。如需将云账号上的资源按照云上项目归类，请先指定默认资源归属项目，并勾选自动创建项目。勾选后，将会在云联壹云平台创建与云上项目同名的本地项目，并将资源同步到对应项目中。云上没有项目归属的资源将会同步到默认资源归属项目。&lt;/li>
&lt;li>代理：当云账号需要代理才可以正常访问时设置该项，留空代表直连。如没有合适的代理，直接单击“新建”超链接，在弹出的新建代理对话框中设置相关参数，创建代理。&lt;/li>
&lt;li>自动同步：设置是否自动同步Azure平台上的信息，并设置自动同步的时间间隔。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 按钮，测试输入的参数是否正确。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建Azure云账号。&lt;/li>
&lt;/ol>
&lt;h4 id="azure相关参数获取方式">Azure相关参数获取方式&lt;/h4>
&lt;h5 id="获取azure的租户tenantid和client信息">获取Azure的租户（Tenant）ID和Client信息&lt;/h5>
&lt;ol>
&lt;li>
&lt;p>登录Azure控制台，单击左侧导航栏 &lt;strong>&lt;em>&amp;ldquo;Azure Active Directory/应用注册&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入应用注册页面。建议新建一个专门的应用程序供云管平台调用Azure API。
&lt;img src="../../images/azureregisterapp.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>单击 &lt;strong>&lt;em>新注册&lt;/em>&lt;/strong> 按钮，在进入的注册应用程序页面，设置名称为任意值、设置受支持的账户类型为“仅此目录中的账户”，重定向URI设置为web，并输入以&amp;rdquo;&lt;a href="https://">https://&lt;/a>&amp;ldquo;或&amp;rdquo;&lt;a href="http://localhost">http://localhost&lt;/a>&amp;ldquo;开头的URL地址，单击 &lt;strong>&lt;em>&amp;ldquo;注册&amp;rdquo;&lt;/em>&lt;/strong> 按钮。
&lt;img src="../../images/azureregisteredapp.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>创建成功后，系统自动显示刚创建的应用程序详情页面。该页面的应用程序（客户端）ID即为所需的客户端ID、目录（租户）ID即为所需的租户ID。
&lt;img src="../../images/azureclientid.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在应用程序详情页面单击 &lt;strong>&lt;em>&amp;ldquo;证书和密码&amp;rdquo;&lt;/em>&lt;/strong> 菜单项。进入证书和密码页面。单击 &lt;strong>&lt;em>&amp;ldquo;新客户端密码&amp;rdquo;&lt;/em>&lt;/strong> 按钮。
&lt;img src="../../images/azureclientsecretlist.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在弹出的添加客户端对话框输入密码说明、截止日期为“从不”，单击 &lt;strong>&lt;em>&amp;ldquo;添加&amp;rdquo;&lt;/em>&lt;/strong> 按钮新建客户端密码。
&lt;img src="../../images/azurecreatesecret.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>保存成功后，页面密码的值即为需要的客户端密码信息。
&lt;img src="../../images/azureclientsecret.png" alt="">&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h5 id="如何把资源组的权限授权给应用程序">如何把资源组的权限授权给应用程序&lt;/h5>
&lt;ol>
&lt;li>
&lt;p>登录Azure控制台，单击左侧导航栏 &lt;strong>&lt;em>&amp;ldquo;资源组&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，查看资源组列表，单击需要被授权的资源组名称项，进入资源组管理页面。单击 &lt;strong>&lt;em>&amp;ldquo;访问控制(标识和访问管理)&amp;quot;&lt;/em>&lt;/strong> 菜单项，进入访问控制页面。
&lt;img src="../../images/azureresourseapp.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在访问控制页面单击 &lt;strong>&lt;em>添加角色分配&lt;/em>&lt;/strong> 按钮，在进入的添加角色分配页面中设置角色为“所有者”，将访问权限分配到对话框为“用户、组或服务主体”、在选择搜索框中搜索上一步骤创建的应用程序的名称，并选中应用程序，单击 &lt;strong>&lt;em>&amp;ldquo;保存&amp;rdquo;&lt;/em>&lt;/strong> 按钮。
&lt;img src="../../images/azureresourserole.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在角色分配页面，查看资源组的权限已授权给了应用程序。&lt;/p>
&lt;p>&lt;img src="../../images/azureresourseapprole.png" alt="">&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h5 id="如何把订阅的权限授权给应用程序">如何把订阅的权限授权给应用程序&lt;/h5>
&lt;ol>
&lt;li>
&lt;p>登录Azure控制台，单击左侧导航栏 &lt;strong>&lt;em>&amp;ldquo;所有服务&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，在所有服务列表中选择并单击 &lt;strong>&lt;em>&amp;ldquo;订阅&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入订阅列表。
&lt;img src="../../images/azuresub.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>单击需要被授权的订阅，进入订阅的详情页面；
&lt;img src="../../images/azuresublist.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>单击[访问控制(标识和访问管理)]，在进入的访问控制页面中单击 &lt;strong>&lt;em>&amp;ldquo;添加角色分配&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入添加角色分配页面。
&lt;img src="../../images/azuresubrole.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>设置角色为“所有”、选择为上面步骤创建的应用程序关键字，并选中应用程序，单击 &lt;strong>&lt;em>&amp;ldquo;保存&amp;rdquo;&lt;/em>&lt;/strong> 按钮。
&lt;img src="../../images/azuresubaddrole.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在角色分配页面，查看订阅的权限已授权给应用程序。
&lt;img src="../../images/azuresubapprole.png" alt="">&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h5 id="应用程序api权限设置">应用程序API权限设置&lt;/h5>
&lt;p>请确保应用程序拥有Azure Active Directory API下的以下权限。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>区域&lt;/th>
&lt;th>API权限&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Azure中国&lt;/td>
&lt;td>Dictionary: Dictionary.Read.All, Dictionary.ReadWrite.All&lt;/br> Domain: Domain.Read.All&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Azure国际区&lt;/td>
&lt;td>Dictionary: Dictionary.Read.All, Dictionary.ReadWrite.All&lt;/br> Domain: Domain.Read.All, Domain.ReadWrite.All); &lt;/br>Member: Member.Read.Hidden; &lt;/br>Policy: Policy.Read.All;&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>查看及设置步骤&lt;/strong>&lt;/p>
&lt;p>以Azure国内区为例。&lt;/p>
&lt;ol>
&lt;li>
&lt;p>在Azure控制台，单击左侧导航栏 &lt;strong>&lt;em>&amp;ldquo;Azure Active Directory/应用注册&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入应用注册页面。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在新注册的应用程序详情页面，单击 &lt;strong>&lt;em>&amp;ldquo;API权限&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入API权限页面，查看API权限。&lt;/p>
&lt;p>&lt;img src="../../images/azureapilist.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>检查应用程序的API权限是否满足上面的要求，如不满足，单击 &lt;strong>&lt;em>&amp;ldquo;添加权限&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出请求获取API权限对话框。&lt;/p>
&lt;p>&lt;img src="../../images/azurerequestapi.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>选择“Azure Active Directory”，应用程序选择“应用程序权限”，并勾选Dictionary和Domian下的所有权限，单击 &lt;strong>&lt;em>&amp;ldquo;添加权限&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成配置。&lt;/p>
&lt;p>&lt;img src="../../images/azurecreateapi.png" alt="">&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="新建华为云账号">新建华为云账号&lt;/h3>
&lt;ol>
&lt;li>在云账号页面单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入新建云账号页面。&lt;/li>
&lt;li>选择云平台为华为云，单击 &lt;strong>&lt;em>&amp;ldquo;下一步：配置云账号&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入配置云账号页面。&lt;/li>
&lt;li>设置以下参数：
&lt;ul>
&lt;li>名称：华为云账号的名称。&lt;/li>
&lt;li>账号类型：目前支持对接全球区和中国区的华为云账号。&lt;/li>
&lt;li>密钥ID/密码：对接华为云平台的密钥ID和密码信息。具体请参考&lt;a href="#%E5%8D%8E%E4%B8%BA%E4%BA%91%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0%E8%8E%B7%E5%8F%96%E6%96%B9%E5%BC%8F">华为云相关参数获取方式&lt;/a>。&lt;/li>
&lt;li>域：选择云账号所属的域。当云账号私有状态下，域下所有项目用户都可以使用云账号创建资源。&lt;/li>
&lt;li>资源归属项目：选择将云账号上的资源同步到云联壹云平台的本地项目。如需将云账号上的资源按照云上项目归类，请先指定默认资源归属项目，并勾选自动创建项目。勾选后，将会在云联壹云平台创建与云上项目同名的本地项目，并将资源同步到对应项目中。云上没有项目归属的资源将会同步到默认资源归属项目。&lt;/li>
&lt;li>代理：当云账号需要代理才可以正常访问时设置该项，留空代表直连。如没有合适的代理，直接单击“新建”超链接，在弹出的新建代理对话框中设置相关参数，创建代理。&lt;/li>
&lt;li>开启免密登录：启用该项后，会自动将系统的SAML信息同步到云账号上，并成为云上登录的身份提供商。实现通过本系统单点登录到公有云平台。
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
&lt;p>目前仅支持在创建云账号时，开启免密登录功能，将系统的saml源上传到对应的公有云云账号。如在创建云账号时，未开启免密登录，仍想使用免密登录功能，可通过Climc命令行在控制节点操作。&lt;/p>
&lt;p>&lt;code>climc cloud-account-update-huawei --saml-auth true &amp;lt;account_id&amp;gt;&lt;/code>&lt;/p>
&lt;/div>
&lt;/li>
&lt;li>自动同步：设置是否自动同步腾讯云平台上的信息，并设置自动同步的时间间隔。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 按钮，测试输入的参数是否正确。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建华为云账号。&lt;/li>
&lt;/ol>
&lt;h4 id="华为云相关参数获取方式">华为云相关参数获取方式&lt;/h4>
&lt;h5 id="如何获取华为云的api密钥">如何获取华为云的API密钥&lt;/h5>
&lt;p>&lt;strong>新版&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>登录华为云控制台，鼠标悬停在右上角用户名处，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;我的凭证&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入我的凭证页面。&lt;/p>
&lt;p>&lt;img src="../../images/huaweinewaccount.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>单击左侧[访问密钥]菜单，在访问密钥页面单击 &lt;strong>&lt;em>&amp;ldquo;新增访问密钥&amp;rdquo;&lt;/em>&lt;/strong> 按钮。&lt;/p>
&lt;p>&lt;img src="../../images/huaweinewak.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>通过验证后，会下载credentials名称的Excel表格，打开表格后即可获取密钥ID（Access Key ID）和密码（Secret Access Key）。
&lt;img src="../../images/faq_account_huawei_3.png" alt="">&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>旧版&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>登录华为云控制台，鼠标悬停在右上角用户名处，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;我的凭证&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入我的凭证页面。
&lt;img src="../../images/faq_account_huawei_1.png" alt="">&lt;/li>
&lt;li>单击“&lt;strong>管理访问密钥&lt;/strong>”页签，在管理访问密钥页面单击 &lt;strong>&lt;em>&amp;ldquo;新增访问密钥&amp;rdquo;&lt;/em>&lt;/strong> 按钮。
&lt;img src="../../images/faq_account_huawei_2.png" alt="">&lt;/li>
&lt;li>通过验证后，会下载credentials名称的Excel表格，打开表格后即可获取密钥ID（Access Key ID）和密码（Secret Access Key）。
&lt;img src="../../images/faq_account_huawei_3.png" alt="">&lt;/li>
&lt;/ol>
&lt;h5 id="通过平台管理华为云资源需要云账号具备哪些权限">通过平台管理华为云资源，需要云账号具备哪些权限&lt;/h5>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">权限策略&lt;/th>
&lt;th style="text-align:left">策略说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">Tenant Administrator&lt;/td>
&lt;td style="text-align:left">全部云服务管理员（除IAM管理权限）&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="新建腾讯云账号">新建腾讯云账号&lt;/h3>
&lt;ol>
&lt;li>在云账号页面单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入新建云账号页面。&lt;/li>
&lt;li>选择云平台为腾讯云，单击 &lt;strong>&lt;em>&amp;ldquo;下一步：配置云账号&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入配置云账号页面。&lt;/li>
&lt;li>设置以下参数：
&lt;ul>
&lt;li>名称：腾讯云平台的名称。&lt;/li>
&lt;li>APP ID/密钥ID/密码：腾讯云账号的APP ID与账号ID有唯一对应关系。对接腾讯云平台的APP ID/密钥ID/密码。具体请参考&lt;a href="#%E8%85%BE%E8%AE%AF%E4%BA%91%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0%E8%8E%B7%E5%8F%96%E6%96%B9%E5%BC%8F">腾讯云相关参数获取方式&lt;/a>。&lt;/li>
&lt;li>域：选择云账号所属的域。当云账号私有状态下，域下所有项目用户都可以使用云账号创建资源。&lt;/li>
&lt;li>资源归属项目：选择将云账号上的资源同步到云联壹云平台的本地项目。如需将云账号上的资源按照云上项目归类，请先指定默认资源归属项目，并勾选自动创建项目。勾选后，将会在云联壹云平台创建与云上项目同名的本地项目，并将资源同步到对应项目中。云上没有项目归属的资源将会同步到默认资源归属项目。&lt;/li>
&lt;li>代理：当云账号需要代理才可以正常访问时设置该项，留空代表直连。如没有合适的代理，直接单击“新建”超链接，在弹出的新建代理对话框中设置相关参数，创建代理。&lt;/li>
&lt;li>开启免密登录：启用该项后，会自动将系统的SAML信息同步到云账号上，并成为云上登录的身份提供商。实现通过本系统单点登录到公有云平台。
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
&lt;p>目前仅支持在创建云账号时，开启免密登录功能，将系统的saml源上传到对应的公有云云账号。如在创建云账号时，未开启免密登录，仍想使用免密登录功能，可通过Climc命令行在控制节点操作。&lt;/p>
&lt;p>&lt;code>climc cloud-account-update-qcloud --saml-auth true &amp;lt;account_id&amp;gt;&lt;/code>&lt;/p>
&lt;/div>
&lt;/li>
&lt;li>自动同步：设置是否自动同步腾讯云平台上的信息，并设置自动同步的时间间隔。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 按钮，测试输入的参数是否正确。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建腾讯云账号。&lt;/li>
&lt;/ol>
&lt;h4 id="腾讯云相关参数获取方式">腾讯云相关参数获取方式&lt;/h4>
&lt;h5 id="如何获取腾讯云api密钥">如何获取腾讯云API密钥&lt;/h5>
&lt;ol>
&lt;li>
&lt;p>登录腾讯云控制台，单击右上角 &lt;strong>&lt;em>&amp;ldquo;云产品&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，在展开的菜单中搜索 &lt;strong>&lt;em>&amp;ldquo;云API密钥&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，单击进入API密钥管理页面。
&lt;img src="../../images/faq_account_qcloud_1.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在API密钥管理页面获取APP ID、密钥ID（SecretId）、密码（SecretKey）对应的值。
&lt;img src="../../images/faq_account_qcloud_2.png" alt="">&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h5 id="通过平台管理腾讯云资源需要云账号具备哪些权限">通过平台管理腾讯云资源，需要云账号具备哪些权限&lt;/h5>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">权限策略&lt;/th>
&lt;th style="text-align:left">策略说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">AdministratorAccess&lt;/td>
&lt;td style="text-align:left">该策略允许您管理账户内所有用户及其权限、财务相关的信息、云服务资产。&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="新建ucloud账号">新建UCloud账号&lt;/h3>
&lt;ol>
&lt;li>在公有云账号页面单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;UCloud&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出新建对话框。&lt;/li>
&lt;li>设置以下参数：
&lt;ul>
&lt;li>名称：UCloud平台的名称。&lt;/li>
&lt;li>公钥/私钥：获取方式具体请参考&lt;a href="#ucloud%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0%E8%8E%B7%E5%8F%96%E6%96%B9%E5%BC%8F">UCloud相关参数获取方式&lt;/a>。&lt;/li>
&lt;li>域：选择云账号所属的域。当云账号私有状态下，域下所有项目用户都可以使用云账号创建资源。&lt;/li>
&lt;li>资源归属项目：选择将云账号上的资源同步到云联壹云平台的本地项目。如需将云账号上的资源按照云上项目归类，请先指定默认资源归属项目，并勾选自动创建项目。勾选后，将会在云联壹云平台创建与云上项目同名的本地项目，并将资源同步到对应项目中。云上没有项目归属的资源将会同步到默认资源归属项目。&lt;/li>
&lt;li>代理：当云账号需要代理才可以正常访问时设置该项，留空代表直连。如没有合适的代理，直接单击“新建”超链接，在弹出的新建代理对话框中设置相关参数，创建代理。&lt;/li>
&lt;li>自动同步：设置是否自动同步UCloud平台上的信息，并设置自动同步的时间间隔。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 按钮，测试输入的参数是否正确。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建UCloud账号。&lt;/li>
&lt;/ol>
&lt;h4 id="ucloud相关参数获取方式">UCloud相关参数获取方式&lt;/h4>
&lt;h5 id="如何获取-ucloud-api-密钥">如何获取 UCloud API 密钥&lt;/h5>
&lt;ol>
&lt;li>
&lt;p>登录 UCloud 控制台，单击右上角&lt;strong>个人中心&lt;/strong> 图标，选择 &lt;strong>&lt;em>&amp;rdquo; **API 密钥&amp;rdquo;&lt;/em>&lt;/strong> 菜单项 ，进入 API 密钥管理页面；
&lt;img src="../../images/ucloud_access_api_key_1.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在API密钥管理页面，单击 &lt;strong>&lt;em>&amp;ldquo;显示&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进行手机短信二次验证；
&lt;img src="../../images/ucloud_api_key.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>通过手机验证后获取公钥和私钥值。
&lt;img src="../../images/ucloud_api_public_private_key.png" alt="">&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h5 id="使用平台管理ucloud资源需要云账号具备哪些权限">使用平台管理UCloud资源，需要云账号具备哪些权限&lt;/h5>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">权限策略&lt;/th>
&lt;th style="text-align:left">策略说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">Admin&lt;/td>
&lt;td style="text-align:left">管理员角色&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="新建google账号">新建Google账号&lt;/h3>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">注意&lt;/h4>
&lt;ul>
&lt;li>请确保云联壹云平台与谷歌云网络互通。&lt;/li>
&lt;li>如云联壹云平台与谷歌云网络不通，可通过配置代理访问谷歌云。&lt;/li>
&lt;/ul>
&lt;/div>
&lt;ol>
&lt;li>在云账号页面单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入新建云账号页面。&lt;/li>
&lt;li>选择云平台为“Google”，单击 &lt;strong>&lt;em>&amp;ldquo;下一步：配置云账号&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入配置云账号页面。&lt;/li>
&lt;li>设置以下参数：
&lt;ul>
&lt;li>名称：谷歌云的云账号名称。&lt;/li>
&lt;li>project_id、private_key_id、private_key、client_email等参数具体可参考&lt;a href="#google%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0%E8%8E%B7%E5%8F%96%E6%96%B9%E5%BC%8F">Google相关参数获取方式&lt;/a>。&lt;/li>
&lt;li>域：选择云账号所属的域。当云账号私有状态下，域下所有项目用户都可以使用云账号创建资源。&lt;/li>
&lt;li>资源归属项目：选择将云账号上的资源同步到云联壹云平台的本地项目。如需将云账号上的资源按照云上项目归类，请先指定默认资源归属项目，并勾选自动创建项目。勾选后，将会在云联壹云平台创建与云上项目同名的本地项目，并将资源同步到对应项目中。云上没有项目归属的资源将会同步到默认资源归属项目。&lt;/li>
&lt;li>代理：当云账号需要代理才可以正常访问时设置该项，留空代表直连。如没有合适的代理，直接单击“新建”超链接，在弹出的新建代理对话框中设置相关参数，创建代理。&lt;/li>
&lt;li>自动同步：设置是否自动同步Google平台上的信息，并设置自动同步的时间间隔。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 按钮，测试输入的参数是否正确。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建Google账号。&lt;/li>
&lt;/ol>
&lt;h4 id="google相关参数获取方式">Google相关参数获取方式&lt;/h4>
&lt;h5 id="如何获取谷歌云服务帐号密钥信息">如何获取谷歌云服务帐号密钥信息？&lt;/h5>
&lt;p>&lt;strong>纳管指定项目&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>打开“&lt;a href="https://console.cloud.google.com/project/_/iam-admin">GCP Console中的IAM和管理-IAM页面&lt;/a>”页面并登录。&lt;/p>
&lt;p>&lt;img src="../../images/google_iam.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>单击顶部“选择项目”，选择需要授权的项目。&lt;/p>
&lt;p>&lt;img src="../../images/google_project.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在左侧导航栏中选择“服务账号”，进入指定项目的服务账号页面。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>单击 &lt;strong>&lt;em>&amp;ldquo;创建服务账号&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入创建服务账号页面。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>配置服务账号名称、服务账号ID、服务账号说明等，单击 &lt;strong>&lt;em>&amp;ldquo;创建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建服务账号并向此服务帐号授予对项目的访问权限。&lt;/p>
&lt;p>&lt;img src="../../images/google_createserviceaccount.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>选择Project-Owner或Project-Viewer角色，Owner代表对项目的管理权限，Viewer代表对项目的只读权限，如需云管平台对Google云账号资源进行管理操作，请选择Project-Owner角色，单击 &lt;strong>&lt;em>&amp;ldquo;继续&amp;rdquo;&lt;/em>&lt;/strong> 按钮。&lt;/p>
&lt;p>&lt;img src="../../images/google_serviceaccountpolicy.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>向用户授予访问此服务帐号的权限 (可选)步骤对云管平台无影响，请用户根据需求设置，配置完成后，单击 &lt;strong>&lt;em>&amp;ldquo;继续&amp;rdquo;&lt;/em>&lt;/strong> 按钮。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在服务账号页面，单击新创建的服务账号右侧操作列按钮，单击 &lt;strong>&lt;em>&amp;ldquo;创建密钥&amp;rdquo;&lt;/em>&lt;/strong> 菜单项。&lt;/p>
&lt;p>&lt;img src="../../images/google_serviceaccount1.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>选择密钥类型为“JSON”，单击 &lt;strong>&lt;em>&amp;ldquo;创建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，下载json格式的密钥文件，内容如下，分别获取project_id、private_key_id、private_key、client_email等内容。&lt;/p>
&lt;p>&lt;img src="../../images/google_create.png" alt="">&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;type&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;service_account&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;project_id&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;[PROJECT-ID]&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;private_key_id&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;[KEY-ID]&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;private_key&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;-----BEGIN PRIVATE KEY-----\n[PRIVATE-KEY]\n-----END PRIVATE KEY-----\n&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;client_email&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;[SERVICE-ACCOUNT-EMAIL]&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;client_id&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;[CLIENT-ID]&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;auth_uri&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;https://accounts.google.com/o/oauth2/auth&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;token_uri&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;https://accounts.google.com/o/oauth2/token&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;auth_provider_x509_cert_url&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;https://www.googleapis.com/oauth2/v1/certs&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;client_x509_cert_url&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;https://www.googleapis.com/robot/v1/metadata/x509/[SERVICE-ACCOUNT-EMAIL]&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>纳管多个项目&lt;/strong>&lt;/p>
&lt;p>如需要使用上面获取的服务账户的密钥纳管多个项目，可按照以下步骤进行设置。&lt;/p>
&lt;ol>
&lt;li>
&lt;p>打开“&lt;a href="https://console.cloud.google.com/project/_/iam-admin">GCP Console中的IAM和管理-IAM页面&lt;/a>”页面，选择其他需要纳管的项目。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>单击顶部 &lt;strong>&lt;em>&amp;ldquo;添加&amp;rdquo;&lt;/em>&lt;/strong> 按钮，在新成员中添加上面步骤创建的服务账号，并设置角色为Project-Owner或Project-Viewer，Owner代表对项目的管理权限，Viewer代表对项目的只读权限，如需云管平台对Google云账号资源进行管理操作，请选择Project-Owner角色，单击 &lt;strong>&lt;em>&amp;ldquo;保存&amp;rdquo;&lt;/em>&lt;/strong> 按钮。&lt;/p>
&lt;p>&lt;img src="../../images/google_serviceaccount_otherproject.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>重复上面的步骤，纳管更多项目。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h5 id="启用相关api">启用相关API&lt;/h5>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
谷歌云的API具有项目属性，当需要纳管谷歌云上多个项目时，需要分别在每个项目中启用相关API。
&lt;/div>
&lt;p>&lt;strong>管理谷歌云需要启用API&lt;/strong>：&lt;/p>
&lt;p>获取密钥文件后，还需要在Google API库中启用授权项目中的项目资源管理API（Cloud Resource Manager API）和自定义镜像创建机器API（Cloud Build API）。启用API后，用户可在平台管理使用谷歌云。&lt;/p>
&lt;ol>
&lt;li>
&lt;p>在API库的&lt;a href="https://console.developers.google.com/apis/library/cloudresourcemanager.googleapis.com">Cloud Resource Manager API&lt;/a>页面中启用授权项目的Cloud Resource Manager API。可通过顶部切换授权项目。
&lt;img src="../../images/cloudresourcemanagerapi.png" alt="">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在API库的&lt;a href="https://console.developers.google.com/apis/library/cloudbuild.googleapis.com">Cloud Build API&lt;/a>页面中启用授权项目的Cloud Build API。可通过顶部切换授权项目。
&lt;img src="../../images/cloudbuildapi.png" alt="">&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>管理谷歌云RDS需要启用API&lt;/strong>：&lt;/p>
&lt;ol>
&lt;li>在API库的&lt;a href="https://console.developers.google.com/apis/library/sqladmin.googleapis.com">Cloud SQL Admin API&lt;/a>页面中启用Cloud SQL Admin API。可通过顶部切换授权项目。
&lt;img src="../../images/cloudsqladminapi.png" alt="">&lt;/li>
&lt;/ol>
&lt;h3 id="新建天翼云账号">新建天翼云账号&lt;/h3>
&lt;ol>
&lt;li>在云账号页面单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入新建云账号页面。&lt;/li>
&lt;li>选择云平台为“天翼云”，单击 &lt;strong>&lt;em>&amp;ldquo;下一步：配置云账号&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入配置云账号页面。&lt;/li>
&lt;li>设置以下参数：
&lt;ul>
&lt;li>名称：天翼云的云账号名称。&lt;/li>
&lt;li>账号类型：目前支持对接全球区和中国区的天翼云账号。&lt;/li>
&lt;li>密钥ID、密码获取方式：目前无法直接使用天翼云官网界面上申请的密钥信息，需要用户联系天翼云技术支持获取Access Key Id和Secret Access Key信息，并需要在天翼云上配置ip白名单。如用户不清楚如何获取，可直接联系运维人员寻求帮助。&lt;/li>
&lt;li>域：选择云账号所属的域。当云账号私有状态下，域下所有项目用户都可以使用云账号创建资源。&lt;/li>
&lt;li>资源归属项目：选择将云账号上的资源同步到平台的本地项目。如需将云账号上的资源按照云上项目归类，请先指定默认资源归属项目，并勾选自动创建项目。勾选后，将会在平台创建与云上项目同名的本地项目，并将资源同步到对应项目中。云上没有项目归属的资源将会同步到默认资源归属项目。&lt;/li>
&lt;li>代理：当云账号需要代理才可以正常访问时设置该项，留空代表直连。如没有合适的代理，直接单击“新建”超链接，在弹出的新建代理对话框中设置相关参数，创建代理。&lt;/li>
&lt;li>自动同步：设置是否自动同步天翼云平台上的信息，并设置自动同步的时间间隔。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 按钮，测试输入的参数是否正确。&lt;/li>
&lt;li>测试通过后，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建天翼云账号。&lt;/li>
&lt;/ol>
&lt;h3 id="新建vmware账号">新建VMware账号&lt;/h3>
&lt;p>&lt;strong>支持版本&lt;/strong>&lt;/p>
&lt;p>支持纳管VMware 5.0~7.0版本。&lt;/p>
&lt;p>&lt;strong>VMware资源纳管流程&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>新建VMware云账号并为Exsi宿主机配置IP子网，若无保护宿主机IP的IP子网，将无法同步VMware宿主机下的资源。建议为每个VMware账号单独配置一个二层网络。&lt;/li>
&lt;li>全量同步即可使用VMware资源创建VMware平台的虚拟机。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>操作步骤&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号页面单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入新建云账号页面。&lt;/li>
&lt;li>选择云平台为VMware，单击 &lt;strong>&lt;em>&amp;ldquo;下一步：配置云账号&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入配置云账号页面。&lt;/li>
&lt;li>设置以下参数：
&lt;ul>
&lt;li>名称：VMware账号的名称。&lt;/li>
&lt;li>vCenter地址：vCenter服务器的域名或IP地址。&lt;/li>
&lt;li>端口号：默认为443。&lt;/li>
&lt;li>账号：vCenter的管理员用户名。&lt;/li>
&lt;li>密码：vCenter管理员用户的密码。&lt;/li>
&lt;li>域：选择云账号所属的域。当云账号私有状态下，域下所有项目用户都可以使用云账号创建资源。&lt;/li>
&lt;li>资源归属项目：选择将云账号上的资源同步到平台的本地项目。如需将云账号上的资源按照云上项目归类，请先指定默认资源归属项目，并勾选自动创建项目。勾选后，将会在平台创建与云上项目同名的本地项目，并将资源同步到对应项目中。云上没有项目归属的资源将会同步到默认资源归属项目。&lt;/li>
&lt;li>代理：当云账号需要代理才可以正常访问时设置该项，留空代表直连。如没有合适的代理，直接单击“新建”超链接，在弹出的新建代理对话框中设置相关参数，创建代理。&lt;/li>
&lt;li>自动同步：设置是否自动同步vCenter上信息，若启用需要设置自动同步的时间间隔。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 按钮，测试输入的参数是否正确。&lt;/li>
&lt;li>测试通过后，单击 &lt;strong>&lt;em>&amp;ldquo;下一步：配置物理机IP&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入配置物理机IP页面。&lt;/li>
&lt;li>上方列表中显示账号下的宿主机的IP信息，并自动检测平台中该域下已有的IP子网是否包含宿主机IP；如不满足，则在配置物理机IP中自动创建包含宿主机IP的IP子网，用户可根据需求更改相关参数。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;下一步：配置虚拟机IP&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入配置虚拟机IP页面。&lt;/li>
&lt;li>上方列表中显示账号下的虚拟机的IP信息，并自动检测平台中该域下已有的IP子网是否包含所有虚拟机IP；如不满足，则在配置虚拟机IP中自动创建包含虚拟机IP的IP子网，用户可根据需求更改相关参数。&lt;/li>
&lt;li>配置完成后，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建VMware云账号、相关IP子网，并开始同步云账号上的资源。&lt;/li>
&lt;/ol>
&lt;h3 id="新建openstack账号">新建OpenStack账号&lt;/h3>
&lt;p>&lt;strong>支持版本&lt;/strong>&lt;/p>
&lt;p>支持纳管OpenStack M版及之后版本。&lt;/p>
&lt;p>&lt;strong>注意事项&lt;/strong>&lt;/p>
&lt;p>如果纳管的OpenStack平台认证地址是域名时，还需要在控制节点上配置域名解析，否则会因为无法解析域名导致无法同步OpenStack平台的资源。&lt;/p>
&lt;p>步骤如下：&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 修改coredns的configmap&lt;/span>
$ kubectl edit cm -n kube-system coredns
Corefile: &lt;span style="color:#000;font-weight:bold">|&lt;/span>
.:53 &lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
errors
health
kubernetes cluster.local in-addr.arpa ip6.arpa &lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
pods insecure
upstream
fallthrough in-addr.arpa ip6.arpa
ttl &lt;span style="color:#0000cf;font-weight:bold">30&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>
hosts &lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
192.168.1.2 domain
fallthrough
&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>
prometheus :9153
forward . /etc/resolv.conf
cache &lt;span style="color:#0000cf;font-weight:bold">30&lt;/span>
loop
reload
loadbalance
&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 在“prometheus :9153”上方添加hosts相关信息，配置IP地址和域名。&lt;/span>
hosts &lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
192.168.1.2 domain
fallthrough
&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 配置完成后，重启coredns&lt;/span>
$ kubectl rollout restart deployment -n kube-system coredns
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>操作步骤&lt;/strong>&lt;/p>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
成功创建OpenStack账号后，由于云管平台获取不到OpenStack平台上存储的真正容量，所以需要在&lt;a href="../../../storage/block">存储-块存储&lt;/a>页面设置OpenStack存储容量，请尽量将存储容量设置为存储的真实容量以尽可能的使用存储，避免由于设置的容量超出存储的真实容量而导致磁盘创建失败
&lt;/div>
&lt;ol>
&lt;li>在云账号页面单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入新建云账号页面。&lt;/li>
&lt;li>选择云平台为OpenStack，单击 &lt;strong>&lt;em>&amp;ldquo;下一步：配置云账号&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入配置云账号页面。&lt;/li>
&lt;li>设置以下参数：
&lt;ul>
&lt;li>名称：OpenStack账号的名称。&lt;/li>
&lt;li>认证地址：OpenStack管理平台的认证地址，如&lt;a href="http://host:port/v3">http://host:port/v3&lt;/a>。&lt;/li>
&lt;li>账号：OpenStack平台的管理员用户名，如admin。&lt;/li>
&lt;li>密码：OpenStack平台管理员用户的密码。&lt;/li>
&lt;li>项目：OpenStack平台上的项目，如admin项目。&lt;/li>
&lt;li>Domain Name：OpenStack平台上的Domain name，如default。&lt;/li>
&lt;li>域：选择云账号所属的域。当云账号私有状态下，域下所有项目用户都可以使用云账号创建资源。&lt;/li>
&lt;li>资源归属项目：OpenStack平台只支持将云账号上的资源按照云上项目归类且默认资源归属项目不能手动指定，如需更改默认资源归属项目，请在订阅列表中更改项目。勾选自动创建项目将会在平台创建与云上项目同名的本地项目，并将资源同步到对应项目中。云上没有项目归属的资源将会同步到默认资源归属项目。&lt;/li>
&lt;li>代理：当云账号需要代理才可以正常访问时设置该项，留空代表直连。如没有合适的代理，直接单击“新建”超链接，在弹出的新建代理对话框中设置相关参数，创建代理。&lt;/li>
&lt;li>自动同步：设置是否自动同步OpenStack平台上的信息，并设置自动同步的时间间隔，最低为30分钟。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 按钮，测试输入的参数是否正确。&lt;/li>
&lt;li>测试通过后，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建OpenStack账号。&lt;/li>
&lt;/ol>
&lt;h3 id="新建zstackdstack账号">新建ZStack/DStack账号&lt;/h3>
&lt;p>&lt;strong>支持版本&lt;/strong>&lt;/p>
&lt;p>支持纳管ZStack 3.5.0版本及之后版本。&lt;/p>
&lt;p>&lt;strong>操作步骤&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>在云账号页面单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入新建云账号页面。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>选择云平台为ZStack或DStack，单击 &lt;strong>&lt;em>&amp;ldquo;下一步：配置云账号&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入配置云账号页面。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>设置以下参数：&lt;/p>
&lt;ul>
&lt;li>名称：ZStack或DStack账号的名称。&lt;/li>
&lt;li>认证地址：ZStack或DStack平台的认证地址，一般为&lt;a href="http://host:8080/">http://host:8080/&lt;/a>，host为ZStack或DStack控制节点的IP地址。&lt;/li>
&lt;li>密钥ID：即ZStack或DStack平台上的Access Key ID。&lt;/li>
&lt;li>密码：即ZStack或DStack平台上的Access Key Secret。
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
用户可在ZStack管理平台的[平台管理-Access Key]页面中生成新的Access Key信息或使用已有的Access Key。
&lt;/div>
&lt;/li>
&lt;li>域：选择云账号所属的域。当云账号私有状态下，域下所有项目用户都可以使用云账号创建资源。&lt;/li>
&lt;li>资源归属项目：选择将云账号上的资源同步到平台的本地项目。如需将云账号上的资源按照云上项目归类，请先指定默认资源归属项目，并勾选自动创建项目。勾选后，将会在平台创建与云上项目同名的本地项目，并将资源同步到对应项目中。云上没有项目归属的资源将会同步到默认资源归属项目。&lt;/li>
&lt;li>代理：当云账号需要代理才可以正常访问时设置该项，留空代表直连。如没有合适的代理，直接单击“新建”超链接，在弹出的新建代理对话框中设置相关参数，创建代理。&lt;/li>
&lt;li>自动同步：设置是否自动同步ZStack/DStack平台上的信息，并设置自动同步的时间间隔。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>单击 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 按钮，测试输入的参数是否正确。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>测试通过后，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建ZStack/DStack账号。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="新建阿里飞天云">新建阿里飞天云&lt;/h3>
&lt;p>该功能用于纳管阿里飞天私有云，目前仅支持同步飞天私有云上的资源。&lt;/p>
&lt;ol>
&lt;li>在云账号页面单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入新建云账号页面。&lt;/li>
&lt;li>选择云平台为飞天，单击 &lt;strong>&lt;em>&amp;ldquo;下一步：配置云账号&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入配置云账号页面。&lt;/li>
&lt;li>配置以下信息：
&lt;ul>
&lt;li>名称：飞天云账号的名称。&lt;/li>
&lt;li>密钥ID/密码：通过Access Key验证方式对接阿里云平台，Access Key由密钥ID（Access Key ID）和密码（Access Key Secret）组成。具体请参考&lt;a href="#%E9%A3%9E%E5%A4%A9%E4%BA%91%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0%E8%8E%B7%E5%8F%96%E6%96%B9%E5%BC%8F">飞天云相关参数获取方式&lt;/a>&lt;/li>
&lt;li>虚拟机端点：必填，通过飞天API的ESC Endpoint信息对接飞天云的虚拟机资源。&lt;/li>
&lt;li>VPC端点：必填，通过飞天API的VPC Endpoint信息对接飞天云的VPC资源。&lt;/li>
&lt;li>负载均衡端点：选填，通过飞天API的SLB Endpoint信息对接飞天云的负载均衡资源。&lt;/li>
&lt;li>对象存储端点：选填，通过飞天API的OSS Endpoint信息对接飞天云的对象存储资源。&lt;/li>
&lt;li>RDS端点：选填，通过飞天API的RDS Endpoint信息对接飞天云的RDS资源。&lt;/li>
&lt;li>Redis端点：选填，通过飞天API的Redis Endpoint信息对接飞天云的Redis资源。&lt;/li>
&lt;li>操作日志端点：选填，通过飞天API的ActionTrai Endpoint信息对接飞天云的操作日志。&lt;/li>
&lt;li>监控端点：选填，通过飞天API的Metrics Endpoint信息对接飞天云的监控。&lt;/li>
&lt;li>域：选择云账号所属的域。当云账号私有状态下，域下所有项目用户都可以使用云账号创建资源。&lt;/li>
&lt;li>资源归属项目：选择将云账号上的资源同步到平台的本地项目。&lt;/li>
&lt;li>代理：当云账号需要代理才可以正常访问时设置该项，留空代表直连。如没有合适的代理，直接单击“新建”超链接，在弹出的新建代理对话框中设置相关参数，创建代理。&lt;/li>
&lt;li>自动同步：设置是否自动同步ZStack/DStack平台上的信息，并设置自动同步的时间间隔。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 按钮，测试输入的参数是否正确。&lt;/li>
&lt;li>测试通过后，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建阿里飞天私有云账号。&lt;/li>
&lt;/ol>
&lt;h4 id="飞天云相关参数获取方式">飞天云相关参数获取方式&lt;/h4>
&lt;h5 id="飞天云获取accesskey">飞天云获取Accesskey&lt;/h5>
&lt;p>只有运营管理员和一级组织管理员可以获取组织AccessKey。&lt;/p>
&lt;ol>
&lt;li>管理员登录ASCM控制台。&lt;/li>
&lt;li>在页面顶部菜单栏上，单击 &lt;strong>&lt;em>&amp;ldquo;企业&amp;rdquo;&lt;/em>&lt;/strong> 。&lt;/li>
&lt;li>在 &lt;strong>&lt;em>&amp;ldquo;企业&amp;rdquo;&lt;/em>&lt;/strong> 页面的左侧导航栏中，单击 &lt;strong>&lt;em>&amp;ldquo;组织管理&amp;rdquo;&lt;/em>&lt;/strong> 。&lt;/li>
&lt;li>在组织结构中，单击要添加的上级组织后面的设置图标。&lt;/li>
&lt;li>在弹出的下拉菜单中，选择 &lt;strong>&lt;em>&amp;ldquo;获取AccessKey&amp;rdquo;&lt;/em>&lt;/strong> 。&lt;/li>
&lt;li>在弹出的对话框中，查看组织Accesskey信息。&lt;/li>
&lt;/ol>
&lt;h5 id="飞天云获取endpoint">飞天云获取Endpoint&lt;/h5>
&lt;ol>
&lt;li>在地址栏中，输入ASO的访问地址region-id.aso.intranet-domain-id.com，按回车键。&lt;/li>
&lt;li>输入正确的用户名及密码，单击 &lt;strong>&lt;em>&amp;ldquo;登录&amp;rdquo;&lt;/em>&lt;/strong> ，进入ASO页面。&lt;/li>
&lt;li>在页面左侧导航栏中，单击 &lt;strong>&lt;em>&amp;ldquo;产品运维管理 &amp;gt; 产品列表 &amp;gt; 天基&amp;rdquo;&lt;/em>&lt;/strong> ，跳转到天基控制台页面。&lt;/li>
&lt;li>在天基控制台左侧导航栏中选择 &lt;strong>&lt;em>&amp;ldquo;报表&amp;rdquo;&lt;/em>&lt;/strong> 。&lt;/li>
&lt;li>在 &lt;strong>&lt;em>&amp;ldquo;全部报表&amp;rdquo;&lt;/em>&lt;/strong> 页面搜索 &lt;strong>&lt;em>&amp;ldquo;服务注册变量&amp;rdquo;&lt;/em>&lt;/strong> 。单击 &lt;strong>&lt;em>&amp;ldquo;服务注册变量&amp;rdquo;&lt;/em>&lt;/strong> 。&lt;/li>
&lt;li>在服务注册变量页面，单击Service旁边的图标，搜索对应产品服务。&lt;/li>
&lt;li>在服务的Service Registration列中，单击鼠标右键，选择 &lt;strong>&lt;em>&amp;ldquo;选择更多&amp;rdquo;&lt;/em>&lt;/strong> 。&lt;/li>
&lt;li>在 &lt;strong>&lt;em>&amp;ldquo;详情&amp;rdquo;&lt;/em>&lt;/strong> 页面查看产品服务的Endpoint地址。&lt;/li>
&lt;/ol>
&lt;h3 id="新建s3账号">新建S3账号&lt;/h3>
&lt;p>S3即Simple Storage service。在创建S3账号之前需要先部署基于S3协议的对象存储服务器，如MinIO等，MinIO的安装部署&lt;a href="https://min.io/download#/linux">参考链接&lt;/a>。&lt;/p>
&lt;ol>
&lt;li>
&lt;p>在云账号页面单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入新建云账号页面。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>选择云平台为S3，单击 &lt;strong>&lt;em>&amp;ldquo;下一步：配置云账号&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入配置云账号页面。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>设置以下参数：&lt;/p>
&lt;ul>
&lt;li>名称：S3对象存储服务器的名称。&lt;/li>
&lt;li>接入地址：S3对象存储服务器的接入地址。若部署MinIO服务器，接入地址格式为&lt;a href="http://IP%E5%9C%B0%E5%9D%80:9000">http://IP地址:9000&lt;/a>。&lt;/li>
&lt;li>密钥ID：即Access Key。&lt;/li>
&lt;li>密码：即Secret Key。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic">#在MinIO存储服务器上执行以下命令，即可获取到接入地址(Endpoint)、密钥ID(Access Key)、密码（Secret Key）信息#&lt;/span>
$ ./minio server /mnt/data
Endpoint: http://10.127.10.201:9000 http://127.0.0.1:9000
AccessKey: XRSN7GL67M70AM342UGV
SecretKey: mUd+e+h0DS3oIDEvF27b2EE4l+WN5MuZ2ZI+VOag
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>域：选择云账号所属的域。当云账号私有状态下，域下所有项目用户都可以使用云账号创建资源。&lt;/li>
&lt;li>资源归属项目：选择将云账号上的资源同步到平台的本地项目。如需将云账号上的资源按照云上项目归类，请先指定默认资源归属项目，并勾选自动创建项目。勾选后，将会在平台创建与云上项目同名的本地项目，并将资源同步到对应项目中。云上没有项目归属的资源将会同步到默认资源归属项目。&lt;/li>
&lt;li>代理：当云账号需要代理才可以正常访问时设置该项，留空代表直连。如没有合适的代理，直接单击“新建”超链接，在弹出的新建代理对话框中设置相关参数，创建代理。&lt;/li>
&lt;li>自动同步：设置是否自动同步S3对象存储服务器上的信息，并设置自动同步的时间间隔。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>单击 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 按钮，测试输入的参数是否正确。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>测试通过后，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建S3账号。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="新建ceph账号">新建Ceph账号&lt;/h3>
&lt;p>该功能用于对接并导入ceph对象存储资源。&lt;/p>
&lt;ol>
&lt;li>在云账号页面单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入新建云账号页面。&lt;/li>
&lt;li>选择云平台为Ceph，单击 &lt;strong>&lt;em>&amp;ldquo;下一步：配置云账号&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入配置云账号页面。&lt;/li>
&lt;li>设置以下参数：
&lt;ul>
&lt;li>名称：ceph对象存储服务器的名称。&lt;/li>
&lt;li>接入地址：ceph对象存储服务器的接入地址。&lt;/li>
&lt;li>密钥ID：ceph对象存储服务器的密钥ID。&lt;/li>
&lt;li>密码：密钥ID对应的密码信息。&lt;/li>
&lt;li>域：选择云账号所属的域。当云账号私有状态下，域下所有项目用户都可以使用云账号创建资源。&lt;/li>
&lt;li>资源归属项目：选择将云账号上的资源同步到平台的本地项目。如需将云账号上的资源按照云上项目归类，请先指定默认资源归属项目，并勾选自动创建项目。勾选后，将会在平台创建与云上项目同名的本地项目，并将资源同步到对应项目中。云上没有项目归属的资源将会同步到默认资源归属项目。&lt;/li>
&lt;li>代理：当云账号需要代理才可以正常访问时设置该项，留空代表直连。如没有合适的代理，直接单击“新建”超链接，在弹出的新建代理对话框中设置相关参数，创建代理。&lt;/li>
&lt;li>自动同步：设置是否自动同步Ceph对象存储上的信息，并设置自动同步的时间间隔。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 按钮，测试输入的参数是否正确。&lt;/li>
&lt;li>测试通过后，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建Ceph账号。&lt;/li>
&lt;/ol>
&lt;h3 id="新建xsky账号">新建XSKY账号&lt;/h3>
&lt;p>该功能用于对接并导入XSKY存储资源，要求用户环境中存在XSKY对象存储。&lt;/p>
&lt;ol>
&lt;li>在云账号页面单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入新建云账号页面。&lt;/li>
&lt;li>选择云平台为XSKY，单击 &lt;strong>&lt;em>&amp;ldquo;下一步：配置云账号&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入配置云账号页面。&lt;/li>
&lt;li>设置以下参数：
&lt;ul>
&lt;li>名称：XSKY存储服务器的名称。&lt;/li>
&lt;li>接入地址：XSKY存储服务器的接入地址。&lt;/li>
&lt;li>密钥ID：XSKY对象存储服务器的密钥ID。&lt;/li>
&lt;li>密码：密钥ID对应的密码信息。&lt;/li>
&lt;li>域：选择云账号所属的域。当云账号私有状态下，域下所有项目用户都可以使用云账号创建资源。&lt;/li>
&lt;li>资源归属项目：选择将云账号上的资源同步到平台的本地项目。如需将云账号上的资源按照云上项目归类，请先指定默认资源归属项目，并勾选自动创建项目。勾选后，将会在平台创建与云上项目同名的本地项目，并将资源同步到对应项目中。云上没有项目归属的资源将会同步到默认资源归属项目。&lt;/li>
&lt;li>代理：当云账号需要代理才可以正常访问时设置该项，留空代表直连。如没有合适的代理，直接单击“新建”超链接，在弹出的新建代理对话框中设置相关参数，创建代理。&lt;/li>
&lt;li>自动同步：设置是否自动同步XSKY对象存储上的信息，并设置自动同步的时间间隔。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 按钮，测试输入的参数是否正确。&lt;/li>
&lt;li>测试通过后，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，创建XSKY账号。&lt;/li>
&lt;/ol>
&lt;h2 id="全量同步">全量同步&lt;/h2>
&lt;p>该功能用于全量同步账号上的资源信息。&lt;/p>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">注意&lt;/h4>
&lt;ul>
&lt;li>禁用状态的云账号不支持全量同步；&lt;/li>
&lt;li>当云账号设置了自动同步也不支持全量同步。&lt;/li>
&lt;/ul>
&lt;/div>
&lt;p>&lt;strong>单个云账号全量同步&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击云账号右侧操作列 &lt;strong>&lt;em>&amp;ldquo;全量同步&amp;rdquo;&lt;/em>&lt;/strong> 按钮，全量同步云账号上的资源信息。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>批量全量同步&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号列表勾选一个或多个云账号，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;批量操作&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;全量同步&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，全量同步云账号上的资源信息。&lt;/li>
&lt;/ol>
&lt;h2 id="设置自动同步">设置自动同步&lt;/h2>
&lt;p>该功能用于设置云账号是否开启自动同步，并设置自动同步间隔时间。自动同步即增量同步云账号上的资源。&lt;/p>
&lt;p>&lt;strong>单个云账号设置自动同步&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击云账号右侧操作列 &lt;strong>&lt;em>&amp;ldquo;更多&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;设置自动同步&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出设置自动同步对话框。&lt;/li>
&lt;li>勾选是否启用自动同步，若启用自动同步，设置自动同步的时间间隔（间隔大于30分钟），单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>批量设置自动同步&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号列表勾选一个或多个云账号，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;批量操作&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;设置自动同步&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出设置自动同步对话框。&lt;/li>
&lt;li>勾选是否启用自动同步，若启用自动同步，设置自动同步的时间间隔（间隔大于30分钟），单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮。&lt;/li>
&lt;/ol>
&lt;h2 id="更新账号密码">更新账号密码&lt;/h2>
&lt;p>该功能用于更新云账号的账号和密码信息。不同平台的云账号参数不同。不同平台账号密码获取方式请参考对应的新建云账号章节。禁用状态的云账号不支持该操作。&lt;/p>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">注意&lt;/h4>
VMware云账号暂不支持更新账号。
&lt;/div>
&lt;ol>
&lt;li>在云账号列表中，分别单击不同平台云账号操作列 &lt;strong>&lt;em>&amp;ldquo;更多&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;更新账号密码&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出更新账号密码对话框。&lt;/li>
&lt;li>修改不同平台的账号密码信息，修改完成后，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮。&lt;/li>
&lt;/ol>
&lt;h2 id="更新账单文件">更新账单文件&lt;/h2>
&lt;p>该功能用于更新云账号的账单文件，仅阿里云、华为云、AWS、Azure、Google支持。不同平台的账单文件参数不同，不同平台账号密码获取方式请参考对应的新建云账号章节。&lt;/p>
&lt;ol>
&lt;li>在云账号列表中，分别单击不同平台云账号操作列 &lt;strong>&lt;em>&amp;ldquo;更多&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;更新账单文件&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入更新账单文件页面。&lt;/li>
&lt;li>修改不同平台的账单文件参数，修改完成后，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮。&lt;/li>
&lt;/ol>
&lt;h2 id="连接测试">连接测试&lt;/h2>
&lt;p>该功能用于测试账号的连接状态并同步云账号上的资源信息。禁用状态的云账号不支持该操作。&lt;/p>
&lt;p>&lt;strong>单个云账号连接测试&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击云账号右侧操作列 &lt;strong>&lt;em>&amp;ldquo;更多&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，测试账号连接状态，若处于云账号连接状态则同步云账号上资源信息。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>批量连接测试&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号列表勾选一个或多个云账号，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;批量操作&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;连接测试&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，测试账号连接状态，若处于云账号连接状态则同步云账号上资源信息。&lt;/li>
&lt;/ol>
&lt;h2 id="设置共享">设置共享&lt;/h2>
&lt;p>该功能用于设置云账号的共享状态。&lt;/p>
&lt;p>云账号不同与其它域资源，有5种共享情况。&lt;/p>
&lt;ul>
&lt;li>不共享（私有）：即云账号上的资源仅云账号所属域可用。&lt;/li>
&lt;li>共享云订阅-部分（多域共享云订阅）：当共享云订阅，并指定部分域后，管理员可以在订阅页面更改项目，只能选择订阅共享的域下的项目。设置完成后，云账号资源只有项目所在域中的用户使用。&lt;/li>
&lt;li>共享云订阅-全部（全局共享云订阅）：当共享云订阅选择全部域后，管理员以在订阅页面更改项目，可以选择任意域下的项目。设置完成后，云账号资源只有项目所在域中的用户使用。&lt;/li>
&lt;li>共享云账号-部分（多域共享云账号）：即云账号可以共享到指定域（一个或多个），只有云账号所在域和共享域下的用户可以使用云账号。&lt;/li>
&lt;li>共享云账号-全部（全局共享云账号）：即云账号可以共享给全部域使用，即系统中所有用户都可以使用云账号。&lt;/li>
&lt;/ul>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
&lt;p>设置共享的条件：需同时满足&lt;/p>
&lt;ul>
&lt;li>当前用户在系统后台。&lt;/li>
&lt;li>已开启三级权限。&lt;/li>
&lt;/ul>
&lt;/div>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">注意&lt;/h4>
通过云账号同步下来的资源（除安全组外）的共享范围都受云账号的共享范围影响。云账号上的资源其他域是否可用需要看资源的具体共享范围。
&lt;/div>
&lt;ol>
&lt;li>在云账号页面，单击云账号右侧操作列 &lt;strong>&lt;em>&amp;ldquo;更多&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;设置共享&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出设置共享对话框。&lt;/li>
&lt;li>配置以下参数：
&lt;ul>
&lt;li>当共享范围选择为“不共享”时，即云账号的共享范围为私有，仅云账号所属域可以使用云账号的资源。&lt;/li>
&lt;li>当共享范围选择为“共享云订阅”时，需要选择共享的域。
&lt;ul>
&lt;li>当域选择其中一个或多个域时，即云账号的共享范围为共享云订阅-部分，后续订阅更改项目时的选择范围为共享域下的任意项目。更改项目后，仅项目所属域可以使用云账号的资源。&lt;/li>
&lt;li>当域选择全部时，即云账号的共享范围为共享云订阅-全部，后续订阅更改项目时的可选范围为任意域下的任意项目。更改项目后，仅项目所属域可以使用云账号的资源。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>当共享范围选择为“共享云账号”是，需要选择共享的域。
&lt;ul>
&lt;li>当域选择其中一个或多个域时，即云账号的共享范围为共享云账号-部分，只有云账号所在域和共享域下的用户可以使用云账号的资源。&lt;/li>
&lt;li>当域选择全部时，即云账号的共享范围为共享云账号-全部，系统中的所有用户都可以使用云账号资源。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;h2 id="设置代理">设置代理&lt;/h2>
&lt;p>该功能用于帮助已创建好的云账号绑定代理。&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击云账号右侧操作列 &lt;strong>&lt;em>&amp;ldquo;更多&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;设置代理&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出设置代理对话框。&lt;/li>
&lt;li>选择代理，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮。&lt;/li>
&lt;/ol>
&lt;h2 id="启用">启用&lt;/h2>
&lt;p>该功能用于启用&amp;quot;禁用&amp;quot;状态的云账号，禁用状态的云账号的资源不能被使用。&lt;/p>
&lt;p>&lt;strong>单个启用&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击&amp;quot;禁用&amp;quot;状态的云账号右侧操作列 &lt;strong>&lt;em>&amp;ldquo;更多&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;启用&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，启用云账号。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>批量启用&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号列表中勾选一个或多个&amp;quot;禁用&amp;quot;状态的云账号，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;批量操作&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;启用&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，启用云账号。&lt;/li>
&lt;/ol>
&lt;h2 id="禁用">禁用&lt;/h2>
&lt;p>该功能用于禁用&amp;quot;启用&amp;quot;状态的云账号。删除之前需要先禁用云账号。&lt;/p>
&lt;p>&lt;strong>单个禁用&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击&amp;quot;启用&amp;quot;状态的云账号右侧操作列 &lt;strong>&lt;em>&amp;ldquo;更多&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;禁用&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，禁用云账号。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>批量禁用&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号列表中勾选一个或多个&amp;quot;启用&amp;quot;状态的云账号，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;批量操作&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;禁用&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，禁用云账号。&lt;/li>
&lt;/ol>
&lt;h2 id="删除">删除&lt;/h2>
&lt;p>该功能用于删除云账号。删除之前需要先禁用云账号。在云联壹云平台上删除云账号不会影响到云账号上的资源。&lt;/p>
&lt;p>&lt;strong>单个删除&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击&amp;quot;禁用&amp;quot;状态的云账号右侧操作列 &lt;strong>&lt;em>&amp;ldquo;更多&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;删除&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>批量删除&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号列表中勾选一个或多个&amp;quot;禁用&amp;quot;状态的云账号，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;批量操作&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;删除&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;h2 id="查看云账号详情">查看云账号详情&lt;/h2>
&lt;p>该功能用于查看云账号的详细信息。&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击指定云账号名称项，进入云账号详情页面。&lt;/li>
&lt;li>详情页面顶部菜单项支持对云账号进行更新账号密码、全量同步、设置自动同步、连接测试、设置为共享、设置为私有、启用、禁用、删除等操作。&lt;/li>
&lt;li>查看以下信息：
&lt;ul>
&lt;li>基本信息：包括ID、名称、状态、域、项目、共享范围、平台、账号、代理、启用状态、同步时间、创建时间、更新时间、备注等。&lt;/li>
&lt;li>账号信息：包括环境、健康状态、余额、虚拟机数量、宿主机数量。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="查看宿主机信息">查看宿主机信息&lt;/h2>
&lt;p>该功能用于查看私有云平台以及VMware平台的宿主机信息。公有云账号无该页面。&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击“宿主机”页签，进入宿主机页面。&lt;/li>
&lt;li>查看宿主机信息，并支持对宿主机进行管理操作。&lt;/li>
&lt;/ol>
&lt;h2 id="订阅管理">订阅管理&lt;/h2>
&lt;p>订阅类似于子账号。通过云账号和订阅确定公有云上的可用资源。云管平台实际通过订阅在对应的公有云平台上购买资源。
订阅和云账号一样都是域资源，订阅同步下来的资源归属与云账号相同的项目，表示项目所在域下的用户都有权限使用订阅创建资源。&lt;/p>
&lt;ul>
&lt;li>VMware、OpenStack、ZStack、DStack、AWS、阿里云、腾讯云平台的云账号下只有一个订阅。&lt;/li>
&lt;li>Azure、华为云、UCloud平台的云账号下支持多个订阅，其中华为云一个订阅属于一个区域。&lt;/li>
&lt;/ul>
&lt;h3 id="更改项目">更改项目&lt;/h3>
&lt;p>该功能用于更改订阅所属项目，实质为更改订阅的所属域。当云账号设置共享云订阅并指定共享范围后，管理员可通过更改项目功能修改订阅所属域，可选域为云订阅的共享范围，修改完成后仅订阅所属域中的用户有权限使用订阅资源。&lt;/p>
&lt;p>&lt;strong>单个订阅更改项目&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号详情页面，单击“订阅”页签，进入订阅页面。&lt;/li>
&lt;li>单击订阅右侧操作列 &lt;strong>&lt;em>&amp;ldquo;更改项目&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出更改项目对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>批量更改项目&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号详情页面，单击“订阅”页签，进入订阅页面。&lt;/li>
&lt;li>在列表勾选一个或多个订阅，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;更改项目&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出更改项目对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;h3 id="全量同步-1">全量同步&lt;/h3>
&lt;p>该功能用于全量同步订阅信息。&lt;/p>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
&lt;ul>
&lt;li>当云账号只有一个订阅，全量同步订阅等同于全量同步云账号。&lt;/li>
&lt;li>当云账号有多个订阅，如华为云，全量同步订阅仅同步订阅下的区域信息。&lt;/li>
&lt;/ul>
&lt;/div>
&lt;ol>
&lt;li>在云账号详情页面，单击“订阅”页签，进入订阅页面。&lt;/li>
&lt;li>单击订阅右侧操作列 &lt;strong>&lt;em>&amp;ldquo;全量同步&amp;rdquo;&lt;/em>&lt;/strong> 按钮，同步订阅信息。&lt;/li>
&lt;/ol>
&lt;h3 id="启用订阅">启用订阅&lt;/h3>
&lt;p>当订阅处于”启用“状态，且状态处于“已连接”时，用户可以正常使用订阅在对应的公有云平台的区域中创建资源。&lt;/p>
&lt;p>&lt;strong>单个启用&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号详情页面，单击“订阅”页签，进入订阅页面。&lt;/li>
&lt;li>单击&amp;quot;禁用&amp;quot;状态的订阅右侧操作列 &lt;strong>&lt;em>&amp;ldquo;更多&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;启用&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，启用订阅。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>批量启用&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号详情页面，单击“订阅”页签，进入订阅页面。&lt;/li>
&lt;li>在列表中选择一个或多个&amp;quot;禁用&amp;quot;状态的订阅，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;启用&amp;rdquo;&lt;/em>&lt;/strong> 按钮，批量启用订阅。&lt;/li>
&lt;/ol>
&lt;h3 id="禁用订阅">禁用订阅&lt;/h3>
&lt;p>当订阅处于&amp;quot;禁用&amp;quot;状态，用户无法使用订阅在对应的公有云平台的区域中创建资源。&lt;/p>
&lt;p>&lt;strong>单个禁用&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号详情页面，单击“订阅”页签，进入订阅页面。&lt;/li>
&lt;li>单击&amp;quot;启用&amp;quot;状态的订阅右侧操作列 &lt;strong>&lt;em>&amp;ldquo;更多&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;禁用&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，禁用订阅。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>批量禁用&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号详情页面，单击“订阅”页签，进入订阅页面。&lt;/li>
&lt;li>在列表中选择一个或多个&amp;quot;启用&amp;quot;状态的订阅，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;禁用&amp;rdquo;&lt;/em>&lt;/strong> 按钮，批量禁用订阅。&lt;/li>
&lt;/ol>
&lt;h3 id="查看订阅详情页面">查看订阅详情页面&lt;/h3>
&lt;ol>
&lt;li>在云账号详情页面，单击“订阅”页签，进入订阅页面。&lt;/li>
&lt;li>单击订阅名称项，进入订阅详情页面。&lt;/li>
&lt;li>查看以下信息。
&lt;ul>
&lt;li>基本信息：包括ID、名称、状态、域、项目、平台、账号、启用状态、同步时间、创建时间、更新时间、备注。&lt;/li>
&lt;li>其他信息：包括健康状态等。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="查看订阅下的区域">查看订阅下的区域&lt;/h3>
&lt;p>该功能用于查看订阅下的区域信息，不同平台下的订阅支持的区域不同，其中除华为云外的公有云平台，一个订阅下支持多个区域，华为云一个订阅支持一个区域，用户在公有云平台创建虚拟机时需要根据地理位置选择对应平台可用区等。&lt;/p>
&lt;h4 id="设置同步">设置同步&lt;/h4>
&lt;p>用户可根据使用情况设置是否同步该区域的资源，例如用户不使用阿里云国外区域的资源，可通过批量设置同步功能关闭阿里云国外区域的同步功能，后续用户全量同步云账号或订阅时，将不会同步阿里云国外区域的资源，节省全量同步的时间。&lt;/p>
&lt;p>&lt;strong>单个区域设置同步&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在订阅详情页面，单击“区域”页签，进入区域页面。&lt;/li>
&lt;li>单击区域右侧操作列 &lt;strong>&lt;em>&amp;ldquo;设置同步&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出设置同步对话框。&lt;/li>
&lt;li>选择是否同步该区域的资源，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>批量设置同步&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在订阅详情页面，单击“区域”页签，进入区域页面。&lt;/li>
&lt;li>在列表中勾选一个或多个区域，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;设置同步&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出设置同步对话框。&lt;/li>
&lt;li>选择是否同步该区域的资源，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮。&lt;/li>
&lt;/ol>
&lt;h4 id="全量同步-2">全量同步&lt;/h4>
&lt;p>该功能用于全量同步订阅下指定区域的资源。&lt;/p>
&lt;ol>
&lt;li>在订阅详情页面，单击“区域”页签，进入区域页面。&lt;/li>
&lt;li>单击区域右侧操作列 &lt;strong>&lt;em>&amp;ldquo;全量同步&amp;rdquo;&lt;/em>&lt;/strong> 按钮，全量同步该区域的资源。&lt;/li>
&lt;/ol>
&lt;h3 id="查看订阅的云上配额">查看订阅的云上配额&lt;/h3>
&lt;p>该功能用于查看公有云平台上的配额信息。&lt;/p>
&lt;ol>
&lt;li>在订阅详情页面，单击“云上配额”页签，进入云上配额页面。&lt;/li>
&lt;li>查看不同资源的配额使用情况。&lt;/li>
&lt;/ol>
&lt;h3 id="查看订阅下的资源统计信息">查看订阅下的资源统计信息&lt;/h3>
&lt;p>该功能用于统计订阅下的资源信息，云账号下有多个订阅时，所有订阅的资源统计相加等于云账号下的资源统计。&lt;/p>
&lt;ol>
&lt;li>在订阅详情页面，单击“资源统计”页签，进入资源统计页面。&lt;/li>
&lt;li>查看以下信息：
&lt;ul>
&lt;li>基本信息：对象存储容量、对象存储文件数量、存储桶数量、磁盘容量、已挂载磁盘的容量、未挂载磁盘的容量、异常状态的磁盘的容量、弹性公网IP和公网总数、弹性IP总量、已使用的弹性公网IP总量、公网IP总量、已使用弹性公网IP和公网总数、启用的宿主机数量、启用的宿主机CPU数量、启用的宿主机CPU虚拟数量、启用的宿主机内存容量、启用的宿主机内存虚拟容量、宿主机总量、宿主机CPU总量、宿主机CPU虚拟数量、宿主机内存容量、宿主机内存虚拟容量、GPU卡总量、IP子网总量、当前项目网卡数量、虚拟机网卡数量、负载均衡网卡数量、回收站虚拟机数量、回收站虚拟机CPU的数量、回收站虚拟机磁盘容量、回收站虚拟机GPU卡数量、回收站虚拟机内存容量、IP总量、外网IP数量、关机状态虚拟机数量、关机状态虚拟机CPU数量、关机状态虚拟机磁盘容量、关机状态的虚拟机GPU卡数量、关机状态的虚拟机内存容量、区域总数量、运行状态的虚拟机数量、运行状态的虚拟机CPU数量、运行状态的虚拟机磁盘容量、运行状态的虚拟机GPU卡数量、运行状态的虚拟机内存容量、虚拟机数量、虚拟机CPU数量、虚拟机磁盘容量、虚拟机GPU卡数量、虚拟机内存容量、快照数量、存储总容量、存储总虚拟容量、VPC数量、二层网络数量、可用区的数量。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="查看云账号下的项目">查看云账号下的项目&lt;/h2>
&lt;p>该功能用于查看云平台上的项目与本地项目的映射。其中VMware、OpenStack、阿里云、华为云、腾讯云、Azure平台上的项目与本地项目支持双向同步。&lt;/p>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
&lt;ul>
&lt;li>在云上项目的对应项目中创建资源，将会同步到对应的云上项目；&lt;/li>
&lt;li>在没有对应云上项目的项目中创建资源，如果云平台上有同名项目，将会同步到同名项目上；若没有同名项目，则会在云上创建同名项目，并将资源同步到同名项目中。&lt;/li>
&lt;/ul>
&lt;/div>
&lt;h3 id="切换本地项目">切换本地项目&lt;/h3>
&lt;p>该功能用于更改本地项目与云上项目的映射关系。切换本地项目后，云账号的资源也将同步至新项目。&lt;/p>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
&lt;ul>
&lt;li>如云账号的资源在云联壹云平台上已更改项目，切换本地项目将不会影响已更改项目的资源。&lt;/li>
&lt;li>切换本地项目后，计费也将同步到新项目。&lt;/li>
&lt;li>域的可选范围与云帐号的共享范围有关；云账号私有时，只能选择云账号所属域；云账号共享云订阅时，只能选择云订阅所属域，云账号多域共享时，可以选择云帐号所属域和共享域。&lt;/li>
&lt;/ul>
&lt;/div>
&lt;p>&lt;strong>切换本地项目&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在订阅详情页面，单击“项目”页签，进入项目页面。&lt;/li>
&lt;li>单击项目对应操作列 &lt;strong>&lt;em>&amp;ldquo;切换本地项目&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出切换本地对话框。&lt;/li>
&lt;li>选择域和项目，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>批量切换本地项目&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在订阅详情页面，单击“项目”页签，进入项目页面。&lt;/li>
&lt;li>在列表中选择一个或多个项目，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;切换本地项目&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出切换本地对话框。&lt;/li>
&lt;li>选择域和项目，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮。&lt;/li>
&lt;/ol>
&lt;h2 id="查看资源统计信息">查看资源统计信息&lt;/h2>
&lt;p>该功能用于统计云账号下的资源信息。&lt;/p>
&lt;ol>
&lt;li>在云账号详情页面，单击“资源统计”页签，进入资源统计页面。&lt;/li>
&lt;li>查看以下信息：
&lt;ul>
&lt;li>基本信息：对象存储容量、对象存储文件数量、存储桶数量、磁盘容量、已挂载磁盘的容量、未挂载磁盘的容量、异常状态的磁盘的容量、弹性公网IP和公网总数、弹性IP总量、已使用的弹性公网IP总量、公网IP总量、已使用弹性公网IP和公网总数、启用的宿主机数量、启用的宿主机CPU数量、启用的宿主机CPU虚拟数量、启用的宿主机内存容量、启用的宿主机内存虚拟容量、宿主机总量、宿主机CPU总量、宿主机CPU虚拟数量、宿主机内存容量、宿主机内存虚拟容量、GPU卡总量、IP子网总量、当前项目网卡数量、虚拟机网卡数量、负载均衡网卡数量、回收站虚拟机数量、回收站虚拟机CPU的数量、回收站虚拟机磁盘容量、回收站虚拟机GPU卡数量、回收站虚拟机内存容量、IP总量、外网IP数量、关机状态虚拟机数量、关机状态虚拟机CPU数量、关机状态虚拟机磁盘容量、关机状态的虚拟机GPU卡数量、关机状态的虚拟机内存容量、区域总数量、运行状态的虚拟机数量、运行状态的虚拟机CPU数量、运行状态的虚拟机磁盘容量、运行状态的虚拟机GPU卡数量、运行状态的虚拟机内存容量、虚拟机数量、虚拟机CPU数量、虚拟机磁盘容量、虚拟机GPU卡数量、虚拟机内存容量、快照数量、存储总容量、存储总虚拟容量、VPC数量、二层网络数量、可用区的数量。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="云用户管理">云用户管理&lt;/h2>
&lt;p>云用户即公有云平台（不支持天翼云和UCloud）上的用户，该功能用于管理公有云云账号下的云用户信息。&lt;/p>
&lt;p>&lt;strong>云用户来源&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>当云管平台对接公有云平台云账号时，将会同步公有云平台上子账号和协作者到云管平台。&lt;/li>
&lt;li>新建云用户。&lt;/li>
&lt;/ul>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
&lt;ul>
&lt;li>系统管理员可以在任意域的云账号管理云用户。&lt;/li>
&lt;li>域管理员只能在本域下的云账号管理云用户。&lt;/li>
&lt;/ul>
&lt;/div>
&lt;h3 id="新建云用户">新建云用户&lt;/h3>
&lt;p>该功能用于新建云用户，即在对应公有云平台上新建用户，并支持将该用户关联云联壹云平台的本地用户。关联本地用户后，本地用户可以在用户信息处的云上用户查看关联的云用户信息，并支持便捷的使用云用户登录公有云平台。&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。&lt;/li>
&lt;li>单击“云用户”页签，进入云用户页面。&lt;/li>
&lt;li>单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹性新建云用户对话框。&lt;/li>
&lt;li>配置以下参数：
&lt;ul>
&lt;li>云订阅：仅谷歌云需要设置该参数，谷歌云的订阅对应谷歌云的项目。指定云订阅即为指定的谷歌云账号添加对应项目。&lt;/li>
&lt;li>用户名：设置云用户的名称，将会使用该名称在对应公有云平台（除谷歌云外）创建用户。谷歌云必须填入已存在的账号。
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
对于谷歌云来说，新建云用户操作即将谷歌云的已有账号与平台对接的谷歌云账号通过项目关联起来。
&lt;/div>
&lt;/li>
&lt;li>云用户组：将云用户加入云用户组，云用户将拥有该云用户组的所有权限。&lt;/li>
&lt;li>关联本地用户：选择已加入项目的本地用户。
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
&lt;p>&lt;strong>管理后台&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>当云账号共享范围是私有或共享云订阅时，仅可以选择加入云账号所在域下项目的用户。&lt;/li>
&lt;li>当云账号共享范围是全局共享时，可以选择加入加入任意域下的项目的用户。&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>域管理后台&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>无论云账号共享范围如何，仅可以选择加入本域下项目的用户。&lt;/li>
&lt;/ul>
&lt;/div>
&lt;/li>
&lt;li>邮箱：配置接收创建云用户信息的邮箱。当勾选“发送创建云用户邮件时”，将会发送创建信息到该邮箱。
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
请确保已经在通知渠道中配置了邮箱服务。
&lt;/div>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;h3 id="同步状态">同步状态&lt;/h3>
&lt;p>该功能用于获取云用户的当前状态。&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。&lt;/li>
&lt;li>单击“云用户”页签，进入云用户页面。&lt;/li>
&lt;li>单击云用户右侧操作列 &lt;strong>&lt;em>&amp;ldquo;同步状态&amp;rdquo;&lt;/em>&lt;/strong> 按钮，同步云用户状态。&lt;/li>
&lt;/ol>
&lt;h3 id="修改本地用户">修改本地用户&lt;/h3>
&lt;p>该功能用于修改云用户关联的本地用户。修改本地用户操作将会重置云用户的密码。&lt;/p>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">注意&lt;/h4>
谷歌云平台的云用户关联本地用户时不会重置密码。
&lt;/div>
&lt;ol>
&lt;li>在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。&lt;/li>
&lt;li>单击“云用户”页签，进入云用户页面。&lt;/li>
&lt;li>单击云用户右侧操作列 &lt;strong>&lt;em>&amp;ldquo;更多&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;修改本地用户&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出修改本地用户对话框。&lt;/li>
&lt;li>选择本地用户，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮。&lt;/li>
&lt;/ol>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
&lt;p>&lt;strong>管理后台&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>当云账号共享范围是私有或共享云订阅时，仅可以选择加入云账号所在域下项目的用户。&lt;/li>
&lt;li>当云账号共享范围是全局共享时，可以选择加入加入任意域下的项目的用户。&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>域管理后台&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>无论云账号共享范围如何，仅可以选择加入本域下项目的用户。&lt;/li>
&lt;/ul>
&lt;/div>
&lt;h3 id="关联云用户组">关联云用户组&lt;/h3>
&lt;p>该功能用于将云用户加入云用户组。云用户将拥有该云用户组的所有权限。&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。&lt;/li>
&lt;li>单击“云用户”页签，进入云用户页面。&lt;/li>
&lt;li>单击云用户右侧操作列 &lt;strong>&lt;em>&amp;ldquo;更多&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;关联云用户组&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出关联云用户组对话框。&lt;/li>
&lt;li>选择云用户组，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;h3 id="删除-1">删除&lt;/h3>
&lt;p>该功能用于删除云用户，删除操作将会在对应公有云平台上删除对应用户。&lt;/p>
&lt;p>&lt;strong>单个删除&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。&lt;/li>
&lt;li>单击“云用户”页签，进入云用户页面。&lt;/li>
&lt;li>单击云用户右侧操作列 &lt;strong>&lt;em>&amp;ldquo;更多&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;删除&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>批量删除&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。&lt;/li>
&lt;li>单击“云用户”页签，进入云用户页面。&lt;/li>
&lt;li>在列表中选择一个或多个云用户，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;批量操作&amp;rdquo;&lt;/em>&lt;/strong> 按钮，选择下拉菜单 &lt;strong>&lt;em>&amp;ldquo;删除&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;h3 id="查看云用户详情">查看云用户详情&lt;/h3>
&lt;p>该功能用于查看云用户详细信息。&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。&lt;/li>
&lt;li>单击“云用户”页签，进入云用户页面。&lt;/li>
&lt;li>单击云用户名称项，进入云用户详情页面。&lt;/li>
&lt;li>查看以下信息：包括ID、名称、状态、域、项目、平台、登录地址、关联本地用户、控制台登录、创建时间、更新时间、备注。&lt;/li>
&lt;/ol>
&lt;h3 id="查看云用户关联的云用户组">查看云用户关联的云用户组&lt;/h3>
&lt;p>该功能用于查看云用户关联的云用户组，支持将云用户从云用户组移除操作。&lt;/p>
&lt;h4 id="移除云用户组">移除云用户组&lt;/h4>
&lt;p>该功能用于将云用户从云用户组移除。&lt;/p>
&lt;p>&lt;strong>单个移除&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。&lt;/li>
&lt;li>单击“云用户”页签，进入云用户页面。&lt;/li>
&lt;li>单击云用户名称项，进入云用户详情页面。&lt;/li>
&lt;li>单击“云用户组”页签，进入云用户组页面。&lt;/li>
&lt;li>单击云用户组右侧操作列 &lt;strong>&lt;em>&amp;ldquo;删除&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>批量移除&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。&lt;/li>
&lt;li>单击“云用户”页签，进入云用户页面。&lt;/li>
&lt;li>单击云用户名称项，进入云用户详情页面。&lt;/li>
&lt;li>单击“云用户组”页签，进入云用户组页面。&lt;/li>
&lt;li>在列表中选择一个或多个云用户组，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;删除&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;h3 id="查看云用户的操作日志">查看云用户的操作日志&lt;/h3>
&lt;p>该功能用于查看云用户相关操作的操作日志。&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。&lt;/li>
&lt;li>单击“云用户”页签，进入云用户页面。&lt;/li>
&lt;li>单击云用户名称项，进入云用户详情页面。&lt;/li>
&lt;li>单击“操作日志”页签，进入操作日志页面。
&lt;ul>
&lt;li>加载更多日志：在操作日志页面，列表默认显示20条操作日志信息，如需查看更多操作日志，请单击 &lt;strong>&lt;em>&amp;ldquo;加载更多&amp;rdquo;&lt;/em>&lt;/strong> 按钮，获取更多日志信息。&lt;/li>
&lt;li>查看日志详情：单击操作日志右侧操作列 &lt;strong>&lt;em>&amp;ldquo;查看&amp;rdquo;&lt;/em>&lt;/strong> 按钮，查看日志的详情信息。支持复制详情内容。&lt;/li>
&lt;li>查看指定时间段的日志：如需查看某个时间段的操作日志，在列表右上方的开始日期和结束日期中设置具体的日期，查询指定时间段的日志信息。&lt;/li>
&lt;li>导出日志：目前仅支持导出本页显示的日志。单击右上角&lt;img src="../../../images/system/download.png" alt="">图标，在弹出的导出数据对话框中，设置导出数据列，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，导出日志。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="云用户组管理">云用户组管理&lt;/h2>
&lt;p>该功能用于查看云账号对应的公有云平台中可用的云用户组。如当前云用户组不满足需求，可新建云用户组。&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。&lt;/li>
&lt;li>单击“云用户组”页签，进入云用户组页面。&lt;/li>
&lt;li>对云用户组支持进行管理操作，详细请参考&lt;a href="../cloudgroup/">云用户组&lt;/a>内容。&lt;/li>
&lt;/ol>
&lt;h2 id="免密登录用户管理">免密登录用户管理&lt;/h2>
&lt;p>该功能用于管理可以免密登录公有云平台的系统内用户。&lt;/p>
&lt;h3 id="新建免密登录用户">新建免密登录用户&lt;/h3>
&lt;p>该功能用于将系统内的本地用户设置为公有云平台的免密登录用户。&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。&lt;/li>
&lt;li>单击“免密登录用户”页签，进入免密登录用户页面。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出新建免密登录用户。&lt;/li>
&lt;li>关联本地用户，并选择对应云用户组。&lt;/li>
&lt;li>单击&amp;lt;确定&amp;gt;按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;h3 id="删除免密登录用户">删除免密登录用户&lt;/h3>
&lt;p>该功能用于删除免密登录用户，删除后，系统内用户将无法再免密登录到公有云。&lt;/p>
&lt;h4 id="删除免密登录用户-1">删除免密登录用户&lt;/h4>
&lt;ol>
&lt;li>在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。&lt;/li>
&lt;li>单击“免密登录用户”页签，进入免密登录用户页面。&lt;/li>
&lt;li>单击用户右侧操作列 &lt;strong>&lt;em>&amp;ldquo;删除&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;h4 id="批量删除免密登录用户">批量删除免密登录用户&lt;/h4>
&lt;ol>
&lt;li>在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。&lt;/li>
&lt;li>单击“免密登录用户”页签，进入免密登录用户页面。&lt;/li>
&lt;li>在列表中选择一个或多个用户，单击 &lt;strong>&lt;em>&amp;ldquo;删除&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;h2 id="查看操作日志">查看操作日志&lt;/h2>
&lt;p>该功能用于查看云账号相关操作的日志信息&lt;/p>
&lt;ol>
&lt;li>在云账号页面，单击指定云账号名称项，进入云账号详情页面。&lt;/li>
&lt;li>单击“操作日志”页签，进入操作日志页面。
&lt;ul>
&lt;li>加载更多日志：在操作日志页面，列表默认显示20条操作日志信息，如需查看更多操作日志，请单击 &lt;strong>&lt;em>&amp;ldquo;加载更多&amp;rdquo;&lt;/em>&lt;/strong> 按钮，获取更多日志信息。&lt;/li>
&lt;li>查看日志详情：单击操作日志右侧操作列 &lt;strong>&lt;em>&amp;ldquo;查看&amp;rdquo;&lt;/em>&lt;/strong> 按钮，查看日志的详情信息。支持复制详情内容。&lt;/li>
&lt;li>查看指定时间段的日志：如需查看某个时间段的操作日志，在列表右上方的开始日期和结束日期中设置具体的日期，查询指定时间段的日志信息。&lt;/li>
&lt;li>导出日志：目前仅支持导出本页显示的日志。单击右上角&lt;img src="../../../images/system/download.png" alt="">图标，在弹出的导出数据对话框中，设置导出数据列，单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，导出日志。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="如何通过本系统免密登录公有云平台">如何通过本系统免密登录公有云平台？&lt;/h2>
&lt;p>目前仅支持腾讯云。&lt;/p>
&lt;p>公有云平台支持基于SAML协议的单点登录功能，通过身份提供商功能，可以实现企业用户通过自己的账号体系单点登录公有云平台，并管理公有云平台的资源。&lt;/p>
&lt;h3 id="身份提供商">身份提供商&lt;/h3>
&lt;p>身份提供商（Identity Provider，简称IdP）用于提供身份验证，外部用户通过已知的身份提供商身份验证后，将使用角色登录公有云平台。外部用户将在角色的有限权限范围内进行资源访问。因外部身份用户登录腾讯云所用的是角色，而角色使用的是临时密钥，您可避免因长期使用密钥（例如云 API 密钥），导致难以轮换密钥以及被截取后泄露导致的安全问题。&lt;/p>
&lt;h3 id="使用流程">使用流程&lt;/h3>
&lt;ol>
&lt;li>在云联壹云平台上创建云账号时，开启免密登录功能，此时将会把系统的SAML信息上传到公有云平台，使系统作为公有云平台的身份提供商。&lt;/li>
&lt;li>在云用户组页面，创建对应平台云用户组，并选择对应权限。&lt;/li>
&lt;li>在云账号详情-免密登录用户页面，新建免密登录用户，关联本地用户并指定用户所属的云用户组。该操作用于授予系统内用户免密登录公有云的权限。&lt;/li>
&lt;li>后续关联云上SAML用户的本地用户，可在 &lt;strong>&lt;em>&amp;ldquo;用户信息-云上用户-免密登录用户&amp;rdquo;&lt;/em>&lt;/strong> 中单击 &lt;strong>&lt;em>&amp;ldquo;免密登录&amp;rdquo;&lt;/em>&lt;/strong> 按钮，将会以指定的权限免密登录公有云平台。&lt;/li>
&lt;/ol></description></item><item><title>Docs: 组件概览</title><link>https://www.cloudpods.org/v3.4/docs/setup/intro/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/setup/intro/</guid><description>
&lt;p>云联壹云 目前仅支持在 CentOS 7 上运行，待部署组件/服务如下:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">服务组件&lt;/th>
&lt;th style="text-align:center">用途&lt;/th>
&lt;th style="text-align:center">安装方式&lt;/th>
&lt;th style="text-align:center">运行方式&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">mariadb&lt;/td>
&lt;td style="text-align:center">关系型数据库&lt;/td>
&lt;td style="text-align:center">rpm&lt;/td>
&lt;td style="text-align:center">systemd&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">docker&lt;/td>
&lt;td style="text-align:center">容器运行时&lt;/td>
&lt;td style="text-align:center">rpm&lt;/td>
&lt;td style="text-align:center">systemd&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">kubelet&lt;/td>
&lt;td style="text-align:center">管理 kubernetes pod&lt;/td>
&lt;td style="text-align:center">rpm&lt;/td>
&lt;td style="text-align:center">systemd&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">keystone&lt;/td>
&lt;td style="text-align:center">认证服务&lt;/td>
&lt;td style="text-align:center">k8s deployment&lt;/td>
&lt;td style="text-align:center">container&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">region&lt;/td>
&lt;td style="text-align:center">api 控制器&lt;/td>
&lt;td style="text-align:center">k8s deployment&lt;/td>
&lt;td style="text-align:center">container&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">scheduler&lt;/td>
&lt;td style="text-align:center">调度服务&lt;/td>
&lt;td style="text-align:center">k8s deployment&lt;/td>
&lt;td style="text-align:center">container&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">glance&lt;/td>
&lt;td style="text-align:center">镜像存储&lt;/td>
&lt;td style="text-align:center">k8s deployment&lt;/td>
&lt;td style="text-align:center">container&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">webconsole&lt;/td>
&lt;td style="text-align:center">虚拟机访问界面&lt;/td>
&lt;td style="text-align:center">k8s deployment&lt;/td>
&lt;td style="text-align:center">container&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">influxdb&lt;/td>
&lt;td style="text-align:center">监控数据库&lt;/td>
&lt;td style="text-align:center">k8s deployment&lt;/td>
&lt;td style="text-align:center">container&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">host&lt;/td>
&lt;td style="text-align:center">管理虚拟机&lt;/td>
&lt;td style="text-align:center">k8s daemonset&lt;/td>
&lt;td style="text-align:center">container&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">sdnagent&lt;/td>
&lt;td style="text-align:center">管理虚拟机网络&lt;/td>
&lt;td style="text-align:center">rpm&lt;/td>
&lt;td style="text-align:center">systemd&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">baremetal-agent&lt;/td>
&lt;td style="text-align:center">管理物理机&lt;/td>
&lt;td style="text-align:center">k8s deployment&lt;/td>
&lt;td style="text-align:center">container&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">climc&lt;/td>
&lt;td style="text-align:center">命令行工具&lt;/td>
&lt;td style="text-align:center">rpm&lt;/td>
&lt;td style="text-align:center">shell&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">ocadm&lt;/td>
&lt;td style="text-align:center">部署服务管理工具&lt;/td>
&lt;td style="text-align:center">rpm&lt;/td>
&lt;td style="text-align:center">shell&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>其中 host 和 baremetal-agent 可以根据需求选择性部署:&lt;/p>
&lt;ul>
&lt;li>管理 kvm 虚拟机: 部署 host 服务&lt;/li>
&lt;li>管理物理机: 部署 baremetal-agent 服务&lt;/li>
&lt;/ul></description></item><item><title>Docs: 部署 HA 环境</title><link>https://www.cloudpods.org/v3.4/docs/setup/controlplane-ha/</link><pubDate>Sat, 13 Apr 2019 13:01:57 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/setup/controlplane-ha/</guid><description>
&lt;p>在部署生产可用的 kubernetes 集群之前，需要先部署 LoadBalancer 环境，这里使用 &lt;strong>keepalived + haproxy&lt;/strong> 的方式实现负载均衡和高可用。&lt;/p>
&lt;h2 id="环境说明">环境说明&lt;/h2>
&lt;p>单独拿两个节点部署 keepalived 和 haproxy 作为后端 kubernetes 控制平面的负载均衡器，拓扑结构如下:&lt;/p>
&lt;p>&lt;img src="../images/k8s.png" alt="">&lt;/p>
&lt;p>两个节点上面分别部署 keepalived 和 haproxy 组成负载均衡集群，haproxy 的 backend 为后端的 kubernetes control plane node，vip(虚ip) 在这两个节点之间漂移形成高可用。&lt;/p>
&lt;p>另外 云联壹云 服务使用 Mariadb，如果没有专门的数据库集群，可以单独拿两个节点部署 Mariadb 高可用。参考 &lt;a href="https://www.cloudpods.org/v3.4/docs/setup/db-ha">部署 DB HA 环境&lt;/a> 。&lt;/p>
&lt;h2 id="部署">部署&lt;/h2>
&lt;p>keepalived 的主要作用是为 haproxy 提供 vip，在2个 haproxy 实例之间提供主备，降低当其中一个haproxy失效的时对服务的影响。&lt;/p>
&lt;h3 id="部署配置-keepalived">部署配置 keepalived&lt;/h3>
&lt;p>设置相关的环境变量，根据不同的环境自行配置。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># keepalived vip 地址&lt;/span>
&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">K8SHA_VIP&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>10.168.222.18
&lt;span style="color:#8f5902;font-style:italic"># keepalived auth toke&lt;/span>
&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">K8SHA_KA_AUTH&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>412f7dc3bfed32194d1600c483e10ad1d
&lt;span style="color:#8f5902;font-style:italic"># keepalived network interface&lt;/span>
&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">K8SHA_NETIF&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>eth0
&lt;/code>&lt;/pre>&lt;/div>&lt;p>设置 sysctl 选项&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt;&amp;gt;/etc/sysctl.conf
&lt;/span>&lt;span style="color:#4e9a06">net.ipv4.ip_forward = 1
&lt;/span>&lt;span style="color:#4e9a06">net.ipv4.ip_nonlocal_bind = 1
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
$ sysctl -p
&lt;/code>&lt;/pre>&lt;/div>&lt;p>安装 keepalived&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ yum install -y keepalived
&lt;/code>&lt;/pre>&lt;/div>&lt;p>添加配置&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt;/etc/keepalived/keepalived.conf
&lt;/span>&lt;span style="color:#4e9a06">! Configuration File for keepalived
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">global_defs {
&lt;/span>&lt;span style="color:#4e9a06"> router_id LVS_DEVEL
&lt;/span>&lt;span style="color:#4e9a06">}
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">vrrp_script check_haproxy {
&lt;/span>&lt;span style="color:#4e9a06"> script &amp;#34;pidof haproxy&amp;#34;
&lt;/span>&lt;span style="color:#4e9a06"> interval 3
&lt;/span>&lt;span style="color:#4e9a06"> weight -2
&lt;/span>&lt;span style="color:#4e9a06"> fall 10
&lt;/span>&lt;span style="color:#4e9a06"> rise 2
&lt;/span>&lt;span style="color:#4e9a06">}
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">vrrp_instance VI_1 {
&lt;/span>&lt;span style="color:#4e9a06"> state MASTER
&lt;/span>&lt;span style="color:#4e9a06"> interface $K8SHA_NETIF
&lt;/span>&lt;span style="color:#4e9a06"> virtual_router_id 51
&lt;/span>&lt;span style="color:#4e9a06"> priority 250
&lt;/span>&lt;span style="color:#4e9a06"> advert_int 1
&lt;/span>&lt;span style="color:#4e9a06"> authentication {
&lt;/span>&lt;span style="color:#4e9a06"> auth_type PASS
&lt;/span>&lt;span style="color:#4e9a06"> auth_pass $K8SHA_KA_AUTH
&lt;/span>&lt;span style="color:#4e9a06"> }
&lt;/span>&lt;span style="color:#4e9a06"> virtual_ipaddress {
&lt;/span>&lt;span style="color:#4e9a06"> $K8SHA_VIP
&lt;/span>&lt;span style="color:#4e9a06"> }
&lt;/span>&lt;span style="color:#4e9a06"> track_script {
&lt;/span>&lt;span style="color:#4e9a06"> check_haproxy
&lt;/span>&lt;span style="color:#4e9a06"> }
&lt;/span>&lt;span style="color:#4e9a06">}
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>启动 keepalived&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ systemctl &lt;span style="color:#204a87">enable&lt;/span> --now keepalived
$ ip addr show &lt;span style="color:#000">$K8SHA_NETIF&lt;/span>
2: eth0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu &lt;span style="color:#0000cf;font-weight:bold">1500&lt;/span> qdisc mq state UP qlen &lt;span style="color:#0000cf;font-weight:bold">1000&lt;/span>
link/ether 00:22:ff:95:87:f7 brd ff:ff:ff:ff:ff:ff
inet 10.168.222.189/24 brd 10.168.222.255 scope global eth0
valid_lft forever preferred_lft forever
inet 10.168.222.18/32 scope global eth0
valid_lft forever preferred_lft forever
inet6 fe80::222:ffff:fe95:87f7/64 scope link
valid_lft forever preferred_lft forever
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="部署配置-haproxy">部署配置 haproxy&lt;/h3>
&lt;p>此处的 haproxy 为 apiserver 提供反向代理，haproxy 将所有请求轮询转发到每个master节点上。&lt;/p>
&lt;p>系统配置&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">K8S_MASTER0&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>10.168.222.218
&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">K8S_MASTER1&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>10.168.222.197
&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">K8S_MASTER2&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>10.168.222.207
&lt;/code>&lt;/pre>&lt;/div>&lt;p>安装 haproxy&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ yum install -y haproxy
&lt;/code>&lt;/pre>&lt;/div>&lt;p>配置 haproxy&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt;/etc/haproxy/haproxy.cfg
&lt;/span>&lt;span style="color:#4e9a06">#---------------------------------------------------------------------
&lt;/span>&lt;span style="color:#4e9a06"># Global settings
&lt;/span>&lt;span style="color:#4e9a06">#---------------------------------------------------------------------
&lt;/span>&lt;span style="color:#4e9a06">global
&lt;/span>&lt;span style="color:#4e9a06"> # to have these messages end up in /var/log/haproxy.log you will
&lt;/span>&lt;span style="color:#4e9a06"> # need to:
&lt;/span>&lt;span style="color:#4e9a06"> #
&lt;/span>&lt;span style="color:#4e9a06"> # 1) configure syslog to accept network log events. This is done
&lt;/span>&lt;span style="color:#4e9a06"> # by adding the &amp;#39;-r&amp;#39; option to the SYSLOGD_OPTIONS in
&lt;/span>&lt;span style="color:#4e9a06"> # /etc/sysconfig/syslog
&lt;/span>&lt;span style="color:#4e9a06"> #
&lt;/span>&lt;span style="color:#4e9a06"> # 2) configure local2 events to go to the /var/log/haproxy.log
&lt;/span>&lt;span style="color:#4e9a06"> # file. A line like the following can be added to
&lt;/span>&lt;span style="color:#4e9a06"> # /etc/sysconfig/syslog
&lt;/span>&lt;span style="color:#4e9a06"> #
&lt;/span>&lt;span style="color:#4e9a06"> # local2.* /var/log/haproxy.log
&lt;/span>&lt;span style="color:#4e9a06"> #
&lt;/span>&lt;span style="color:#4e9a06"> log 127.0.0.1 local2
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06"> chroot /var/lib/haproxy
&lt;/span>&lt;span style="color:#4e9a06"> pidfile /var/run/haproxy.pid
&lt;/span>&lt;span style="color:#4e9a06"> maxconn 4000
&lt;/span>&lt;span style="color:#4e9a06"> user haproxy
&lt;/span>&lt;span style="color:#4e9a06"> group haproxy
&lt;/span>&lt;span style="color:#4e9a06"> daemon
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06"> # turn on stats unix socket
&lt;/span>&lt;span style="color:#4e9a06"> stats socket /var/lib/haproxy/stats
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">#---------------------------------------------------------------------
&lt;/span>&lt;span style="color:#4e9a06"># common defaults that all the &amp;#39;listen&amp;#39; and &amp;#39;backend&amp;#39; sections will
&lt;/span>&lt;span style="color:#4e9a06"># use if not designated in their block
&lt;/span>&lt;span style="color:#4e9a06">#---------------------------------------------------------------------
&lt;/span>&lt;span style="color:#4e9a06">defaults
&lt;/span>&lt;span style="color:#4e9a06"> mode http
&lt;/span>&lt;span style="color:#4e9a06"> log global
&lt;/span>&lt;span style="color:#4e9a06"> option httplog
&lt;/span>&lt;span style="color:#4e9a06"> option dontlognull
&lt;/span>&lt;span style="color:#4e9a06"> option http-server-close
&lt;/span>&lt;span style="color:#4e9a06"> option forwardfor except 127.0.0.0/8
&lt;/span>&lt;span style="color:#4e9a06"> option redispatch
&lt;/span>&lt;span style="color:#4e9a06"> retries 3
&lt;/span>&lt;span style="color:#4e9a06"> timeout http-request 10s
&lt;/span>&lt;span style="color:#4e9a06"> timeout queue 1m
&lt;/span>&lt;span style="color:#4e9a06"> timeout connect 10s
&lt;/span>&lt;span style="color:#4e9a06"> timeout client 1m
&lt;/span>&lt;span style="color:#4e9a06"> timeout server 1m
&lt;/span>&lt;span style="color:#4e9a06"> timeout http-keep-alive 10s
&lt;/span>&lt;span style="color:#4e9a06"> timeout check 10s
&lt;/span>&lt;span style="color:#4e9a06"> maxconn 3000
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">#---------------------------------------------------------------------
&lt;/span>&lt;span style="color:#4e9a06"># kubernetes apiserver frontend which proxys to the backends
&lt;/span>&lt;span style="color:#4e9a06">#---------------------------------------------------------------------
&lt;/span>&lt;span style="color:#4e9a06">frontend kubernetes-apiserver
&lt;/span>&lt;span style="color:#4e9a06"> mode tcp
&lt;/span>&lt;span style="color:#4e9a06"> bind *:6443
&lt;/span>&lt;span style="color:#4e9a06"> option tcplog
&lt;/span>&lt;span style="color:#4e9a06"> default_backend kubernetes-apiserver
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">#---------------------------------------------------------------------
&lt;/span>&lt;span style="color:#4e9a06"># round robin balancing between the various backends
&lt;/span>&lt;span style="color:#4e9a06">#---------------------------------------------------------------------
&lt;/span>&lt;span style="color:#4e9a06">backend kubernetes-apiserver
&lt;/span>&lt;span style="color:#4e9a06"> mode tcp
&lt;/span>&lt;span style="color:#4e9a06"> balance roundrobin
&lt;/span>&lt;span style="color:#4e9a06"> server master-0 $K8S_MASTER0:6443 check
&lt;/span>&lt;span style="color:#4e9a06"> server master-1 $K8S_MASTER1:6443 check
&lt;/span>&lt;span style="color:#4e9a06"> server master-2 $K8S_MASTER2:6443 check
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">#---------------------------------------------------------------------
&lt;/span>&lt;span style="color:#4e9a06"># collection haproxy statistics message
&lt;/span>&lt;span style="color:#4e9a06">#---------------------------------------------------------------------
&lt;/span>&lt;span style="color:#4e9a06">listen stats
&lt;/span>&lt;span style="color:#4e9a06"> bind *:1080
&lt;/span>&lt;span style="color:#4e9a06"> stats auth admin:awesomePassword
&lt;/span>&lt;span style="color:#4e9a06"> stats refresh 5s
&lt;/span>&lt;span style="color:#4e9a06"> stats realm HAProxy\ Statistics
&lt;/span>&lt;span style="color:#4e9a06"> stats uri /admin?stats
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>启动并检测服务&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ systemctl &lt;span style="color:#204a87">enable&lt;/span> haproxy.service --now
$ systemctl status haproxy.service
$ netstat -tulnp &lt;span style="color:#000;font-weight:bold">|&lt;/span> egrep &lt;span style="color:#4e9a06">&amp;#39;6443|1080&amp;#39;&lt;/span>
tcp &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 0.0.0.0:6443 0.0.0.0:* LISTEN 10033/haproxy
tcp &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 0.0.0.0:1080 0.0.0.0:* LISTEN 10033/haproxy
&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="部署-kubernetes-集群">部署 kubernetes 集群&lt;/h1>
&lt;p>参考 &lt;a href="https://www.cloudpods.org/v3.4/docs/setup/controlplane">部署集群&lt;/a> 。&lt;/p></description></item><item><title>Docs: 开发贡献</title><link>https://www.cloudpods.org/v3.4/docs/contribute/contrib/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/contribute/contrib/</guid><description>
&lt;h2 id="安装-go">安装 Go&lt;/h2>
&lt;p>Golang 版本要求 1.12 以上&lt;/p>
&lt;p>安装go环境参考: &lt;a href="https://golang.org/doc/install">Install doc&lt;/a>&lt;/p>
&lt;h2 id="安装-ceph-依赖">安装 ceph 依赖&lt;/h2>
&lt;p>On rpm based systems (dnf, yum, etc):&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">sudo rpm --import https://download.ceph.com/keys/release.asc
sudo yum install -y https://download.ceph.com/rpm-luminous/el7/noarch/ceph-release-1-1.el7.noarch.rpm
sudo yum install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
sudo yum install -y libcephfs-devel librbd-devel librados-devel
&lt;/code>&lt;/pre>&lt;/div>&lt;p>On debian systems (apt):&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">wget -q -O- &lt;span style="color:#4e9a06">&amp;#39;https://download.ceph.com/keys/release.asc&amp;#39;&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> sudo apt-key add -
&lt;span style="color:#204a87">echo&lt;/span> deb https://download.ceph.com/debian-luminous/ &lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>lsb_release -sc&lt;span style="color:#204a87;font-weight:bold">)&lt;/span> main &lt;span style="color:#000;font-weight:bold">|&lt;/span> sudo tee /etc/apt/sources.list.d/ceph.list
apt-get update &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> apt-get install -y libcephfs-dev librbd-dev librados-dev
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="编译-云联壹云-组件">编译 云联壹云 组件&lt;/h2>
&lt;h3 id="fork-仓库">Fork 仓库&lt;/h3>
&lt;p>访问 &lt;a href="https://github.com/yunionio/onecloud">https://github.com/yunionio/onecloud&lt;/a> ，将仓库 fork 到自己的 github 用户下。&lt;/p>
&lt;h3 id="clone-源码">Clone 源码&lt;/h3>
&lt;p>git clone 前确保 GOPATH 等环境变量已经设置好，clone 你自己 fork 的仓库&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">$ git clone https://github.com/&amp;lt;your_name&amp;gt;/onecloud &lt;span style="color:#000">$GOPATH&lt;/span>/src/yunion.io/x/onecloud
$ &lt;span style="color:#204a87">cd&lt;/span> &lt;span style="color:#000">$GOPATH&lt;/span>/src/yunion.io/x/onecloud
$ git remote add upstream https://github.com/yunionio/onecloud
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="编译">编译&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># 编译所有组件&lt;/span>
$ make
&lt;span style="color:#8f5902;font-style:italic"># cmd 目录下面存放着所有的组件:&lt;/span>
$ ls cmd
...
ansibleserver climc glance keystone qcloudcli ucloudcli
awscli cloudir host lbagent region webconsole
&lt;span style="color:#8f5902;font-style:italic"># 可以编译cmd下制定的组件，比如：编译 region 和 host 组件&lt;/span>
$ make cmd/region cmd/host
&lt;span style="color:#8f5902;font-style:italic"># 查看编译好的二进制文件&lt;/span>
$ ls _output/bin
region host
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="本地开发调试">本地开发调试&lt;/h2>
&lt;p>3.0 版本后我们的服务都已经容器化运行在 k8s 集群中，快速开发调试并不方便。
通过Telepresence 提供远程k8s上下文，可以在本地开发调试。&lt;/p>
&lt;h3 id="安装配置-kubectl">安装配置 kubectl&lt;/h3>
&lt;p>需要在本地安装 &lt;a href="https://kubernetes.io/zh/docs/tasks/tools/install-kubectl/">kubectl&lt;/a>。&lt;/p>
&lt;p>需要在本地配置好集群信息，以通过 kubectl 访问；将云联壹云控制节点上的&lt;code>$KUBECONFIG&lt;/code>文件拷贝到本地&lt;code>~/.kube/config&lt;/code>;
如果本地已经有此文件，参考 &lt;a href="https://kubernetes.io/zh/docs/tasks/access-application-cluster/configure-access-multiple-clusters/">配置多集群访问&lt;/a> 进行合并。&lt;/p>
&lt;h3 id="安装配置-climc">安装配置 climc&lt;/h3>
&lt;p>climc 的本地安装参考 &lt;a href="../../howto/climc/#%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85">源码编译安装&lt;/a>&lt;/p>
&lt;p>climc 的本地配置参考 &lt;a href="../../howto/climc/#%E9%9D%9E%E6%8E%A7%E5%88%B6%E8%8A%82%E7%82%B9%E8%AE%A4%E8%AF%81%E9%85%8D%E7%BD%AE">非控制节点认证配置&lt;/a>&lt;/p>
&lt;h3 id="安装-telepresence">安装 telepresence&lt;/h3>
&lt;p>确保有一个已部署的云联壹云 k8s集群，参考&lt;a href="https://www.cloudpods.org/v3.4/docs/setup/">安装部署&lt;/a>。
这里介绍 CentOS 7 的本地环境安装，其他发行版可参考官方文档：&lt;a href="https://www.telepresence.io/reference/install">Installing Telepresence&lt;/a>。&lt;/p>
&lt;blockquote>
&lt;p>不建议k8s集群的部署和开发在同一个环境，使用Telepresence会有端口冲突。&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 安装依赖&lt;/span>
$ yum install -y python3 sshfs conntrack iptables torsocks sshuttle sudo yum-utils
&lt;span style="color:#8f5902;font-style:italic"># 安装 kubectl 用于连接 k8s 集群&lt;/span>
$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt;/etc/yum.repos.d/kubernetes.repo
&lt;/span>&lt;span style="color:#4e9a06">[kubernetes]
&lt;/span>&lt;span style="color:#4e9a06">name=Kubernetes
&lt;/span>&lt;span style="color:#4e9a06">baseurl=http://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64
&lt;/span>&lt;span style="color:#4e9a06">enabled=1
&lt;/span>&lt;span style="color:#4e9a06">gpgcheck=0
&lt;/span>&lt;span style="color:#4e9a06">repo_gpgcheck=0
&lt;/span>&lt;span style="color:#4e9a06">gpgkey=http://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg http://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
$ yum install -y kubectl-1.15.8-0
&lt;span style="color:#8f5902;font-style:italic"># 需要自行配置kubctl config&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 测试kubctl可以访问之前部署的k8s集群&lt;/span>
$ kubctl version
&lt;span style="color:#8f5902;font-style:italic"># 源码安装 telepresence 到 /usr/local/bin/telepresence&lt;/span>
$ git clone https://github.com/telepresenceio/telepresence
$ &lt;span style="color:#204a87">cd&lt;/span> telepresence
$ sudo env &lt;span style="color:#000">PREFIX&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>/usr/local ./install.sh
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="使用">使用&lt;/h3>
&lt;p>利用 telepresence 本地连通远端 k8s 的特性，我们就可以做到在本地编译运行 region，keystone 等服务，同时又能访问远端 k8s 其它服务的环境。&lt;/p>
&lt;p>&lt;strong>macOS中或Linux中本地编译运行 region 服务&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 切换到 云联壹云 代码目录&lt;/span>
$ &lt;span style="color:#204a87">cd&lt;/span> &lt;span style="color:#000">$GOPATH&lt;/span>/src/yunion.io/x/onecloud
&lt;span style="color:#8f5902;font-style:italic"># 编译 region 服务&lt;/span>
$ make cmd/region
&lt;span style="color:#8f5902;font-style:italic"># 使用 telepresence 替换 k8s 里面的 default-region deployment&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 该命令在 k8s 集群中启动一个 deployment 替换掉原来的 default-regoin&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 然后把流量的访问导向本地&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 如果想要使用特定的 shell，比如 zsh，可以在后面加上&amp;#34;--run /bin/zsh&amp;#34;&lt;/span>
$ telepresence --swap-deployment default-region --namespace onecloud
&lt;/code>&lt;/pre>&lt;/div>&lt;p>到这里已经进入到 telepresence 隔离的 namespace 里面了，
$TELEPRESENCE_ROOT 这个目录 是通过 sshfs 挂载的远端 k8s pod 的文件系统。
接下来我们就可以在这个 namespace 里面运行 region 服务了：&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ sudo chmod &lt;span style="color:#0000cf;font-weight:bold">777&lt;/span> /etc
&lt;span style="color:#8f5902;font-style:italic"># 将 $TELEPRESENCE_ROOT/etc/yunion 链接到本地的 /etc&lt;/span>
$ ln -s &lt;span style="color:#000">$TELEPRESENCE_ROOT&lt;/span>/etc/yunion /etc
&lt;span style="color:#8f5902;font-style:italic"># 启动 region 服务&lt;/span>
$ ./_output/bin/region --config /etc/yunion/region.conf
&lt;/code>&lt;/pre>&lt;/div>&lt;p>这个时候如果我们在外部调用 climc 就会发现相关的请求已经被转发到本地开发机启动 region 服务了。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ climc network-list
&lt;/code>&lt;/pre>&lt;/div>&lt;p>调试完成后需要进行清理操作&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 退出 telepresence&lt;/span>
$ &lt;span style="color:#204a87">exit&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 会看到类似下面的输出&lt;/span>
T: Your process exited with &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> code 127.
T: Exit cleanup in progress
T: Cleaning up Pod
&lt;span style="color:#8f5902;font-style:italic"># 删除链接文件&lt;/span>
$ rm /etc/yunion
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>Linux系统中本地编译运行 region 服务&lt;/strong>&lt;/p>
&lt;p>这种方式相比上一种方式，更加干净；但是相对复杂&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 切换到 云联壹云 代码目录&lt;/span>
$ &lt;span style="color:#204a87">cd&lt;/span> &lt;span style="color:#000">$GOPATH&lt;/span>/src/yunion.io/x/onecloud
&lt;span style="color:#8f5902;font-style:italic"># 编译 region 服务&lt;/span>
$ make cmd/region
&lt;span style="color:#8f5902;font-style:italic"># 使用 telepresence 替换 k8s 里面的 default-region deployment&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 该命令在 k8s 集群中启动一个 deployment 替换掉原来的 default-regoin&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 然后把流量的访问导向本地&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 如果想要使用特定的 shell，比如 zsh，可以在后面加上&amp;#34;--run /bin/zsh&amp;#34;&lt;/span>
$ telepresence --swap-deployment default-region --namespace onecloud
&lt;/code>&lt;/pre>&lt;/div>&lt;p>到这里已经进入到 telepresence 隔离的 namespace 里面了，
$TELEPRESENCE_ROOT 这个目录 是通过 sshfs 挂载的远端 k8s pod 的文件系统。
接下来我们就可以在这个 namespace 里面运行 region 服务了：&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 设置 max_user_namespaces&lt;/span>
$ cat /proc/sys/user/max_user_namespaces
&lt;span style="color:#0000cf;font-weight:bold">0&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 如果 max_user_namespaces 为 0，需要设置下 user_namespaces&lt;/span>
$ &lt;span style="color:#204a87">echo&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">640&lt;/span> &amp;gt; /proc/sys/user/max_user_namespaces
&lt;span style="color:#8f5902;font-style:italic"># 启动一个新的 namespace , 但不共享 mount namespace，这样接下来的 mount bind 操作就不会影响到宿主机&lt;/span>
$ unshare --map-root-user --mount
&lt;span style="color:#8f5902;font-style:italic"># bind k8s /var/run/secrets&lt;/span>
$ mount --bind &lt;span style="color:#000">$TELEPRESENCE_ROOT&lt;/span>/var/run /var/run
$ ls /var/run/
secrets
&lt;span style="color:#8f5902;font-style:italic"># bind 云联壹云 config&lt;/span>
$ mkdir /etc/yunion
$ mount --bind &lt;span style="color:#000">$TELEPRESENCE_ROOT&lt;/span>/etc/yunion /etc/yunion
$ ls /etc/yunion/
pki region.conf
&lt;span style="color:#8f5902;font-style:italic"># 启动 region 服务&lt;/span>
$ ./_output/bin/region --config /etc/yunion/region.conf
&lt;span style="color:#8f5902;font-style:italic"># 这个时候如果我们在外部调用 climc&lt;/span>
$ climc network-list
&lt;span style="color:#8f5902;font-style:italic"># 就会发现相关的请求已经被转发到本地开发机启动 region 服务了&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>更多用法，以及 telepresence 的原理请参考&lt;a href="https://www.telepresence.io/discussion/overview">官方文档&lt;/a>。&lt;/p>
&lt;h2 id="开发流程">开发流程&lt;/h2>
&lt;ul>
&lt;li>从 master checkout 出 feature 或者 bugfix 分支&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># checkout 新分支&lt;/span>
$ git fetch upstream --tags
$ git checkout -b feature/implement-x upstream/master
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>在新的分支上进行开发&lt;/li>
&lt;li>开发完成后，进行提交PR前的准备操作&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ git fetch upstream &lt;span style="color:#8f5902;font-style:italic"># 同步远程 upstream master 代码&lt;/span>
$ git rebase upstream/master &lt;span style="color:#8f5902;font-style:italic"># 有冲突则解决冲突&lt;/span>
$ git push origin feature/implement-x &lt;span style="color:#8f5902;font-style:italic"># push 分支到自己的 repo&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>在GitHub的Web界面完成提交PR的流程&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="../images/submitPR.png" alt="">&lt;/p>
&lt;ul>
&lt;li>提完 PR 后请求相关开发人员 review，并设置Labels来表明提交的代码属于哪一个模块或者哪几个模块&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="../images/reviewer_label.png" alt="">&lt;/p>
&lt;ul>
&lt;li>或者通过添加评论的方式来完成上一步；评论 &amp;ldquo;/cc&amp;rdquo; 并 @ 相关人员完成设置reviewer，评论/area 并填写label完成设置Labels&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="../images/robot_review_label.png" alt="">&lt;/p>
&lt;p>​ 所有Label都可以在issues——Labels下查询到，带area/前缀的Label均可以使用评论&amp;quot;/area&amp;quot;的形式添加&lt;/p>
&lt;ul>
&lt;li>如果是 bugfix 或者需要合并到之前 release 分支的 feature PR，需要额外使用脚本将此PR cherry-pick 到对应的 release 分支&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 自行下载安装 github 的 cli 工具：https://github.com/github/hub&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># OSX 使用: brew install hub&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># Debian: sudo apt install hub&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 二进制安装: https://github.com/github/hub/releases&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 设置github的用户名&lt;/span>
$ &lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">GITHUB_USER&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&amp;lt;your_username&amp;gt;
&lt;span style="color:#8f5902;font-style:italic"># 使用脚本自动 cherry-pick PR 到 release 分支&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 比如现在有一个提交的PR的编号为8，要把它合并到 release/2.8.0&lt;/span>
$ ./scripts/cherry_pick_pull.sh upstream/release/2.8.0 &lt;span style="color:#0000cf;font-weight:bold">8&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># cherry pick 可能会出现冲突，冲突时开另外一个 terminal，解决好冲突，再输入 &amp;#39;y&amp;#39; 进行提交&lt;/span>
$ git add xxx &lt;span style="color:#8f5902;font-style:italic"># 解决完冲突后&lt;/span>
$ git am --continue
&lt;span style="color:#8f5902;font-style:italic"># 回到执行 cherry-pick 脚本的 terminal 输入 &amp;#39;y&amp;#39; 即可&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>去 upstream 的 &lt;a href="https://github.com/yunionio/onecloud/pulls">PR 页面&lt;/a>, 就能看到自动生成的 cherry-pick PR，上面操作的PR的标题前缀就应该为：&lt;code>Automated cherry pick of #8&lt;/code>，然后重复 PR review 流程合并到 release&lt;/p>
&lt;h2 id="faq">FAQ&lt;/h2>
&lt;h3 id="1-本地调试启动-region-服务报以下错误">1. 本地调试启动 region 服务，报以下错误&lt;/h3>
&lt;p>&lt;img src="../images/region_error.png" alt="">&lt;/p>
&lt;p>使用&lt;code>climc service-config-edit region2&lt;/code>编辑 region 服务的配置，修改参数：&lt;/p>
&lt;blockquote>
&lt;pre>&lt;code>fetch_etcd_service_info_and_use_etcd_lock: false
enable_host_health_check: false
&lt;/code>&lt;/pre>
&lt;/blockquote>
&lt;h3 id="2-使用-telepresence-时上次未正常退出再次使用一直报错">2. 使用 telepresence 时，上次未正常退出，再次使用一直报错&lt;/h3>
&lt;p>尝试手动清理:&lt;/p>
&lt;ol>
&lt;li>使用 kubectl 删除 onecloud namespace 下除 default-region-dns-xxxxx 外，所有以 default-region 开头的Pod；&lt;/li>
&lt;li>使用&lt;code>kubectl edit deployment default-region -n onecloud&lt;/code>，将 spec 下的 replicas 从0改为1.&lt;/li>
&lt;/ol></description></item><item><title>Docs: 部署 DB HA 环境</title><link>https://www.cloudpods.org/v3.4/docs/setup/db-ha/</link><pubDate>Wed, 12 Feb 2020 12:55:46 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/setup/db-ha/</guid><description>
&lt;p>云联壹云 服务使用 Mariadb，这里使用 keepalived 和 Mariadb 的主主复制功能来实现 DB 的高可用。&lt;/p>
&lt;h2 id="部署">部署&lt;/h2>
&lt;p>keepalived 的主要作用是为 Mariadb 提供 vip，在2个 Mariadb 实例之间切换，不间断的提供服务。&lt;/p>
&lt;h3 id="部署配置-mariadb-主主复制">部署配置 Mariadb 主主复制&lt;/h3>
&lt;p>安装并启动 Mariadb&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ yum install -y mariadb-server
$ systemctl &lt;span style="color:#204a87">enable&lt;/span> --now mariadb
&lt;/code>&lt;/pre>&lt;/div>&lt;p>运行 Mariadb 安全配置向导，设置密码等&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ mysql_secure_installation
... ...
Change the root password? &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>Y/n&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> y
New password:
Re-enter new password:
Password updated successfully!
Reloading privilege tables..
... Success!
... ...
Remove anonymous users? &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>Y/n&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> y
... Success!
... ...
Disallow root login remotely? &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>Y/n&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> y
... Success!
... ...
Remove &lt;span style="color:#204a87">test&lt;/span> database and access to it? &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>Y/n&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> y
- Dropping &lt;span style="color:#204a87">test&lt;/span> database...
... Success!
- Removing privileges on &lt;span style="color:#204a87">test&lt;/span> database...
... Success! ... ...
Reload privilege tables now? &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>Y/n&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> y
... Success!
... ...
&lt;/code>&lt;/pre>&lt;/div>&lt;p>修改 Mariadb 配置文件，准备配置主主复制&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 主节点&lt;/span>
$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt; /etc/my.cnf
&lt;/span>&lt;span style="color:#4e9a06">[mysqld]
&lt;/span>&lt;span style="color:#4e9a06">datadir=/var/lib/mysql
&lt;/span>&lt;span style="color:#4e9a06">socket=/var/lib/mysql/mysql.sock
&lt;/span>&lt;span style="color:#4e9a06"># Disabling symbolic-links is recommended to prevent assorted security risks
&lt;/span>&lt;span style="color:#4e9a06">symbolic-links=0
&lt;/span>&lt;span style="color:#4e9a06"># Settings user and group are ignored when systemd is used.
&lt;/span>&lt;span style="color:#4e9a06"># If you need to run mysqld under a different user or group,
&lt;/span>&lt;span style="color:#4e9a06"># customize your systemd unit file for mariadb according to the
&lt;/span>&lt;span style="color:#4e9a06"># instructions in http://fedoraproject.org/wiki/Systemd
&lt;/span>&lt;span style="color:#4e9a06"># skip domain name resolve
&lt;/span>&lt;span style="color:#4e9a06">skip_name_resolve
&lt;/span>&lt;span style="color:#4e9a06"># auto delete binlog older than 30 days
&lt;/span>&lt;span style="color:#4e9a06">expire_logs_days=30
&lt;/span>&lt;span style="color:#4e9a06">innodb_file_per_table=ON
&lt;/span>&lt;span style="color:#4e9a06">max_connections = 300
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">server-id = 1
&lt;/span>&lt;span style="color:#4e9a06">auto_increment_offset = 1
&lt;/span>&lt;span style="color:#4e9a06">auto_increment_increment = 2
&lt;/span>&lt;span style="color:#4e9a06">log-bin = mysql-bin
&lt;/span>&lt;span style="color:#4e9a06">binlog-format = row
&lt;/span>&lt;span style="color:#4e9a06">log-slave-updates
&lt;/span>&lt;span style="color:#4e9a06">max_binlog_size = 1G
&lt;/span>&lt;span style="color:#4e9a06">replicate-ignore-db = information_schema
&lt;/span>&lt;span style="color:#4e9a06">replicate-ignore-db = performance_schema
&lt;/span>&lt;span style="color:#4e9a06">max_connections = 1000
&lt;/span>&lt;span style="color:#4e9a06">max_connect_errors = 0
&lt;/span>&lt;span style="color:#4e9a06">max_allowed_packet = 1G
&lt;/span>&lt;span style="color:#4e9a06">slave-net-timeout=10
&lt;/span>&lt;span style="color:#4e9a06">master-retry-count=0
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">slow_query_log = 1
&lt;/span>&lt;span style="color:#4e9a06">long_query_time = 2
&lt;/span>&lt;span style="color:#4e9a06">slow_query_log_file = /var/log/mariadb/slow-query.log
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">[mysql]
&lt;/span>&lt;span style="color:#4e9a06">no-auto-rehash
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">[mysqld_safe]
&lt;/span>&lt;span style="color:#4e9a06">log-error=/var/log/mariadb/mariadb.log
&lt;/span>&lt;span style="color:#4e9a06">pid-file=/var/run/mariadb/mariadb.pid
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">#
&lt;/span>&lt;span style="color:#4e9a06"># include all files from the config directory
&lt;/span>&lt;span style="color:#4e9a06">#
&lt;/span>&lt;span style="color:#4e9a06">!includedir /etc/my.cnf.d
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 备节点&lt;/span>
$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt; /etc/my.cnf
&lt;/span>&lt;span style="color:#4e9a06">[mysqld]
&lt;/span>&lt;span style="color:#4e9a06">datadir=/var/lib/mysql
&lt;/span>&lt;span style="color:#4e9a06">socket=/var/lib/mysql/mysql.sock
&lt;/span>&lt;span style="color:#4e9a06"># Disabling symbolic-links is recommended to prevent assorted security risks
&lt;/span>&lt;span style="color:#4e9a06">symbolic-links=0
&lt;/span>&lt;span style="color:#4e9a06"># Settings user and group are ignored when systemd is used.
&lt;/span>&lt;span style="color:#4e9a06"># If you need to run mysqld under a different user or group,
&lt;/span>&lt;span style="color:#4e9a06"># customize your systemd unit file for mariadb according to the
&lt;/span>&lt;span style="color:#4e9a06"># instructions in http://fedoraproject.org/wiki/Systemd
&lt;/span>&lt;span style="color:#4e9a06"># skip domain name resolve
&lt;/span>&lt;span style="color:#4e9a06">skip_name_resolve
&lt;/span>&lt;span style="color:#4e9a06"># auto delete binlog older than 30 days
&lt;/span>&lt;span style="color:#4e9a06">expire_logs_days=30
&lt;/span>&lt;span style="color:#4e9a06">innodb_file_per_table=ON
&lt;/span>&lt;span style="color:#4e9a06">max_connections = 300
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">server-id = 2
&lt;/span>&lt;span style="color:#4e9a06">auto_increment_offset = 2
&lt;/span>&lt;span style="color:#4e9a06">auto_increment_increment = 2
&lt;/span>&lt;span style="color:#4e9a06">log-bin = mysql-bin
&lt;/span>&lt;span style="color:#4e9a06">binlog-format = row
&lt;/span>&lt;span style="color:#4e9a06">log-slave-updates
&lt;/span>&lt;span style="color:#4e9a06">max_binlog_size = 1G
&lt;/span>&lt;span style="color:#4e9a06">replicate-ignore-db = information_schema
&lt;/span>&lt;span style="color:#4e9a06">replicate-ignore-db = performance_schema
&lt;/span>&lt;span style="color:#4e9a06">max_connections = 1000
&lt;/span>&lt;span style="color:#4e9a06">max_connect_errors = 0
&lt;/span>&lt;span style="color:#4e9a06">max_allowed_packet = 1G
&lt;/span>&lt;span style="color:#4e9a06">slave-net-timeout=10
&lt;/span>&lt;span style="color:#4e9a06">master-retry-count=0
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">slow_query_log = 1
&lt;/span>&lt;span style="color:#4e9a06">long_query_time = 2
&lt;/span>&lt;span style="color:#4e9a06">slow_query_log_file = /var/log/mariadb/slow-query.log
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">[mysql]
&lt;/span>&lt;span style="color:#4e9a06">no-auto-rehash
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">[mysqld_safe]
&lt;/span>&lt;span style="color:#4e9a06">log-error=/var/log/mariadb/mariadb.log
&lt;/span>&lt;span style="color:#4e9a06">pid-file=/var/run/mariadb/mariadb.pid
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">#
&lt;/span>&lt;span style="color:#4e9a06"># include all files from the config directory
&lt;/span>&lt;span style="color:#4e9a06">#
&lt;/span>&lt;span style="color:#4e9a06">!includedir /etc/my.cnf.d
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 重启服务&lt;/span>
$ systemctl restart mariadb
&lt;/code>&lt;/pre>&lt;/div>&lt;p>主节点创建只读账号，导出全部数据，导入备节点。记录binlog日志文件名和position。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 以下命令在主节点执行&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 此密码为上面设置的 Mariadb root 密码，为了方便，只读账号也使用此密码&lt;/span>
$ &lt;span style="color:#000">MYSQL_PASSWD&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;your-sql-passwd&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 开启 Mariadb 的远程访问&lt;/span>
$ mysql -uroot -p&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span> -e &lt;span style="color:#4e9a06">&amp;#34;GRANT ALL PRIVILEGES ON *.* TO &amp;#39;root&amp;#39;@&amp;#39;%&amp;#39; IDENTIFIED BY &amp;#39;&lt;/span>&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span>&lt;span style="color:#4e9a06">&amp;#39; WITH GRANT OPTION;FLUSH PRIVILEGES&amp;#34;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 创建只读账号&lt;/span>
$ mysql -u root -p&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span> -e &lt;span style="color:#4e9a06">&amp;#34;GRANT REPLICATION SLAVE ON *.* TO repl@&amp;#39;%&amp;#39; IDENTIFIED BY &amp;#39;&lt;/span>&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;;FLUSH PRIVILEGES&amp;#34;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 示例是全新安装的 Mariadb ，还没有使用。如果是正在使用的数据库做主主复制，需要锁表后再导出数据&lt;/span>
$ mysql -uroot -p&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span> -e &lt;span style="color:#4e9a06">&amp;#34;SHOW PROCESSLIST&amp;#34;&lt;/span>
+----+------+-----------+------+---------+------+-------+------------------+----------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> Id &lt;span style="color:#000;font-weight:bold">|&lt;/span> User &lt;span style="color:#000;font-weight:bold">|&lt;/span> Host &lt;span style="color:#000;font-weight:bold">|&lt;/span> db &lt;span style="color:#000;font-weight:bold">|&lt;/span> Command &lt;span style="color:#000;font-weight:bold">|&lt;/span> Time &lt;span style="color:#000;font-weight:bold">|&lt;/span> State &lt;span style="color:#000;font-weight:bold">|&lt;/span> Info &lt;span style="color:#000;font-weight:bold">|&lt;/span> Progress &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+----+------+-----------+------+---------+------+-------+------------------+----------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">4&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> root &lt;span style="color:#000;font-weight:bold">|&lt;/span> localhost &lt;span style="color:#000;font-weight:bold">|&lt;/span> NULL &lt;span style="color:#000;font-weight:bold">|&lt;/span> Query &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> NULL &lt;span style="color:#000;font-weight:bold">|&lt;/span> SHOW PROCESSLIST &lt;span style="color:#000;font-weight:bold">|&lt;/span> 0.000 &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+----+------+-----------+------+---------+------+-------+------------------+----------+
&lt;span style="color:#8f5902;font-style:italic"># 记录binlog日志文件名和position&lt;/span>
$ mysql -u root -p&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span> -e &lt;span style="color:#4e9a06">&amp;#34;SHOW MASTER STATUS\G&amp;#34;&lt;/span>
*************************** 1. row ***************************
File: mysql-bin.000001
Position: &lt;span style="color:#0000cf;font-weight:bold">2023&lt;/span>
Binlog_Do_DB:
Binlog_Ignore_DB:
&lt;span style="color:#8f5902;font-style:italic"># 导出全部数据&lt;/span>
$ mysqldump --all-databases -p&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span> &amp;gt; alldb.db
&lt;span style="color:#8f5902;font-style:italic"># 拷贝 alldb.db 到备节点&lt;/span>
$ scp alldb.db db2:/root/
&lt;span style="color:#8f5902;font-style:italic"># 以下命令在备节点执行&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 此密码为上面设置的 Mariadb root 密码&lt;/span>
$ &lt;span style="color:#000">MYSQL_PASSWD&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;your-sql-passwd&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 导入主节点导出的数据&lt;/span>
mysql -u root -p&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span> &amp;lt; alldb.db
&lt;span style="color:#8f5902;font-style:italic"># 重载权限&lt;/span>
mysql -u root -p&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span> -e &lt;span style="color:#4e9a06">&amp;#34;FLUSH PRIVILEGES&amp;#34;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 记录binlog日志文件名和position&lt;/span>
mysql -u root -p&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span> -e &lt;span style="color:#4e9a06">&amp;#34;SHOW MASTER STATUS\G&amp;#34;&lt;/span>
*************************** 1. row ***************************
File: mysql-bin.000001
Position: &lt;span style="color:#0000cf;font-weight:bold">509778&lt;/span>
Binlog_Do_DB:
Binlog_Ignore_DB:
&lt;/code>&lt;/pre>&lt;/div>&lt;p>设置主主复制&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 以下命令在主节点执行&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 修改MASTER_HOST为备节点IP，修改MASTER_LOG_FILE和MASTER_LOG_POS为上面备节点记录的信息&lt;/span>
mysql -u root -p&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span> -e &lt;span style="color:#4e9a06">&amp;#34;CHANGE MASTER TO MASTER_HOST=&amp;#39;192.168.199.99&amp;#39;,MASTER_USER=&amp;#39;repl&amp;#39;,MASTER_PASSWORD=&amp;#39;&lt;/span>&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;,MASTER_PORT=3306,MASTER_LOG_FILE=&amp;#39;mysql-bin.000001&amp;#39;,MASTER_LOG_POS=509778,MASTER_CONNECT_RETRY=2;START SLAVE&amp;#34;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 以下命令在备节点执行&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 修改MASTER_HOST为主节点IP，修改MASTER_LOG_FILE和MASTER_LOG_POS为上面主节点记录的信息&lt;/span>
mysql -u root -p&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span> -e &lt;span style="color:#4e9a06">&amp;#34;CHANGE MASTER TO MASTER_HOST=&amp;#39;192.168.199.98&amp;#39;,MASTER_USER=&amp;#39;repl&amp;#39;,MASTER_PASSWORD=&amp;#39;&lt;/span>&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;,MASTER_PORT=3306,MASTER_LOG_FILE=&amp;#39;mysql-bin.000001&amp;#39;,MASTER_LOG_POS=2023,MASTER_CONNECT_RETRY=2;START SLAVE&amp;#34;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 主备都执行，验证同步状态，都输出2个 Yes 表示正常&lt;/span>
mysql -u root -p&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span> -e &lt;span style="color:#4e9a06">&amp;#34;SHOW SLAVE STATUS\G&amp;#34;&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep Running
Slave_IO_Running: Yes
Slave_SQL_Running: Yes
&lt;/code>&lt;/pre>&lt;/div>&lt;p>至此，DB 主主复制部署完成，可以测试在任一节点进行数据库操作，另一节点验证。不过对外提供服务还是需要通过 vip，不然发生切换还需要业务端切换 ip，下面配置 keepalived 对外提供服务。&lt;/p>
&lt;h3 id="部署配置-keepalived">部署配置 keepalived&lt;/h3>
&lt;p>设置相关的环境变量，根据不同的环境自行配置。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># keepalived vip 地址&lt;/span>
&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">DB_VIP&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>192.168.199.97
&lt;span style="color:#8f5902;font-style:italic"># keepalived auth toke&lt;/span>
&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">DBHA_KA_AUTH&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>onecloud
&lt;span style="color:#8f5902;font-style:italic"># keepalived network interface&lt;/span>
&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">DB_NETIF&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>eth0
&lt;/code>&lt;/pre>&lt;/div>&lt;p>设置 sysctl 选项&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt;&amp;gt;/etc/sysctl.conf
&lt;/span>&lt;span style="color:#4e9a06">net.ipv4.ip_forward = 1
&lt;/span>&lt;span style="color:#4e9a06">net.ipv4.ip_nonlocal_bind = 1
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
$ sysctl -p
&lt;/code>&lt;/pre>&lt;/div>&lt;p>安装 keepalived nc&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ yum install -y keepalived nc
&lt;/code>&lt;/pre>&lt;/div>&lt;p>添加配置&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 请确保 virtual_router_id 不会和局域网内的其他 keepalived 集群冲突&lt;/span>
$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt;/etc/keepalived/keepalived.conf
&lt;/span>&lt;span style="color:#4e9a06">global_defs {
&lt;/span>&lt;span style="color:#4e9a06"> router_id onecloud
&lt;/span>&lt;span style="color:#4e9a06">}
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">vrrp_script chk_mysql {
&lt;/span>&lt;span style="color:#4e9a06"> script &amp;#34;/etc/keepalived/chk_mysql&amp;#34;
&lt;/span>&lt;span style="color:#4e9a06"> interval 1
&lt;/span>&lt;span style="color:#4e9a06">}
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">vrrp_instance VI_1 {
&lt;/span>&lt;span style="color:#4e9a06"> state MASTER
&lt;/span>&lt;span style="color:#4e9a06"> interface $DB_NETIF
&lt;/span>&lt;span style="color:#4e9a06"> virtual_router_id 99
&lt;/span>&lt;span style="color:#4e9a06"> priority 100
&lt;/span>&lt;span style="color:#4e9a06"> advert_int 1
&lt;/span>&lt;span style="color:#4e9a06"> nopreempt
&lt;/span>&lt;span style="color:#4e9a06"> authentication {
&lt;/span>&lt;span style="color:#4e9a06"> auth_type PASS
&lt;/span>&lt;span style="color:#4e9a06"> auth_pass $DBHA_KA_AUTH
&lt;/span>&lt;span style="color:#4e9a06"> }
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06"> track_script {
&lt;/span>&lt;span style="color:#4e9a06"> chk_mysql
&lt;/span>&lt;span style="color:#4e9a06"> }
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06"> virtual_ipaddress {
&lt;/span>&lt;span style="color:#4e9a06"> $DB_VIP
&lt;/span>&lt;span style="color:#4e9a06"> }
&lt;/span>&lt;span style="color:#4e9a06">}
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt; /etc/keepalived/chk_mysql
&lt;/span>&lt;span style="color:#4e9a06">#!/bin/bash
&lt;/span>&lt;span style="color:#4e9a06">echo | nc 127.0.0.1 3306 &amp;amp;&amp;gt;/dev/null
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
$ chmod +x /etc/keepalived/chk_mysql
&lt;/code>&lt;/pre>&lt;/div>&lt;p>启动 keepalived&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ systemctl &lt;span style="color:#204a87">enable&lt;/span> --now keepalived
$ ip addr show &lt;span style="color:#000">$DB_NETIF&lt;/span>
2: eth0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu &lt;span style="color:#0000cf;font-weight:bold">1500&lt;/span> qdisc pfifo_fast state UP group default qlen &lt;span style="color:#0000cf;font-weight:bold">1000&lt;/span>
link/ether 00:22:cf:40:1e:29 brd ff:ff:ff:ff:ff:ff
inet 192.168.199.99/24 brd 192.168.199.255 scope global dynamic eth0
valid_lft 100651906sec preferred_lft 100651906sec
inet 192.168.199.97/32 scope global eth0
valid_lft forever preferred_lft forever
inet6 fe80::222:cfff:fe40:1e29/64 scope link
valid_lft forever preferred_lft forever
&lt;/code>&lt;/pre>&lt;/div>&lt;p>至此，DB 高可用部署完成，任一节点的 Mariadb 或 keepalived 服务异常，或者任一节点宕机，都不影响对外服务。&lt;/p></description></item><item><title>Docs: Git 提交内容规范</title><link>https://www.cloudpods.org/v3.4/docs/contribute/git-convention/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/contribute/git-convention/</guid><description>
&lt;p>为了方便代码提交记录的查看，以及以后的统计，我们制定了以下使用 Git 书写提交内容的规范，提交代码的时候请大家遵循以下的格式。&lt;/p>
&lt;h2 id="git-提交记录书写规范">Git 提交记录书写规范&lt;/h2>
&lt;p>格式如下:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&amp;lt;type&amp;gt;&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>&amp;lt;scope&amp;gt;&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>: &amp;lt;subject&amp;gt;
&amp;lt;body&amp;gt;
&amp;lt;footer&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;p>通过 &lt;code>git commit&lt;/code> 命令填写的提交内容应该类似如上的结构，大致分为３个部分（每个部分使用空行分割）：&lt;/p>
&lt;ul>
&lt;li>标题行：必填，描述主要修改类型和概要内容&lt;/li>
&lt;li>主题内容：选填，描述为什么修改，做了什么样的修改，以及开发的思路，使用方法等等&lt;/li>
&lt;li>页脚备注：选填，一些备注&lt;/li>
&lt;/ul>
&lt;p>每个部分的占位符说明如下:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>type(PR 的类型):&lt;/p>
&lt;ul>
&lt;li>feat: 新功能&lt;/li>
&lt;li>fix: 修复&lt;/li>
&lt;li>refactor: 代码重构&lt;/li>
&lt;li>test: 测试用例相关修改&lt;/li>
&lt;li>chore: 其它修改，比如Makefile,Dockerfile等&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>scope(影响范围，相关组件): 比如 region, scheduler, cloudcommon，如果是多个组件，用英文 &amp;lsquo;,&amp;rsquo; 分割，比如: (region,scheduler,monitor)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>subject(commit 的概述): 建议不超过 50 个字符&lt;/p>
&lt;/li>
&lt;li>
&lt;p>body(commit 具体修改内容): 可以分为多行，建议每行不超过 72 个字符&lt;/p>
&lt;/li>
&lt;li>
&lt;p>footer(一些备注，选填): 一些备注，通常是相关参考连接、BREAKING CHANGE 或修复 bug 的连接&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="commit-举例">Commit 举例&lt;/h2>
&lt;hr>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">fix&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>region&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>: compute NextSyncTime &lt;span style="color:#204a87;font-weight:bold">for&lt;/span> snapshotpolicydisk
1. 如果计算出来的 NextSyncTime 和 base 相等，可以将 base 加1一个小时递归处理。
2. 对于 retentionday 有效的快照策略，比如某一个 snaphsotpolicy
是每周一生效，并且打的快照自动保留 &lt;span style="color:#0000cf;font-weight:bold">3&lt;/span> 天，那么，就应该在每周一（打快照）
和每周四（释放快照）进行快照的同步。
&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">feat&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>scheduler&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>: add cpu filter
Added new cpu filter to scheduler:
- filter host by cpu model
- &lt;span style="color:#204a87">set&lt;/span> host capability by request cpu count
&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">fix&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>apigateway,monitor,influxdb&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>: disable influxdb service query proxy
&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">feat&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>climc&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>: support disable wrap line
Usage:
&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">OS_TRY_TERM_WIDTH&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">false&lt;/span>
climc server-list
Closes &lt;span style="color:#8f5902;font-style:italic">#6710&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h2 id="辅助工具">辅助工具&lt;/h2>
&lt;p>也有相应的工具帮忙生成符合要求的 Commit message，使用 &lt;a href="https://github.com/lintingzhen/commitizen-go">commitizen-go&lt;/a> 可以协助生成 Commit message，用法如下:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># osx 安装 commitizen-go&lt;/span>
$ brew tap lintingzhen/tap
$ brew install commitizen-go
&lt;span style="color:#8f5902;font-style:italic"># 如果是 linux 环境，可以 clone 源码编译，这个工具是 golang 写的，编译也简单&lt;/span>
$ git clone https://github.com/lintingzhen/commitizen-go &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#204a87">cd&lt;/span> commitizen-go
$ make &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> ./commitizen-go install
&lt;span style="color:#8f5902;font-style:italic"># 这一部会生成 git cz 命令的配置&lt;/span>
$ sudo commitizen-go install
&lt;span style="color:#8f5902;font-style:italic"># 测试提交&lt;/span>
$ git add .
&lt;span style="color:#8f5902;font-style:italic"># 使用 git cz 命令，就会以交互式的方式帮忙输入 commit&lt;/span>
$ git cz
&lt;/code>&lt;/pre>&lt;/div>&lt;p>相关配置参考：https://github.com/lintingzhen/commitizen-go/blob/master/README.MD#configure&lt;/p>
&lt;p>当然工具并不是说强制使用，只是说有工具的帮助，生成的 commit 内容会更统一一点　;)&lt;/p>
&lt;p>当然也有 nodejs 版本的工具，可能更符合前端的使用: &lt;a href="https://github.com/commitizen/cz-cli">https://github.com/commitizen/cz-cli&lt;/a> ，前端的同学也可以使用这个工具。&lt;/p>
&lt;h2 id="参考">参考&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.fpepsvr2gqby">https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.fpepsvr2gqby&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html">http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://blog.csdn.net/noaman_wgs/article/details/103429171">https://blog.csdn.net/noaman_wgs/article/details/103429171&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Docs: 部署集群</title><link>https://www.cloudpods.org/v3.4/docs/setup/controlplane/</link><pubDate>Sat, 13 Apr 2019 13:01:57 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/setup/controlplane/</guid><description>
&lt;h2 id="环境准备">环境准备&lt;/h2>
&lt;p>云联壹云 相关的组件运行在 kubernetes 之上，环境以及相关的软件依赖如下:&lt;/p>
&lt;ul>
&lt;li>操作系统: CentOS 7.6&lt;/li>
&lt;li>最低配置要求: CPU 4核, 内存 8G, 存储 150G&lt;/li>
&lt;li>数据库: mariadb (CentOS 7自带的版本：Ver 15.1 Distrib 5.5.56-MariaDB）&lt;/li>
&lt;li>docker: ce-19.03.9&lt;/li>
&lt;li>kubernetes: v1.15.8&lt;/li>
&lt;/ul>
&lt;p>需要能访问如下网址，如果企业有外网隔离规则，则需要打开相应白名单：&lt;/p>
&lt;ul>
&lt;li>CentOS YUM网络安装源&lt;/li>
&lt;li>&lt;a href="https://iso.yunion.cn/">https://iso.yunion.cn/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://registry.cn-beijing.aliyuncs.com">https://registry.cn-beijing.aliyuncs.com&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://meta.yunion.cn">https://meta.yunion.cn&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yunionmeta.oss-cn-beijing.aliyuncs.com">https://yunionmeta.oss-cn-beijing.aliyuncs.com&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="安装配置-mariadb">安装配置 mariadb&lt;/h3>
&lt;p>mariadb 作为服务数据持久化的数据库，可以部署在其它节点或者使用单独维护的。下面假设还没有部署 mariadb，在控制节点上安装设置 mariadb。&lt;/p>
&lt;p>为了方便运行维护，mariadb推荐打开两个参数设施：&lt;/p>
&lt;ul>
&lt;li>skip_name_resolve：取消域名解析&lt;/li>
&lt;li>expire_logs_days=30：设置binlog的超时时间为30天，超过30天的binglog自动删除&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ &lt;span style="color:#000">MYSQL_PASSWD&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;your-sql-passwd&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 安装 mariadb&lt;/span>
$ yum install -y epel-release mariadb-server
$ systemctl &lt;span style="color:#204a87">enable&lt;/span> --now mariadb
$ mysqladmin -u root password &lt;span style="color:#4e9a06">&amp;#34;&lt;/span>&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span>
$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt;/etc/my.cnf
&lt;/span>&lt;span style="color:#4e9a06">[mysqld]
&lt;/span>&lt;span style="color:#4e9a06">datadir=/var/lib/mysql
&lt;/span>&lt;span style="color:#4e9a06">socket=/var/lib/mysql/mysql.sock
&lt;/span>&lt;span style="color:#4e9a06"># Disabling symbolic-links is recommended to prevent assorted security risks
&lt;/span>&lt;span style="color:#4e9a06">symbolic-links=0
&lt;/span>&lt;span style="color:#4e9a06"># Settings user and group are ignored when systemd is used.
&lt;/span>&lt;span style="color:#4e9a06"># If you need to run mysqld under a different user or group,
&lt;/span>&lt;span style="color:#4e9a06"># customize your systemd unit file for mariadb according to the
&lt;/span>&lt;span style="color:#4e9a06"># instructions in http://fedoraproject.org/wiki/Systemd
&lt;/span>&lt;span style="color:#4e9a06"># skip domain name resolve
&lt;/span>&lt;span style="color:#4e9a06">skip_name_resolve
&lt;/span>&lt;span style="color:#4e9a06"># auto delete binlog older than 30 days
&lt;/span>&lt;span style="color:#4e9a06">expire_logs_days=30
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">[mysqld_safe]
&lt;/span>&lt;span style="color:#4e9a06">log-error=/var/log/mariadb/mariadb.log
&lt;/span>&lt;span style="color:#4e9a06">pid-file=/var/run/mariadb/mariadb.pid
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">#
&lt;/span>&lt;span style="color:#4e9a06"># include all files from the config directory
&lt;/span>&lt;span style="color:#4e9a06">#
&lt;/span>&lt;span style="color:#4e9a06">!includedir /etc/my.cnf.d
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
$ mysql -uroot -p&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> -e &lt;span style="color:#4e9a06">&amp;#34;GRANT ALL ON *.* to &amp;#39;root&amp;#39;@&amp;#39;%&amp;#39; IDENTIFIED BY &amp;#39;&lt;/span>&lt;span style="color:#000">$MYSQL_PASSWD&lt;/span>&lt;span style="color:#4e9a06">&amp;#39; with grant option; FLUSH PRIVILEGES;&amp;#34;&lt;/span>
$ systemctl restart mariadb
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="安装配置-docker">安装配置 docker&lt;/h3>
&lt;p>安装 docker&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ yum install -y yum-utils bash-completion
&lt;span style="color:#8f5902;font-style:italic"># 添加 yunion 云联壹云 rpm 源&lt;/span>
$ yum-config-manager --add-repo https://iso.yunion.cn/yumrepo-3.4/yunion.repo
$ yum install -y docker-ce-19.03.9 docker-ce-cli-19.03.9 containerd.io
&lt;/code>&lt;/pre>&lt;/div>&lt;p>配置 docker&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ mkdir -p /etc/docker
$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt;/etc/docker/daemon.json
&lt;/span>&lt;span style="color:#4e9a06">{
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;bridge&amp;#34;: &amp;#34;none&amp;#34;,
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;iptables&amp;#34;: false,
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;exec-opts&amp;#34;:
&lt;/span>&lt;span style="color:#4e9a06"> [
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;native.cgroupdriver=systemd&amp;#34;
&lt;/span>&lt;span style="color:#4e9a06"> ],
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;data-root&amp;#34;: &amp;#34;/opt/docker&amp;#34;,
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;live-restore&amp;#34;: true,
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;log-driver&amp;#34;: &amp;#34;json-file&amp;#34;,
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;log-opts&amp;#34;:
&lt;/span>&lt;span style="color:#4e9a06"> {
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;max-size&amp;#34;: &amp;#34;100m&amp;#34;
&lt;/span>&lt;span style="color:#4e9a06"> },
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;registry-mirrors&amp;#34;:
&lt;/span>&lt;span style="color:#4e9a06"> [
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;https://lje6zxpk.mirror.aliyuncs.com&amp;#34;,
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;https://lms7sxqp.mirror.aliyuncs.com&amp;#34;,
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;https://registry.docker-cn.com&amp;#34;
&lt;/span>&lt;span style="color:#4e9a06"> ]
&lt;/span>&lt;span style="color:#4e9a06">}
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>启动 docker&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ systemctl &lt;span style="color:#204a87">enable&lt;/span> --now docker
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="安装-云联壹云-依赖内核">安装 云联壹云 依赖内核&lt;/h3>
&lt;p>这里需要安装我们编译的内核，这个内核是基于上游 CentOS 3.10.0-1062 编译的，默认添加了 nbd 模块，nbd 模块用于镜像相关的操作。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 安装内核&lt;/span>
$ yum install -y &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> kernel-3.10.0-1062.4.3.el7.yn20191203 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> kernel-devel-3.10.0-1062.4.3.el7.yn20191203 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> kernel-headers-3.10.0-1062.4.3.el7.yn20191203
&lt;span style="color:#8f5902;font-style:italic"># 重启系统进入内核&lt;/span>
$ reboot
&lt;span style="color:#8f5902;font-style:italic"># 重启完成后，查看当前节点内核信息&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 确保为 3.10.0-1062.4.3.el7.yn20191203.x86_64&lt;/span>
$ uname -r
3.10.0-1062.4.3.el7.yn20191203.x86_64
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="安装配置-kubelet">安装配置 kubelet&lt;/h3>
&lt;p>从 云联壹云 rpm 的 yum 源安装 kubernetes 1.15.8，并设置 kubelet 开机自启动&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ yum install -y bridge-utils ipvsadm conntrack-tools &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> jq kubelet-1.15.8-0 kubectl-1.15.8-0 kubeadm-1.15.8-0
$ &lt;span style="color:#204a87">echo&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;source &amp;lt;(kubectl completion bash)&amp;#39;&lt;/span> &amp;gt;&amp;gt; ~/.bashrc &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#204a87">source&lt;/span> ~/.bashrc
$ &lt;span style="color:#204a87">source&lt;/span> /etc/profile
$ systemctl &lt;span style="color:#204a87">enable&lt;/span> kubelet
&lt;/code>&lt;/pre>&lt;/div>&lt;p>安装完 kubernetes 相关的二进制后，还需要对系统做一些配置并启用 ipvs 作为 kube-proxy 内部的 service 负载均衡&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 禁用 swap&lt;/span>
$ swapoff -a
&lt;span style="color:#8f5902;font-style:italic"># 如果设置了自动挂载 swap，需要去 /etc/fstab 里面注释掉挂载 swap 那一行&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 关闭 selinux&lt;/span>
$ setenforce &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span>
$ sed -i &lt;span style="color:#4e9a06">&amp;#39;s/SELINUX=enforcing/SELINUX=disabled/&amp;#39;&lt;/span> /etc/selinux/config
&lt;span style="color:#8f5902;font-style:italic"># 禁用 firewalld&lt;/span>
$ systemctl stop firewalld
$ systemctl disable firewalld
&lt;span style="color:#8f5902;font-style:italic"># 禁用 NetworkManager&lt;/span>
$ systemctl stop NetworkManager
$ systemctl disable NetworkManager
$ ps -ef&lt;span style="color:#000;font-weight:bold">|&lt;/span>grep dhcp &lt;span style="color:#000;font-weight:bold">|&lt;/span> awk &lt;span style="color:#4e9a06">&amp;#39;{print $2}&amp;#39;&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>xargs &lt;span style="color:#204a87">kill&lt;/span> -9
&lt;span style="color:#8f5902;font-style:italic"># 做一些 sysctl 的配置, kubernetes 要求&lt;/span>
$ modprobe br_netfilter
$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt;&amp;gt; /etc/sysctl.conf
&lt;/span>&lt;span style="color:#4e9a06">net.bridge.bridge-nf-call-iptables=1
&lt;/span>&lt;span style="color:#4e9a06">net.bridge.bridge-nf-call-ip6tables=1
&lt;/span>&lt;span style="color:#4e9a06">net.ipv4.ip_forward=1
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
$ sysctl -p
&lt;span style="color:#8f5902;font-style:italic"># 配置并开启 ipvs&lt;/span>
$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt; /etc/sysconfig/modules/ipvs.modules
&lt;/span>&lt;span style="color:#4e9a06">#!/bin/bash
&lt;/span>&lt;span style="color:#4e9a06">ipvs_modules=&amp;#34;ip_vs ip_vs_lc ip_vs_wlc ip_vs_rr ip_vs_wrr ip_vs_lblc ip_vs_lblcr ip_vs_dh ip_vs_sh ip_vs_fo ip_vs_nq ip_vs_sed ip_vs_ftp nf_conntrack_ipv4&amp;#34;
&lt;/span>&lt;span style="color:#4e9a06">for kernel_module in \${ipvs_modules}; do
&lt;/span>&lt;span style="color:#4e9a06"> /sbin/modinfo -F filename \${kernel_module} &amp;gt; /dev/null 2&amp;gt;&amp;amp;1
&lt;/span>&lt;span style="color:#4e9a06"> if [ $? -eq 0 ]; then
&lt;/span>&lt;span style="color:#4e9a06"> /sbin/modprobe \${kernel_module}
&lt;/span>&lt;span style="color:#4e9a06"> fi
&lt;/span>&lt;span style="color:#4e9a06">done
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
$ chmod &lt;span style="color:#0000cf;font-weight:bold">755&lt;/span> /etc/sysconfig/modules/ipvs.modules &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> bash /etc/sysconfig/modules/ipvs.modules &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> lsmod &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep ip_vs
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="部署集群">部署集群&lt;/h2>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">提示&lt;/h4>
&lt;blockquote>
&lt;p>如果要部署高可用集群，请先搭建负载均衡集群，参考 &lt;a href="https://www.cloudpods.org/v3.4/docs/setup/controlplane-ha">部署 HA 环境&lt;/a>。&lt;/p>
&lt;/blockquote>
&lt;/div>
&lt;h3 id="安装部署工具">安装部署工具&lt;/h3>
&lt;p>先安装部署工具 ocadm 和云平台的命令行工具 climc:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 安装 climc 云平台命令行工具 和 ocadm 部署工具&lt;/span>
$ yum install -y yunion-climc yunion-ocadm
&lt;span style="color:#8f5902;font-style:italic"># climc 在 /opt/yunion/bin 目录下，根据自己的需要加到 bash 或者 zsh 配置文件里面&lt;/span>
$ &lt;span style="color:#204a87">echo&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;export PATH=$PATH:/opt/yunion/bin&amp;#39;&lt;/span> &amp;gt;&amp;gt; ~/.bashrc &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#204a87">source&lt;/span> ~/.bashrc
&lt;span style="color:#8f5902;font-style:italic"># 安装必要的服务，并启动和设置为开机自启&lt;/span>
$ yum install -y yunion-executor-server &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> systemctl &lt;span style="color:#204a87">enable&lt;/span> --now yunion-executor
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="部署-kubernetes-集群">部署 kubernetes 集群&lt;/h3>
&lt;p>接下来会现在当前节点启动 v1.15.8 的 kubernetes 服务，然后部署 云联壹云 控制节点相关的服务到 kubernetes 集群。&lt;/p>
&lt;p>拉取必要的 docker 镜像&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ ocadm config images pull
&lt;/code>&lt;/pre>&lt;/div>&lt;p>使用 ocadm 部署 kubernetes 集群&lt;/p>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">提示&lt;/h4>
&lt;blockquote>
&lt;p>如果要进行高可用部署，并已经搭建好了负载均衡集群，需要在 &lt;code>ocadm init&lt;/code> 命令加上 &lt;code>--control-plane-endpoint &amp;lt;vip&amp;gt;:6443&lt;/code> 参数，告诉 kubernetes 集群前端的 LoadBalancer vip，之后生成的配置就会都用这个 vip 当做控制节点的入口。&lt;/p>
&lt;/blockquote>
&lt;/div>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 假设 mariadb 部署在本地，如果是使用已有的数据库，请改变对应的 ip&lt;/span>
$ &lt;span style="color:#000">MYSQL_HOST&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>ip route get &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> awk &lt;span style="color:#4e9a06">&amp;#39;{print $NF;exit}&amp;#39;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 如果是高可用部署，记得在设置 EXTRA_OPT=&amp;#39; --control-plane-endpoint 10.168.222.18:6443&amp;#39;&lt;/span>
$ &lt;span style="color:#000">EXTRA_OPT&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&lt;/span>
$ &lt;span style="color:#8f5902;font-style:italic">#EXTRA_OPT=&amp;#39; --control-plane-endpoint 10.168.222.18:6443&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 开始部署 kubernetes 以及 云联壹云 必要的控制服务，稍等 3 分钟左右，kubernetes 集群会部署完成&lt;/span>
$ ocadm init --mysql-host &lt;span style="color:#000">$MYSQL_HOST&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --mysql-user root --mysql-password &lt;span style="color:#000">$MYSQL_PASSWD&lt;/span> &lt;span style="color:#000">$EXTRA_OPT&lt;/span>
...
Your Kubernetes and control-plane has initialized successfully!
...
&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">提示&lt;/h4>
&lt;blockquote>
&lt;p>kubernetes 高可用部署需要 3 个节点，主要是 etcd 需要至少 3 个节点组成高可用集群。如果是高可用部署，请在另外两个节点执行 &lt;code>ocadm join --control-plane &amp;lt;vip&amp;gt;:6443&lt;/code> 部署控制服务，join 的另外两个节点会自动和当前的控制节点组成高可用集群。参考: &lt;a href="https://www.cloudpods.org/v3.4/docs/setup/components/#%E5%8A%A0%E5%85%A5-controlplane">加入控制节点&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;/div>
&lt;p>kubernetes 集群部署完成后，通过以下命令来确保相关的 pod (容器) 都已经启动, 变成 running 的状态。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ mkdir -p &lt;span style="color:#000">$HOME&lt;/span>/.kube
$ sudo cp -i /etc/kubernetes/admin.conf &lt;span style="color:#000">$HOME&lt;/span>/.kube/config
$ sudo chown &lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>id -u&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>:&lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>id -g&lt;span style="color:#204a87;font-weight:bold">)&lt;/span> &lt;span style="color:#000">$HOME&lt;/span>/.kube/config
$ kubectl get pods --all-namespaces
NAMESPACE NAME READY STATUS RESTARTS AGE
kube-system calico-kube-controllers-648bb4447c-57gjb 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 5h1m
kube-system calico-node-j89jg 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 5h1m
kube-system coredns-69845f69f6-f6wnv 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 5h1m
kube-system coredns-69845f69f6-sct6n 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 5h1m
kube-system etcd-lzx-ocadm-test2 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 5h
kube-system kube-apiserver-lzx-ocadm-test2 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 5h
kube-system kube-controller-manager-lzx-ocadm-test2 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 5h
kube-system kube-proxy-2fwgf 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 5h1m
kube-system kube-scheduler-lzx-ocadm-test2 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 5h
kube-system traefik-ingress-controller-qwkfb 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 5h1m
local-path-storage local-path-provisioner-5978cff7b7-7h8df 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 5h1m
onecloud onecloud-operator-6d4bddb8c4-tkjkh 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 3h37m
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="创建-云联壹云-集群">创建 云联壹云 集群&lt;/h3>
&lt;p>当 kubernetes 集群部署完成后，就可以通过 &lt;code>ocadm cluster create&lt;/code> 创建 云联壹云 集群，该集群由 onecloud namespace 里面 &lt;strong>onecloud-operator&lt;/strong> deployment 自动部署和维护。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 创建集群&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 如果要部署企业版的组件可以在 cluster create 的时候加上 --use-ee 参数&lt;/span>
$ ocadm cluster create --wait
&lt;/code>&lt;/pre>&lt;/div>&lt;p>执行完 &lt;code>ocadm cluster create --wait&lt;/code> 命令后，&lt;strong>onecloud-operator&lt;/strong> 会自动创建各个服务组件对应的 pod，等待一段该命令执行完毕， 就可以通过访问 &amp;lsquo;https://本机IP:443&amp;rsquo; 登入前端界面。&lt;/p>
&lt;h3 id="创建登录用户">创建登录用户&lt;/h3>
&lt;p>当控制节点部署完成后，需要创建一个用于前端登录的用户。云平台的管理员认证信息由 &lt;code>ocadm cluster rcadmin&lt;/code> 命令可以得到 , 这些认证信息在使用 climc 控制云平台资源时会用到。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 获取连接 云联壹云 集群的环境变量&lt;/span>
$ ocadm cluster rcadmin
&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">OS_AUTH_URL&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>https://10.168.222.218:30357/v3
&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">OS_USERNAME&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>sysadmin
&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">OS_PASSWORD&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>3hV3qAhvxck84srk
&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">OS_PROJECT_NAME&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>system
&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">YUNION_INSECURE&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">true&lt;/span>
&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">OS_REGION_NAME&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>region0
&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">OS_ENDPOINT_TYPE&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>publicURL
&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">提示&lt;/h4>
&lt;blockquote>
&lt;p>如果是高可用部署，这些 endpoint 的 public url 会是 vip，如果要在 kubernetes 集群外访问需要到 haproxy 节点上添加对应的 frontend 和 backend，其中frontend的端口对应 endpoint 里面的端口，backend 对应 3 个 controlplane node 的 ip 和对应端口。&lt;/p>
&lt;/blockquote>
&lt;/div>
&lt;p>创建用户&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 初始化连接集群的管理员认证信息&lt;/span>
$ &lt;span style="color:#204a87">source&lt;/span> &amp;lt;&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>ocadm cluster rcadmin&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 设置想要创建的用户名和密码&lt;/span>
$ &lt;span style="color:#000">OC_USERNAME&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>demo
$ &lt;span style="color:#000">OC_PASSWORD&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>demo@123
&lt;span style="color:#8f5902;font-style:italic"># 创建指定的用户&lt;/span>
$ climc user-create --password &lt;span style="color:#000">$OC_PASSWORD&lt;/span> --enabled &lt;span style="color:#000">$OC_USERNAME&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 将用户加入 system 项目并赋予 admin 角色&lt;/span>
$ climc project-add-user system &lt;span style="color:#000">$OC_USERNAME&lt;/span> admin
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="访问前端">访问前端&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 获取本机 IP&lt;/span>
$ ip route get &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> awk &lt;span style="color:#4e9a06">&amp;#39;{print $NF;exit}&amp;#39;&lt;/span>
10.168.222.218
&lt;span style="color:#8f5902;font-style:italic"># 测试连通性&lt;/span>
$ curl -k https://10.168.222.218
&lt;/code>&lt;/pre>&lt;/div>&lt;p>用浏览器访问 &amp;lsquo;https://本机IP&amp;rsquo; 会跳转到 web 界面，使用 &lt;a href="https://www.cloudpods.org/v3.4/docs/setup/controlplane/#%E5%88%9B%E5%BB%BA%E7%99%BB%E5%BD%95%E7%94%A8%E6%88%B7">创建登录用户&lt;/a> 里面指定的用户名和密码登录后，界面如下:&lt;/p>
&lt;p>&lt;img src="../images/web-login.png" alt="登录页">&lt;/p>
&lt;p>&lt;img src="../images/web-dashboard.png" alt="首页">&lt;/p>
&lt;h3 id="删除环境">删除环境&lt;/h3>
&lt;p>如果安装过程中失败，或者想清理环境，可执行以下命令删除 kubernetes 集群。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ ocadm reset --force
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="后续">后续&lt;/h2>
&lt;p>如果没有意外，现在应该已经部署好了 云联壹云 on kubernetes 的集群，以下是一些后续的环节说明，可以根据自己的需要来进行额外的操作。&lt;/p>
&lt;h3 id="添加计算节点">添加计算节点&lt;/h3>
&lt;p>当控制节点搭建完成后，可以参考 &lt;a href="https://www.cloudpods.org/v3.4/docs/setup/host/">计算节点&lt;/a> 一节的内容，添加计算节点，组建一套私有云集群。&lt;/p>
&lt;h3 id="控制节点作为计算节点">控制节点作为计算节点&lt;/h3>
&lt;p>默认情况下 &lt;code>ocadm init&lt;/code> 创建的节点是控制节点，不会运行 onecloud 计算节点的服务。如果需要把控制节点也作为计算节点，需要执行以下步骤:&lt;/p>
&lt;ul>
&lt;li>安装计算节点需要的依赖，参考 &lt;a href="https://www.cloudpods.org/v3.4/docs/setup/host/#%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96">&amp;ldquo;计算节点/安装依赖&amp;rdquo;&lt;/a>，这里主要是要安装我们的内核和运行虚拟机的 qemu 等软件。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 安装rpm包&lt;/span>
$ yum --disablerepo&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;*&amp;#39;&lt;/span> --enablerepo&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;yunion*&amp;#39;&lt;/span> install -y &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> epel-release libaio jq libusb lvm2 nc ntp yunion-fetcherfs fuse fuse-devel fuse-libs &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> oniguruma pciutils spice spice-protocol sysstat tcpdump usbredir &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> yunion-qemu-2.12.1 yunion-executor-server &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> kmod-openvswitch &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> openvswitch net-tools
$ systemctl &lt;span style="color:#204a87">enable&lt;/span> --now yunion-executor
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>在控制节点启用该节点作为计算节点，命令如下:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 用 kubectl get nodes 拿到当前的节点名称&lt;/span>
$ kubectl get nodes
NAME STATUS ROLES AGE
controller01 Ready master 116d
controller02 Ready master 40d
node01 Ready &amp;lt;none&amp;gt; 25d
&lt;span style="color:#8f5902;font-style:italic"># 假设我要把 controller01 和 controller02 作为计算节点&lt;/span>
$ ocadm node enable-host-agent &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --node controller01 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --node controller02
&lt;span style="color:#8f5902;font-style:italic"># 等待并查看运行在 controller01/02 上的计算节点服务&lt;/span>
$ kubectl get pods -n onecloud -o wide &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep host
default-host-7b5cr 2/2 Running &lt;span style="color:#0000cf;font-weight:bold">218&lt;/span> 18h 192.168.222.4 controller01
default-host-ctx5s 2/2 Running &lt;span style="color:#0000cf;font-weight:bold">218&lt;/span> 18h 192.168.222.5 controller02
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="升级回滚组件版本">升级/回滚组件版本&lt;/h3>
&lt;p>&lt;code>ocadm init&lt;/code> 的时候使用 &lt;code>--onecloud-version&lt;/code> 选项设置了组件的版本，可以使用 &lt;code>ocadm cluster update&lt;/code> 命令升级组件到指定的版本，保持更新。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 查看现在 云联壹云 cluster 的版本&lt;/span>
$ kubectl get oc -n onecloud default -o &lt;span style="color:#000">jsonpath&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;{.spec.version}&amp;#39;&lt;/span>
v3.0.0-20200112.0
&lt;span style="color:#8f5902;font-style:italic"># 升级到 v3.0.0-20200113.0&lt;/span>
$ ocadm cluster update --version v3.0.0-20200113.0 --wait
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: 服务组件介绍</title><link>https://www.cloudpods.org/v3.4/docs/contribute/services/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/contribute/services/</guid><description>
&lt;h2 id="架构简介">架构简介&lt;/h2>
&lt;p>云联壹云 服务组件较多，接下来分别介绍每个组件的功能:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>服务组件&lt;/th>
&lt;th>功能用途&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>keystone&lt;/td>
&lt;td>认证权限管理&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>region&lt;/td>
&lt;td>多云资源控制器&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>scheduler&lt;/td>
&lt;td>资源调度器&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>glance&lt;/td>
&lt;td>虚拟机镜像管理&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>host&lt;/td>
&lt;td>私有云虚拟机管理&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>baremetal&lt;/td>
&lt;td>私有云物理机管理&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>esxi-agent&lt;/td>
&lt;td>vmware esxi 实例管理&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>lb-agent&lt;/td>
&lt;td>私有云负载均衡&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>webconsole&lt;/td>
&lt;td>提供 vnc, ssh 访问&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>logger&lt;/td>
&lt;td>记录审计日志&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>apigateway&lt;/td>
&lt;td>api 网关，能通过该服务访问后端所有 api&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>climc&lt;/td>
&lt;td>命令行管理工具&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>组件架构见下图，分为接入层，控制层和资源层三个主要部分。&lt;/p>
&lt;p>&lt;img src="../images/onecloud-services.png" alt="">&lt;/p>
&lt;h2 id="接入层">接入层&lt;/h2>
&lt;p>接入层实现云管平台的访问功能，允许用户通过如下3种方式访问云管平台的功能：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>API访问&lt;/strong>: 通过REST API访问云管平台功能，用户可以直接通过http接口访问云管平台的REST API，也可以使用云管平台提供的SDK。目前SDK支持Java，Python和Golang等三种语言。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>命令行访问&lt;/strong>: 通过云管平台提供的climc命令行工具访问云管平台功能，允许用户通过脚本调用climc，实现一些自动化运维功能。Climc使用Golang语言，基于云管平台的Golang SDK开发。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Web控制台访问&lt;/strong>: 通过Web UI访问云管平台的功能。允许用户通过主流web浏览器访问云管平台。Web控制台提供管理员使用的管理后台以及普通用户使用的普通功能页面，能够提供大部分的管理和使用功能。Web控制台基于Vue 2.0 JavaScript SPA框架实现。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="控制层">控制层&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>控制层实现云管平台的管理和控制功能。主要由API网关，认证服务，镜像服务，云控制器和调度器，以及 webconsole vnc, ssh 代理服务等组件构成。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>API网关提供Web控制台对各个服务的统一REST API访问接口。实现Web控制台的登录验证，session 控制，以及对后端各个服务的API调用。API网关由Golang完全自主开发，完全无状态架构，具备水平扩展能力。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>认证服务提供平台的账户管理和认证体系，并提供基于项目的多租户支持，同时提供服务目录功能。认证服务支持多种认证源，允许和企业的LDAP／AD对接，允许用户以企业统一的账户体系登入系统。认证服务2.10之前版本基于OpenStack Keystone Pika版本，开发语言为Python。在开源版本基础上，我们修正了BUG，并做了若干改进。2.10之后版本采用golang语言开发。Keystone采用无状态架构，支持水平扩展，可以水平拆分实现服务高可用。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>镜像服务提供云管平台各种主机资源的操作系统镜像的管理功能。提供镜像存储，元数据管理等功能。镜像服务1.x版本基于OpenStack Glance Folsom版本改进而来，开发语言为Python。在开源版本基础上，我们修正了BUG，并做了若干改进。2.x版本采用golang语言开发。Glance采用无状态架构，支持水平扩展，可以水平拆分实现服务高可用。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>云控制器是整个云管平台的中枢，负责机房网络，宿主机，网络，存储，虚拟机等各类资源的元数据信息管理，以及对虚拟机，裸机等的自动化管理操作认证的调度，协调管理。云控制器内置基于REST API接口的分布式异步任务管理框架，实现对在计算节点进行的开关机，创建删除等耗时操作任务的管理协调工作。云控制器完全自主开发，云控制器采用无状态架构，可以水平扩展，通过水平拆分实现高可用。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>调度器负责云管平台资源调度功能，是云管平台中资源获取决策的唯一执行者，根据用户对资源的要求，给出资源的最优提供者。调度器支持批量调度，调度性能优异，可扩展性好。调度器完全自主开发，基于Golang语言开发。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="资源层">资源层&lt;/h2>
&lt;ul>
&lt;li>资源层实现对KVM虚拟机，裸机，VMWare虚拟机等计算资源的管理和控制功能。云管平台目前主要支持对KVM虚拟机，裸机，VMWare虚拟机，常用私有云openstack, zstack 以及公有云阿里云，Azure，腾讯云，AWS等公有云资源的管理。&lt;/li>
&lt;/ul></description></item><item><title>Docs: 后端服务框架</title><link>https://www.cloudpods.org/v3.4/docs/contribute/framework/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/contribute/framework/</guid><description>
&lt;p>介绍云平台后端服务所用的框架和相关库的使用方法，建议先阅读 &lt;a href="https://www.cloudpods.org/v3.4/docs/contribute/services/">&amp;ldquo;开发相关/服务组件介绍&amp;rdquo;&lt;/a> 了解各个服务大概的功能。&lt;/p>
&lt;h2 id="后端服务框架">后端服务框架&lt;/h2>
&lt;p>keystone, region, glance 等后端服务，都是用的同一套后端服务框架，这个框架是我们自己定义实现的，核心模块如下:&lt;/p>
&lt;p>&lt;img src="../images/service_framework.png" alt="">&lt;/p>
&lt;ul>
&lt;li>
&lt;p>REST API: 负责解析客户端发送的 CRUD http 请求，将不同的请求对应到 Model Dispatcher 模块。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Model Dispatcher: 将客户端的请求分发到对应资源的业务操作。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Model: 定义云平台各种资源，会进行数据库读写相关操作，如果具体业务需要进行耗时操作，会通过 Task 机制来执行耗时任务。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Task: 后台处理异步耗时任务的模块，会通过更新 Model 的状态来更新任务的执行结果。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="云联壹云-代码结构">云联壹云 代码结构&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/yunionio/onecloud/tree/master/build">build&lt;/a>: 打包rpm脚本&lt;/li>
&lt;li>&lt;a href="https://github.com/yunionio/onecloud/tree/master/cmd">cmd&lt;/a>: 可执行binary入口程序&lt;/li>
&lt;li>&lt;a href="https://github.com/yunionio/onecloud/tree/master/pkg">pkg&lt;/a>: 库
&lt;ul>
&lt;li>&lt;a href="https://github.com/yunionio/onecloud/tree/master/pkg/appsrv">appsrv&lt;/a>: 通用http服务框架&lt;/li>
&lt;li>&lt;a href="https://github.com/yunionio/onecloud/tree/master/pkg/cloudcommon">cloudcommon&lt;/a>: 云平台服务框架，基于appsrv扩展
&lt;ul>
&lt;li>&lt;a href="https://github.com/yunionio/onecloud/tree/master/pkg/cloudcommon/options">cloudcommon/options&lt;/a>: 通用options&lt;/li>
&lt;li>&lt;a href="https://github.com/yunionio/onecloud/tree/master/pkg/cloudcommon/app">cloudcommon/app&lt;/a>: 通用服务初始化代码&lt;/li>
&lt;li>&lt;a href="https://github.com/yunionio/onecloud/tree/master/pkg/cloudcommon/db">cloudcommon/db&lt;/a>: Model dispatcher和Models的基础实现&lt;/li>
&lt;li>&lt;a href="https://github.com/yunionio/onecloud/tree/master/pkg/cloudcommon/db/lockman">cloudcommon/db/lockman&lt;/a>: 锁实现&lt;/li>
&lt;li>&lt;a href="https://github.com/yunionio/onecloud/tree/master/pkg/cloudcommon/db/taskman">cloudcommon/db/taskman&lt;/a>: 异步任务框架&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="认证部分">认证部分&lt;/h2>
&lt;p>&lt;img src="../images/auth_framework.png" alt="">&lt;/p>
&lt;ul>
&lt;li>客户端向服务发起请求前，需要从keystone获得token&lt;/li>
&lt;li>客户端通过携带用户名密码调用keystone的/v3/auth/tokens接口获得token&lt;/li>
&lt;li>客户端向服务发起的每次API请求都会在HTTP头携带该token，比如: X-Auth-Token: {token}&lt;/li>
&lt;li>后端服务向keystone验证该token，获得用户的身份信息，执行后续API的流程&lt;/li>
&lt;li>每个服务都有一个keystone注册的服务用户账号（user/password)，并且以admin角色加入system项目&lt;/li>
&lt;li>服务启动后，会向keystone发起认证，获得admin token&lt;/li>
&lt;li>用户通过API访问服务时，将在header携带token&lt;/li>
&lt;li>使用这个admin token访问keystone的token验证接口，验证这个token，获得用户的身份信息&lt;/li>
&lt;/ul>
&lt;h2 id="model-dispatcher">Model Dispatcher&lt;/h2>
&lt;p>把 REST API 和 Model 的方法进行一一映射&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>REST 请求&lt;/th>
&lt;th>Model 方法&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>GET /&amp;lt;resources&amp;gt;&lt;/td>
&lt;td>AllowListItems&lt;/td>
&lt;td>List的权限判断&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-&lt;/td>
&lt;td>ListItemFilter&lt;/td>
&lt;td>过滤&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-&lt;/td>
&lt;td>GetCustomizeColumns&lt;/td>
&lt;td>获得扩展字段的信息&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>GET /&amp;lt;resources&amp;gt;/&amp;lt;res_id&amp;gt;&lt;/td>
&lt;td>AllowGetDetails&lt;/td>
&lt;td>Get 的权限判断&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-&lt;/td>
&lt;td>GetExtraDetails&lt;/td>
&lt;td>获取扩展字段的信息&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>GET /&amp;lt;resources&amp;gt;/&amp;lt;res_id&amp;gt;/&amp;lt;spec&amp;gt;&lt;/td>
&lt;td>AllowGetDetails&amp;lt;Spec&amp;gt;&lt;/td>
&lt;td>获取资源特定属性的权限判断&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-&lt;/td>
&lt;td>GetDetails&amp;lt;Spec&amp;gt;&lt;/td>
&lt;td>获取资源特定属性&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>POST /&amp;lt;resources&amp;gt;&lt;/td>
&lt;td>AllowCreateItem&lt;/td>
&lt;td>创建操作的鉴权&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-&lt;/td>
&lt;td>ValidateCreateData&lt;/td>
&lt;td>校验和处理创建的数据&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-&lt;/td>
&lt;td>CustomizeCreate&lt;/td>
&lt;td>自定义的创建操作&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-&lt;/td>
&lt;td>PostCreate&lt;/td>
&lt;td>创建后的hook&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-&lt;/td>
&lt;td>OnCreateComplete&lt;/td>
&lt;td>创建完成的hook&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>POST /&amp;lt;resources&amp;gt;/&amp;lt;res_id&amp;gt;/&amp;lt;action&amp;gt;&lt;/td>
&lt;td>AllowPerformAction&amp;lt;Action&amp;gt;&lt;/td>
&lt;td>某个资源执行特定操作的鉴权判断&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-&lt;/td>
&lt;td>Perform&amp;lt;Action&amp;gt;&lt;/td>
&lt;td>某个资源执行特定操作&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>PUT /&amp;lt;resources&amp;gt;/&amp;lt;res_id&amp;gt;&lt;/td>
&lt;td>AllowUpdateItem&lt;/td>
&lt;td>对指定资源更新操作的鉴权&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-&lt;/td>
&lt;td>ValidateUpdateData&lt;/td>
&lt;td>校验和处理更新操作的数据&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-&lt;/td>
&lt;td>PreUpdate&lt;/td>
&lt;td>自定义的创建操作&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-&lt;/td>
&lt;td>PostUpdate&lt;/td>
&lt;td>创建后的hook&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>DELETE /&amp;lt;resources&amp;gt;/&amp;lt;res_id&amp;gt;&lt;/td>
&lt;td>AllowDeleteItem&lt;/td>
&lt;td>删除指定资源的鉴权&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-&lt;/td>
&lt;td>CustomizeDelete&lt;/td>
&lt;td>自定义的删除操作&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-&lt;/td>
&lt;td>PreDelete&lt;/td>
&lt;td>删除前的hook&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-&lt;/td>
&lt;td>Delete&lt;/td>
&lt;td>执行删除操作&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-&lt;/td>
&lt;td>PostDelete&lt;/td>
&lt;td>删除后的hook&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>具体 restful 请求的绑定函数在: &lt;a href="https://github.com/yunionio/onecloud/blob/master/pkg/appsrv/dispatcher/dispatcher.go#L33">pkg/appsrv/dispatcher/dispatcher.go&lt;/a> 文件中的 &lt;strong>AddModelDispatcher&lt;/strong> 函数。&lt;/p>
&lt;h2 id="数据库-orm-模型">数据库 ORM 模型&lt;/h2>
&lt;p>代码位于 &lt;a href="https://github.com/yunionio/onecloud/tree/master/pkg/cloudcommon/db">cloudcommon/db&lt;/a>&lt;/p>
&lt;ul>
&lt;li>接口
&lt;ul>
&lt;li>IModelManager: 对应资源在数据库里面的表&lt;/li>
&lt;li>IModel: 对应资源在数据库里面的单条数据&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>数据结构
&lt;ul>
&lt;li>SResourceBase: 基础资源
&lt;ul>
&lt;li>SStandaloneResourceBase: 基础设施的物理资源，没有具体ownerId的资源，如zone, host
&lt;ul>
&lt;li>SVirtualResourceBase: 虚拟资源，如虚拟机（guest)
&lt;ul>
&lt;li>SSharableVirtualResourceBase: 虚拟的可以共享的虚拟资源，如disk, network
&lt;ul>
&lt;li>SAdminSharableVirtualInfoBase: 管理配置用的可共享虚拟资源，如security group&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>SJointResourceBase: 联合数据类型，如虚拟网卡是虚拟机和网络的联合，虚拟磁盘挂在：虚拟机和虚拟磁盘的联合&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="举例">举例&lt;/h3>
&lt;p>用虚拟机的 model 来举例，代码在: &lt;a href="https://github.com/yunionio/onecloud/blob/master/pkg/compute/models/guests.go">pkg/compute/models/guests.go&lt;/a>。&lt;/p>
&lt;p>GuestManager 对应数据库里面的 guests_tbl，该对象嵌套 db.SVirtualResourceBaseManager 表示是虚拟资源的 Manager，这样会默认实现 db.IModelManager 接口，然后根据业务需要重写一些方法会比较方便。&lt;/p>
&lt;p>SGuest 对应 guests_tbl 数据库里面的每一行数据，由 GuestManager 管理，嵌套 db.SVirtualResourceBase 结构，默认就会有虚拟资源所需要的表结构，然后再定义一些虚拟机独有的属性比如 VcpuCount 表示 cpu 核数，VmemSize 表示内存大小。 在代码抽象后表示虚拟机实例，该对象会绑定对虚拟机具体的业务操作实现函数。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-golang" data-lang="golang">&lt;span style="color:#204a87;font-weight:bold">import&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;yunion.io/x/onecloud/pkg/cloudcommon/db&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">......&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">type&lt;/span> &lt;span style="color:#000">SGuestManager&lt;/span> &lt;span style="color:#204a87;font-weight:bold">struct&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#000">db&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SVirtualResourceBaseManager&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">GuestManager&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">SGuestManager&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000">init&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#000">GuestManager&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#000">SGuestManager&lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#000">SVirtualResourceBaseManager&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">db&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">NewVirtualResourceBaseManager&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>
&lt;span style="color:#000">SGuest&lt;/span>&lt;span style="color:#000;font-weight:bold">{},&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;guests_tbl&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;server&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;servers&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#000;font-weight:bold">),&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#000">GuestManager&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SetVirtualObject&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">GuestManager&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000">GuestManager&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SetAlias&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;guest&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;guests&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">type&lt;/span> &lt;span style="color:#000">SGuest&lt;/span> &lt;span style="color:#204a87;font-weight:bold">struct&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#000">db&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SVirtualResourceBase&lt;/span>
&lt;span style="color:#000">db&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SExternalizedResourceBase&lt;/span>
&lt;span style="color:#000">SBillingResourceBase&lt;/span>
&lt;span style="color:#000">VcpuCount&lt;/span> &lt;span style="color:#204a87;font-weight:bold">int&lt;/span> &lt;span style="color:#4e9a06">`nullable:&amp;#34;false&amp;#34; default:&amp;#34;1&amp;#34; list:&amp;#34;user&amp;#34; create:&amp;#34;optional&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(TINYINT, nullable=False, default=1)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">VmemSize&lt;/span> &lt;span style="color:#204a87;font-weight:bold">int&lt;/span> &lt;span style="color:#4e9a06">`nullable:&amp;#34;false&amp;#34; list:&amp;#34;user&amp;#34; create:&amp;#34;required&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(Integer, nullable=False)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>
&lt;span style="color:#000">BootOrder&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;8&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;true&amp;#34; default:&amp;#34;cdn&amp;#34; list:&amp;#34;user&amp;#34; update:&amp;#34;user&amp;#34; create:&amp;#34;optional&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(8, charset=&amp;#39;ascii&amp;#39;), nullable=True, default=&amp;#39;cdn&amp;#39;)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>
&lt;span style="color:#000">DisableDelete&lt;/span> &lt;span style="color:#000">tristate&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">TriState&lt;/span> &lt;span style="color:#4e9a06">`nullable:&amp;#34;false&amp;#34; default:&amp;#34;true&amp;#34; list:&amp;#34;user&amp;#34; update:&amp;#34;user&amp;#34; create:&amp;#34;optional&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(Boolean, nullable=False, default=True)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">ShutdownBehavior&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;16&amp;#34; charset:&amp;#34;ascii&amp;#34; default:&amp;#34;stop&amp;#34; list:&amp;#34;user&amp;#34; update:&amp;#34;user&amp;#34; create:&amp;#34;optional&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(16, charset=&amp;#39;ascii&amp;#39;), default=SHUTDOWN_STOP)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>
&lt;span style="color:#000">KeypairId&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;36&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;true&amp;#34; list:&amp;#34;user&amp;#34; create:&amp;#34;optional&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(36, charset=&amp;#39;ascii&amp;#39;), nullable=True)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>
&lt;span style="color:#000">HostId&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;36&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;true&amp;#34; list:&amp;#34;admin&amp;#34; get:&amp;#34;admin&amp;#34; index:&amp;#34;true&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(36, charset=&amp;#39;ascii&amp;#39;), nullable=True)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">BackupHostId&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;36&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;true&amp;#34; list:&amp;#34;user&amp;#34; get:&amp;#34;user&amp;#34;`&lt;/span>
&lt;span style="color:#000">Vga&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;36&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;true&amp;#34; list:&amp;#34;user&amp;#34; update:&amp;#34;user&amp;#34; create:&amp;#34;optional&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(36, charset=&amp;#39;ascii&amp;#39;), nullable=True)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">Vdi&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;36&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;true&amp;#34; list:&amp;#34;user&amp;#34; update:&amp;#34;user&amp;#34; create:&amp;#34;optional&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(36, charset=&amp;#39;ascii&amp;#39;), nullable=True)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">Machine&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;36&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;true&amp;#34; list:&amp;#34;user&amp;#34; update:&amp;#34;user&amp;#34; create:&amp;#34;optional&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(36, charset=&amp;#39;ascii&amp;#39;), nullable=True)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">Bios&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;36&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;true&amp;#34; list:&amp;#34;user&amp;#34; update:&amp;#34;user&amp;#34; create:&amp;#34;optional&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(36, charset=&amp;#39;ascii&amp;#39;), nullable=True)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">OsType&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;36&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;true&amp;#34; list:&amp;#34;user&amp;#34; update:&amp;#34;user&amp;#34; create:&amp;#34;optional&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(36, charset=&amp;#39;ascii&amp;#39;), nullable=True)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>
&lt;span style="color:#000">FlavorId&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;36&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;true&amp;#34; list:&amp;#34;user&amp;#34; create:&amp;#34;optional&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(36, charset=&amp;#39;ascii&amp;#39;), nullable=True)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>
&lt;span style="color:#000">SecgrpId&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;36&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;true&amp;#34; get:&amp;#34;user&amp;#34; create:&amp;#34;optional&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(36, charset=&amp;#39;ascii&amp;#39;), nullable=True)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">AdminSecgrpId&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;36&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;true&amp;#34; get:&amp;#34;admin&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(36, charset=&amp;#39;ascii&amp;#39;), nullable=True)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>
&lt;span style="color:#000">Hypervisor&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;16&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;false&amp;#34; default:&amp;#34;kvm&amp;#34; list:&amp;#34;user&amp;#34; create:&amp;#34;required&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(16, charset=&amp;#39;ascii&amp;#39;), nullable=False, default=HYPERVISOR_DEFAULT)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>
&lt;span style="color:#000">InstanceType&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;64&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;true&amp;#34; list:&amp;#34;user&amp;#34; create:&amp;#34;optional&amp;#34;`&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">......&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="数据库锁">数据库锁&lt;/h2>
&lt;p>代码位于 cloudcommon/db/lockman:&lt;/p>
&lt;ul>
&lt;li>LockClass/ReleaseClass: 锁住一类实例，一般创建资源时候需要锁&lt;/li>
&lt;li>LockObject/ReleaseObject: 锁住一个实例，一般修改资源实例是需要锁&lt;/li>
&lt;li>LockRawObject/RelaseRawObject: 通用的锁&lt;/li>
&lt;/ul>
&lt;h3 id="举例-1">举例&lt;/h3>
&lt;p>&lt;a href="https://github.com/yunionio/onecloud/blob/master/pkg/cloudcommon/db/db_dispatcher.go#L900">pkg/cloudcommon/db/db_dispatcher.go&lt;/a> 里面的 DoCreate 函数会创建对应 Model 的对象并插入数据到数据库，这个时候就需要加锁。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-golang" data-lang="golang">&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000">DoCreate&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">manager&lt;/span> &lt;span style="color:#000">IModelManager&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">ctx&lt;/span> &lt;span style="color:#000">context&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Context&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">userCred&lt;/span> &lt;span style="color:#000">mcclient&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">TokenCredential&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">query&lt;/span> &lt;span style="color:#000">jsonutils&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">JSONObject&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">data&lt;/span> &lt;span style="color:#000">jsonutils&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">JSONObject&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">ownerId&lt;/span> &lt;span style="color:#000">mcclient&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">IIdentityProvider&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">IModel&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">error&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#000">lockman&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">LockClass&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">manager&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">GetLockClassKey&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">manager&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">ownerId&lt;/span>&lt;span style="color:#000;font-weight:bold">))&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">defer&lt;/span> &lt;span style="color:#000">lockman&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ReleaseClass&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">manager&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">GetLockClassKey&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">manager&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">ownerId&lt;/span>&lt;span style="color:#000;font-weight:bold">))&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000">doCreateItem&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">manager&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">userCred&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">ownerId&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">data&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="worker队列管理">worker队列管理&lt;/h2>
&lt;p>为了避免不可预期的并发度，所有异步执行的代码都应该在worker内执行，以便于管理并发度。&lt;/p>
&lt;p>代码位于 appsrv/workers.go&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-golang" data-lang="golang">&lt;span style="color:#000">workerman&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">appsrv&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">NewWorkerManager&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">name&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">parallel_cnt&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#a40000">…&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000">workerman&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Run&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87;font-weight:bold">func&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#a40000">…&lt;/span>&lt;span style="color:#000;font-weight:bold">},&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="task-机制">Task 机制&lt;/h2>
&lt;p>云平台的异步耗时任务会放在 Task 机制里面去执行，比如创建虚拟机操作，用户提交了请求，region 控制器校验参数合格后，会记录数据到数据库，然后马上返回客户端对应的虚拟机记录，与此同时，会开始执行创建虚拟机的 task，这个 task 会立即在后台执行，会通过更新虚拟机 SGuest model 的状态和记录操作日志来表示执行的成功或失败。&lt;/p>
&lt;p>task 也是记录在数据库 tasks_tbl 里面的记录，对应的定义在: &lt;a href="https://github.com/yunionio/onecloud/blob/master/pkg/cloudcommon/db/taskman/tasks.go">pkg/cloudcommon/db/taskman/tasks.go&lt;/a> 里面，数据结构如下:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-golang" data-lang="golang">&lt;span style="color:#204a87;font-weight:bold">type&lt;/span> &lt;span style="color:#000">STaskManager&lt;/span> &lt;span style="color:#204a87;font-weight:bold">struct&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#000">db&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SResourceBaseManager&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">TaskManager&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">STaskManager&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000">init&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#000">TaskManager&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#000">STaskManager&lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#000">SResourceBaseManager&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">db&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">NewResourceBaseManager&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">STask&lt;/span>&lt;span style="color:#000;font-weight:bold">{},&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;tasks_tbl&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;task&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;tasks&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#000">TaskManager&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SetVirtualObject&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">TaskManager&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">type&lt;/span> &lt;span style="color:#000">STask&lt;/span> &lt;span style="color:#204a87;font-weight:bold">struct&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#000">db&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SResourceBase&lt;/span>
&lt;span style="color:#000">Id&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;36&amp;#34; charset:&amp;#34;ascii&amp;#34; primary:&amp;#34;true&amp;#34; list:&amp;#34;user&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">36&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">charset&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#a40000">&amp;#39;&lt;/span>&lt;span style="color:#000">ascii&lt;/span>&lt;span style="color:#a40000">&amp;#39;&lt;/span>&lt;span style="color:#000;font-weight:bold">),&lt;/span> &lt;span style="color:#000">primary_key&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#000">True&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">default&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#000">get_uuid&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000">ObjName&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;128&amp;#34; charset:&amp;#34;utf8&amp;#34; nullable:&amp;#34;false&amp;#34; list
&lt;/span>&lt;span style="color:#4e9a06">:&amp;#34;user&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(128, charset=&amp;#39;utf8&amp;#39;), nullable=False)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">ObjId&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;128&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;false&amp;#34; lis
&lt;/span>&lt;span style="color:#4e9a06">t:&amp;#34;user&amp;#34; index:&amp;#34;true&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(ID_LENGTH, charset=&amp;#39;ascii&amp;#39;), nullable=False)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">TaskName&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;64&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;false&amp;#34; list
&lt;/span>&lt;span style="color:#4e9a06">:&amp;#34;user&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(64, charset=&amp;#39;ascii&amp;#39;), nullable=False)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">UserCred&lt;/span> &lt;span style="color:#000">mcclient&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">TokenCredential&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;1024&amp;#34; charset:&amp;#34;utf8&amp;#34; nullable:&amp;#34;false&amp;#34; get
&lt;/span>&lt;span style="color:#4e9a06">:&amp;#34;user&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(1024, charset=&amp;#39;ascii&amp;#39;), nullable=False)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// OwnerCred string `width:&amp;#34;512&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;true&amp;#34;` // Column(VARCHAR
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">512&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">charset&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#a40000">&amp;#39;&lt;/span>&lt;span style="color:#000">ascii&lt;/span>&lt;span style="color:#a40000">&amp;#39;&lt;/span>&lt;span style="color:#000;font-weight:bold">),&lt;/span> &lt;span style="color:#000">nullable&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#000">True&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000">Params&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">jsonutils&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">JSONDict&lt;/span> &lt;span style="color:#4e9a06">`charset:&amp;#34;utf8&amp;#34; length:&amp;#34;medium&amp;#34; nullable:&amp;#34;false&amp;#34; get:&amp;#34;us
&lt;/span>&lt;span style="color:#4e9a06">er&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(MEDIUMTEXT(charset=&amp;#39;ascii&amp;#39;), nullable=False)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>
&lt;span style="color:#000">Stage&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`width:&amp;#34;64&amp;#34; charset:&amp;#34;ascii&amp;#34; nullable:&amp;#34;false&amp;#34; default:&amp;#34;on_init&amp;#34; list:&amp;#34;u
&lt;/span>&lt;span style="color:#4e9a06">ser&amp;#34;`&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Column(VARCHAR(64, charset=&amp;#39;ascii&amp;#39;), nullable=False, default=&amp;#39;on_init&amp;#39;)
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>
&lt;span style="color:#000">taskObject&lt;/span> &lt;span style="color:#000">db&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">IStandaloneModel&lt;/span> &lt;span style="color:#4e9a06">`ignore:&amp;#34;true&amp;#34;`&lt;/span>
&lt;span style="color:#000">taskObjects&lt;/span> &lt;span style="color:#000;font-weight:bold">[]&lt;/span>&lt;span style="color:#000">db&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">IStandaloneModel&lt;/span> &lt;span style="color:#4e9a06">`ignore:&amp;#34;true&amp;#34;`&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">......&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Id: STask 里面的 Id 是该 task 记录的 Id&lt;/li>
&lt;li>ObjId: 对应资源对象的 Id，用于记录执行该 task 的对应操作的资源，比如某台虚拟机、磁盘的 Id&lt;/li>
&lt;li>UserCred: 存储执行 task 的用户信息&lt;/li>
&lt;li>Params: 执行 task 的参数&lt;/li>
&lt;li>TaskName: 对应 task 的名称&lt;/li>
&lt;li>Stage: task 执行的阶段，默认为 OnInit&lt;/li>
&lt;/ul>
&lt;h3 id="举例-2">举例&lt;/h3>
&lt;p>以虚拟机关机这个操作来举例:&lt;/p>
&lt;ul>
&lt;li>客户端发起 POST /servers/&amp;lt;server_id&amp;gt;/stop 请求后，通过服务框架会执行 &lt;code>func (self *SGuest) PerformStop&lt;/code> 函数，代码片段如下(位于: &lt;a href="https://github.com/yunionio/onecloud/blob/2003c44264f1a244f32fd0584e7ce0d23df78705/pkg/compute/models/guest_actions.go#L2357">pkg/compute/models/guest_actions.go&lt;/a>):&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-golang" data-lang="golang">&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">self&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">SGuest&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000">PerformStop&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span> &lt;span style="color:#000">context&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Context&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">userCred&lt;/span> &lt;span style="color:#000">mcclient&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">TokenCredential&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">query&lt;/span> &lt;span style="color:#000">jsonutils&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">JSONObject&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#000">data&lt;/span> &lt;span style="color:#000">jsonutils&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">JSONObject&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">jsonutils&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">JSONObject&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">error&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">// XXX if is force, force stop guest
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">isForce&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000">jsonutils&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">QueryBoolean&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">data&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;is_force&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">false&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">isForce&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">||&lt;/span> &lt;span style="color:#000">utils&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">IsInStringArray&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Status&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000;font-weight:bold">[]&lt;/span>&lt;span style="color:#204a87;font-weight:bold">string&lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#000">api&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">VM_RUNNING&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">api&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">VM_STOP_FAILED&lt;/span>&lt;span style="color:#000;font-weight:bold">})&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">StartGuestStopTask&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">userCred&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">isForce&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span> &lt;span style="color:#204a87;font-weight:bold">else&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">httperrors&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">NewInvalidStatusError&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Cannot stop server in status %s&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Status&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>SGuest 会执行 self.StartGuestStopTask 函数，该函数会去调用虚拟机不同的 Driver 执行关机操作&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-golang" data-lang="golang">&lt;span style="color:#8f5902;font-style:italic">// pkg/compute/models/guest_actions.go
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">self&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">SGuest&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000">StartGuestStopTask&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span> &lt;span style="color:#000">context&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Context&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">userCred&lt;/span> &lt;span style="color:#000">mcclient&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">TokenCredential&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">isForce&lt;/span> &lt;span style="color:#204a87;font-weight:bold">bool&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">parentTaskId&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#204a87;font-weight:bold">error&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">......&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">GetDriver&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">StartGuestStopTask&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">userCred&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">params&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">parentTaskId&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">// pkg/compute/guestdrivers/virtualization.go
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">import&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;yunion.io/x/onecloud/pkg/cloudcommon/db/taskman&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">......&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">self&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">SVirtualizedGuestDriver&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000">StartGuestStopTask&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">guest&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">models&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SGuest&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">ctx&lt;/span> &lt;span style="color:#000">context&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Context&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">userCred&lt;/span> &lt;span style="color:#000">mcclient&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">TokenCredential&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">params&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">jsonutils&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">JSONDict&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">parentTaskId&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#204a87;font-weight:bold">error&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#000">task&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">taskman&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">TaskManager&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">NewTask&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;GuestStopTask&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">guest&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">userCred&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">params&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">parentTaskId&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000">err&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#000">task&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ScheduleRun&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">......&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>
&lt;p>&lt;strong>taskman.TaskManager.NewTask(ctx, &amp;ldquo;GuestStopTask&amp;rdquo;, &amp;hellip;)&lt;/strong> 这里面的 GuestStopTask 对应 &lt;a href="https://github.com/yunionio/onecloud/blob/master/pkg/compute/tasks/guest_stop_task.go">pkg/compute/tasks/guest_stop_task.go&lt;/a> 里面的 GuestStopTask，是通过 taskman 里面维护的一个 map 查找的。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>task.ScheduleRun(nil)&lt;/strong> 会开始执行对应的 Task，默认会从 task 的默认 Stage OnInit 函数开始执行，所以通过 task 机制就会执行到 GuestStopTask.OnInit 函数。OnInit 函数最终会调用对应虚拟机的 driver 执行 RequestStopOnHost 函数并更新设置自己的 Stage 为 OnMasterStopTaskComplete。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>对于虚拟机来说 RequestStopOnHost 函数会请求虚拟机所在的 host agent 关闭虚拟机，关机成功后会回调 region task 框架，该框架会根据 taskId 从数据库 load 回来 GuestStopTask，接着它设置的 Stage OnMasterStopTaskComplete 执行。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">提示&lt;/h4>
&lt;blockquote>
&lt;p>这里失败会自动调用 OnGuestStopTaskCompleteFailed 函数，所以编写对应 task stage 函数时如果写 &amp;lt;OnSometingComplete&amp;gt; 函数时，必须也同时写 &amp;lt;OnSometingCompleteFailed&amp;gt; 函数来处理失败情况。&lt;/p>
&lt;/blockquote>
&lt;/div>
&lt;ul>
&lt;li>如果成功关机，OnMasterStopTaskComplete 调用 OnGuestStopTaskComplete 函数，该函数会把虚拟机的状态设置为 ready，并记录一条关机操作日志；如果失败会调用 OnGuestStopTaskCompleteFailed 函数，该函数会虚拟机状态设置为关机失败，并记录失败的原因。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-golang" data-lang="golang">&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">self&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">GuestStopTask&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000">OnInit&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span> &lt;span style="color:#000">context&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Context&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">obj&lt;/span> &lt;span style="color:#000">db&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">IStandaloneModel&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">data&lt;/span> &lt;span style="color:#000">jsonutils&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">JSONObject&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#000">guest&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">obj&lt;/span>&lt;span style="color:#000;font-weight:bold">.(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">models&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SGuest&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000">db&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">OpsLog&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">LogEvent&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">guest&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">db&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ACT_STOPPING&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">UserCred&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">stopGuest&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">guest&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">self&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">GuestStopTask&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000">stopGuest&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span> &lt;span style="color:#000">context&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Context&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">guest&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">models&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SGuest&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#000">host&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">guest&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">GetHost&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">host&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">==&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">OnGuestStopTaskCompleteFailed&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">guest&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">jsonutils&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">NewString&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;no associated host&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">))&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">return&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000;font-weight:bold">!&lt;/span>&lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">IsSubtask&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#000">guest&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SetStatus&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">UserCred&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">api&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">VM_STOPPING&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SetStage&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;OnMasterStopTaskComplete&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">guest&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">GetDriver&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">RequestStopOnHost&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">guest&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">host&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">......&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">self&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">GuestStopTask&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000">OnMasterStopTaskComplete&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span> &lt;span style="color:#000">context&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Context&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">guest&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">models&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SGuest&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">data&lt;/span> &lt;span style="color:#000">jsonutils&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">JSONObject&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">......&lt;/span>
&lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">OnGuestStopTaskComplete&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">guest&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">data&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">self&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">GuestStopTask&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000">OnMasterStopTaskCompleteFailed&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span> &lt;span style="color:#000">context&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Context&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">obj&lt;/span> &lt;span style="color:#000">db&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">IStandaloneModel&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">reason&lt;/span> &lt;span style="color:#000">jsonutils&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">JSONObject&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#000">guest&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">obj&lt;/span>&lt;span style="color:#000;font-weight:bold">.(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">models&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SGuest&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">OnGuestStopTaskCompleteFailed&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">guest&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">reason&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">self&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">GuestStopTask&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000">OnGuestStopTaskComplete&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span> &lt;span style="color:#000">context&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Context&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">guest&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">models&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SGuest&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">data&lt;/span> &lt;span style="color:#000">jsonutils&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">JSONObject&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">......&lt;/span>
&lt;span style="color:#000">guest&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SetStatus&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">UserCred&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">api&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">VM_READY&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">......&lt;/span>
&lt;span style="color:#000">logclient&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">AddActionLogWithStartable&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">guest&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">logclient&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ACT_VM_STOP&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Us&lt;/span>
&lt;span style="color:#000">erCred&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">self&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">GuestStopTask&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000">OnGuestStopTaskCompleteFailed&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span> &lt;span style="color:#000">context&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Context&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">guest&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">models&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SGuest&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">reason&lt;/span> &lt;span style="color:#000">jsonutils&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">JSONObject&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">......&lt;/span>
&lt;span style="color:#000">db&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">OpsLog&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">LogEvent&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">guest&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">db&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ACT_STOP_FAIL&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">reason&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">String&lt;/span>&lt;span style="color:#000;font-weight:bold">(),&lt;/span> &lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">UserCred&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SetStageFailed&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">reason&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">String&lt;/span>&lt;span style="color:#000;font-weight:bold">())&lt;/span>
&lt;span style="color:#000">logclient&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">AddActionLogWithStartable&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">guest&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">logclient&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ACT_VM_STOP&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">reason&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">String&lt;/span>&lt;span style="color:#000;font-weight:bold">(),&lt;/span> &lt;span style="color:#000">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">UserCred&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">false&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="如何增加一个新的服务">如何增加一个新的服务&lt;/h2>
&lt;ul>
&lt;li>在keystone注册一个服务启用用的账户&lt;/li>
&lt;li>在keystone注册service和endpoint&lt;/li>
&lt;li>参考 onecloud/pkg/logger实现服务代码&lt;/li>
&lt;li>为服务准备一个配置文件，包含以下基础信息&lt;/li>
&lt;/ul>
&lt;p>假设服务名为 svc，用户和密码为 svcuser, svcuserpassword，服务监听地址为: http://localhost:8866, region 为 LocalTest，对应操作如下:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 创建 service&lt;/span>
$ climc service-create --enabled svc svc
&lt;span style="color:#8f5902;font-style:italic"># 创建 endpoint，对应的 service 为 svc&lt;/span>
$ climc endpoint-create svc LocalTest internal http://localhost:8866
&lt;span style="color:#8f5902;font-style:italic"># 创建 user&lt;/span>
$ climc user-create --password svcuserpassword --enabled svcuser
&lt;span style="color:#8f5902;font-style:italic"># 把 user 加入 system 项目&lt;/span>
$ climc project-add-user system svcuser admin
&lt;/code>&lt;/pre>&lt;/div>&lt;p>配置信息如下&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="color:#204a87;font-weight:bold">region&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">LocalTest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">port&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">8866&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">auth_url&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">https://&amp;lt;keystone_url&amp;gt;:35357/v3&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">admin_user&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">svcuser&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">admin_password&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">svcuserpassword&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">admin_tenant_name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">system&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: 添加 K8S 节点</title><link>https://www.cloudpods.org/v3.4/docs/setup/components/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/setup/components/</guid><description>
&lt;p>部署完集群后，整个 kubernetes 集群只有一个节点，云联壹云 相关服务都运行在了该节点上，为了服务的高可用，我们可以继续添加节点到 kubernetes 集群。&lt;/p>
&lt;h3 id="环境准备">环境准备&lt;/h3>
&lt;p>参考 &lt;a href="https://www.cloudpods.org/v3.4/docs/setup/controlplane/#%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE-docker">&amp;ldquo;部署集群/环境准备&amp;rdquo;&lt;/a> 的流程，安装好 docker 和 kubelet。&lt;/p>
&lt;h3 id="获取加入集群-token">获取加入集群 token&lt;/h3>
&lt;p>然后在控制节点使用 ocadm 拿到加入集群的 token，在待部署节点使用 ocadm 加入集群，操作如下:&lt;/p>
&lt;p>在&lt;strong>控制节点&lt;/strong>获取加入节点的 token&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ ocadm token list &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep bootstrap
4s4meb.xvgk2bwpmbospn3s 23h 2019-07-10T15:41:10+08:00 authentication,signing The default bootstrap token generated by &lt;span style="color:#4e9a06">&amp;#39;ocadm init&amp;#39;&lt;/span>. system:bootstrappers:kubeadm:default-node-token
&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">提示&lt;/h4>
&lt;blockquote>
&lt;p>如果 token 过期了，可以在管理节点使用 &lt;code>ocadm token create&lt;/code> 创建新的 token 。&lt;/p>
&lt;/blockquote>
&lt;/div>
&lt;h3 id="加入节点">加入节点&lt;/h3>
&lt;p>加入已有 kubernetes 集群的节点有两种角色，&amp;lsquo;controlplane&amp;rsquo; 和 &amp;lsquo;node&amp;rsquo;。&lt;/p>
&lt;p>controlplane 角色的节点会运行 kube-apiserver、kube-controller-manager、kube-scheduler 和 etcd，加入 controlplane 节点的好处是让 kubernetes 控制相关服务和 etcd 变为高可用。&lt;/p>
&lt;p>node 角色的节点只会运行 kubelet，运行负载容器。&lt;/p>
&lt;h4 id="加入-controlplane">加入 controlplane&lt;/h4>
&lt;p>加入控制节点需要从已有的 kubernetes 集群下载证书，证书使用 certificate key 加密，通过以下方法获取 certificate-key&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ ocadm init phase upload-certs
&lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>upload-certs&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Storing the certificates in Secret &lt;span style="color:#4e9a06">&amp;#34;kubeadm-certs&amp;#34;&lt;/span> in the &lt;span style="color:#4e9a06">&amp;#34;kube-system&amp;#34;&lt;/span> Namespace
&lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>upload-certs&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Using certificate key:
afa5e18bacb3f50b424cbf815fce6d1bd916fe91b58ba467053dc6b460198c55
&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 这里的 10.168.222.18 是控制节点的 ip，如果是高可用部署则为负载均衡器的 vip，请根据你的环境修改&lt;/span>
$ ocadm join --control-plane 10.168.222.18:6443 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --token 4s4meb.xvgk2bwpmbospn3s &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --certificate-key afa5e18bacb3f50b424cbf815fce6d1bd916fe91b58ba467053dc6b460198c55 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --discovery-token-unsafe-skip-ca-verification
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="加入-node">加入 node&lt;/h4>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 这里的 10.168.222.18 是控制节点的 ip，如果是高可用部署则为负载均衡器的 vip, 请根据你的环境修改&lt;/span>
$ ocadm join 10.168.222.18:6443 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --token 4s4meb.xvgk2bwpmbospn3s &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --discovery-token-unsafe-skip-ca-verification
...
This node has joined the cluster:
* Certificate signing request was sent to apiserver and a response was received.
* The Kubelet was informed of the new secure connection details.
Run &lt;span style="color:#4e9a06">&amp;#39;kubectl get nodes&amp;#39;&lt;/span> on the control-plane to see this node join the cluster.
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: 操作相关</title><link>https://www.cloudpods.org/v3.4/docs/howto/baremetal/operator/</link><pubDate>Fri, 19 Jul 2019 20:25:05 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/howto/baremetal/operator/</guid><description>
&lt;h3 id="查询物理机">查询物理机&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># list baremetal 记录&lt;/span>
climc host-list --baremetal &lt;span style="color:#204a87">true&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># list 已经安装系统的物理机&lt;/span>
climc host-list --baremetal &lt;span style="color:#204a87">true&lt;/span> --occupied
&lt;span style="color:#8f5902;font-style:italic"># list 未安装系统的物理机&lt;/span>
climc host-list --baremetal &lt;span style="color:#204a87">true&lt;/span> --empty
&lt;span style="color:#8f5902;font-style:italic"># 查询物理机详情，包括硬件信息，机房信息&lt;/span>
climc host-show &amp;lt;host_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="注册物理机">注册物理机&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">climc host-create &amp;lt;host_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="重新准备物理机">重新准备物理机&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">climc host-prepare &amp;lt;host_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="获取物理机登录信息">获取物理机登录信息&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">climc host-logininfo &amp;lt;host_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="获取串口登录控制台">获取串口登录控制台&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">climc webconsole-baremetal &amp;lt;host_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="开关机">开/关机&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">climc host-start/host-stop &amp;lt;host_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="进入退出维护模式">进入/退出维护模式&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">climc host-maintenance/host-unmaintenance &amp;lt;host_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="删除物理机">删除物理机&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">climc host-delete &amp;lt;host_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="转换回收宿主机">转换/回收宿主机&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">climc host-convert-hypervisor
climc host-undo-convert &amp;lt;host_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="裸金属服务器相关">裸金属服务器相关&lt;/h2>
&lt;h3 id="安装操作系统">安装操作系统&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">climc server-create &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --hypervisor baremetal &lt;span style="color:#4e9a06">\ &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># 指定 server 的类型为 baremetal&lt;/span>
--ncpu &lt;span style="color:#0000cf;font-weight:bold">24&lt;/span> &lt;span style="color:#4e9a06">\ &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># 创建到 24 核 cpu 的物理机&lt;/span>
--raid-config &lt;span style="color:#4e9a06">&amp;#39;raid1:2:MegaRaid&amp;#39;&lt;/span> &lt;span style="color:#4e9a06">\ &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># 第1块盘，使用 MegaRaid 控制器上的(0-1)号两块物理盘做 raid1&lt;/span>
--raid-config &lt;span style="color:#4e9a06">&amp;#39;none:1&amp;#39;&lt;/span> &lt;span style="color:#4e9a06">\ &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># 第2块盘，使用 MegaRaid 控制器上的(2)号物理盘，不做 raid&lt;/span>
--raid-config &lt;span style="color:#4e9a06">&amp;#39;raid10:4:MegaRaid&amp;#39;&lt;/span> &lt;span style="color:#4e9a06">\ &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># 第3快盘, 使用 MegaRaid 控制器上的(3-6)号四块物理盘做raid10&lt;/span>
--disk CentOS-7.5.qcow2:100g &lt;span style="color:#4e9a06">\ &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># 系统盘使用 CentOS-7.5.qcow2 镜像作为操作系统，大小为 100g，使用第1块 raid1 的盘&lt;/span>
--disk &lt;span style="color:#4e9a06">&amp;#39;autoextend:ext4:/opt&amp;#39;&lt;/span> &lt;span style="color:#4e9a06">\ &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># 分区挂载到 /opt, 使用第1块 raid1 的盘，文件系统为 ext4, 大小为(第一块盘总大小 - 该盘其他分区的大小(100g))&lt;/span>
--disk &lt;span style="color:#4e9a06">&amp;#39;autoextend:xfs:/data-nonraid&amp;#39;&lt;/span> &lt;span style="color:#4e9a06">\ &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># 分区挂载到 /data-nonraid, 使用第2块没做 raid 的盘, 文件系统为 xfs，使用所有空间&lt;/span>
--disk &lt;span style="color:#4e9a06">&amp;#39;autoextend:ext4:/data-raid10&amp;#39;&lt;/span> &lt;span style="color:#4e9a06">\ &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># 分区挂载到 /data-raid10, 使用第3块 raid10 的盘，文件系统为 ext4, 使用所有空间&lt;/span>
&amp;lt;server_name&amp;gt; &lt;span style="color:#4e9a06">\ &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># 裸金属服务器名称&lt;/span>
64g &lt;span style="color:#8f5902;font-style:italic"># 创建到 64g 内存大小的物理机&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="raid-配置和分区">raid 配置和分区&lt;/h4>
&lt;p>调用 server-create 接口时通过 &amp;lsquo;&amp;ndash;raid-config&amp;rsquo; 传递参数来配置 raid，每个 raid-config 对应到操作系统可见的磁盘设备(/dev/sdx)。&lt;/p>
&lt;p>&amp;lsquo;&amp;ndash;disk&amp;rsquo; 参数对应不同磁盘上的分区，分区对应到磁盘的逻辑为: 分区按照顺序创建到第1块磁盘上，当 disk 设置 autoextend 参数后，表示接下来的 disk 分区会创建到下一个磁盘，以此类推。&lt;/p>
&lt;ul>
&lt;li>raid 配置 API 参数:&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Key&lt;/th>
&lt;th>Type&lt;/th>
&lt;th>value&lt;/th>
&lt;th>解释&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>type(磁盘类型)&lt;/td>
&lt;td>string&lt;/td>
&lt;td>rotate(机械盘), ssd(固态盘), hybrid(未知)&lt;/td>
&lt;td>-&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>conf (raid)&lt;/td>
&lt;td>string&lt;/td>
&lt;td>none, raid0, raid1, raid5, raid10&lt;/td>
&lt;td>做raid几或者不做&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>count (磁盘数量)&lt;/td>
&lt;td>int&lt;/td>
&lt;td>e.g. 0, 2, 4&lt;/td>
&lt;td>小于等于物理机实际的盘数&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>range (磁盘范围)&lt;/td>
&lt;td>[]int&lt;/td>
&lt;td>e.g. [0,1,2,3], [4,7], [5,6]&lt;/td>
&lt;td>物理磁盘在控制器上的索引号&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>splits (切割物理盘)&lt;/td>
&lt;td>string&lt;/td>
&lt;td>(30%,20%,), (300g,100g,)&lt;/td>
&lt;td>做好 raid 的物理盘再切割为多块物理盘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>adapter (控制器号)&lt;/td>
&lt;td>int&lt;/td>
&lt;td>0, 1&lt;/td>
&lt;td>对应driver的 Adapter 控制器&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>driver (控制器名称)&lt;/td>
&lt;td>string&lt;/td>
&lt;td>MegaRaid,HPSARaid,Mpt2SAS,MarvelRaid,Linux,PCIE&lt;/td>
&lt;td>1台物理机上有多个控制器时用于选择盘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>strip (设置raid strip 大小)&lt;/td>
&lt;td>*int&lt;/td>
&lt;td>e.g. 64*1024&lt;/td>
&lt;td>设置strip size, 可选&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ra&lt;/td>
&lt;td>*bool&lt;/td>
&lt;td>&lt;/td>
&lt;td>设置读模式&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>wt&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>设置写模式&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cachedbadbbu&lt;/td>
&lt;td>*bool&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>direct&lt;/td>
&lt;td>*bool&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>
&lt;p>命令行格式:&lt;/p>
&lt;p>&amp;lsquo;(none,raid0,raid1,raid5,raid10):%d:(MegaRaid|HPSARaid|Mpt2SAS|MarvelRaid|Linux|PCIE):(rotate|ssd|hybrid):[0-n]:strip%dk:adapter%d:ra:nora:wt:wb:direct:cachedbadbbu:nocachedbadbbu&amp;rsquo;&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="查询裸金属服务器">查询裸金属服务器&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">climc server-list --hypervisor baremetal
climc server-show &amp;lt;server_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="重装操作系统">重装操作系统&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">climc server-rebuild --image &amp;lt;image_id&amp;gt; &amp;lt;server_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="开关机-1">开/关机&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">climc server-start &amp;lt;server_id&amp;gt;
climc server-stop &amp;lt;server_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="删除裸金属服务器">删除裸金属服务器&lt;/h3>
&lt;p>删除 server 裸金属服务器会销毁物理机上的操作系统和 raid 配置，对应的 baremetal 重新进入未分配状态&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">climc server-delete &amp;lt;server_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: 查询镜像</title><link>https://www.cloudpods.org/v3.4/docs/howto/image/query/</link><pubDate>Fri, 19 Jul 2019 11:34:38 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/howto/image/query/</guid><description>
&lt;h2 id="列表">列表&lt;/h2>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 查询所有镜像列表&lt;/span>
$ climc image-list
&lt;span style="color:#8f5902;font-style:italic"># 查询所有缓存的镜像列表&lt;/span>
$ climc cached-image-list
&lt;span style="color:#8f5902;font-style:italic"># 查询包含 ubuntu 关键字的镜像&lt;/span>
$ climc image-list --search ubuntu
&lt;span style="color:#8f5902;font-style:italic"># 查询公有云包含 centos 关键字的缓存&lt;/span>
$ climc cached-image-list --search centos --public-cloud
&lt;span style="color:#8f5902;font-style:italic"># image-list 支持的查询条件&lt;/span>
$ climc &lt;span style="color:#204a87">help&lt;/span> image-list
&lt;span style="color:#8f5902;font-style:italic"># cached-image-list 支持的查询条件&lt;/span>
$ climc &lt;span style="color:#204a87">help&lt;/span> cached-image-list
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="详情">详情&lt;/h2>
&lt;p>根据 image-list 可以获取镜像的列表，第1、2列包含镜像的 id 和 name，通过 id 或 name 可以获取镜像的详情。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 查询名称包含 CentOS 的镜像&lt;/span>
$ climc image-list --search centos
+--------------------------------------+-----------------------------------------+-------------+-----------+-----------+-----------+-------------+----------+---------+--------+----------------------------------+----------------------------------+--------+----------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> ID &lt;span style="color:#000;font-weight:bold">|&lt;/span> Name &lt;span style="color:#000;font-weight:bold">|&lt;/span> Disk_format &lt;span style="color:#000;font-weight:bold">|&lt;/span> Size &lt;span style="color:#000;font-weight:bold">|&lt;/span> Is_public &lt;span style="color:#000;font-weight:bold">|&lt;/span> Protected &lt;span style="color:#000;font-weight:bold">|&lt;/span> Is_Standard &lt;span style="color:#000;font-weight:bold">|&lt;/span> Min_disk &lt;span style="color:#000;font-weight:bold">|&lt;/span> Min_ram &lt;span style="color:#000;font-weight:bold">|&lt;/span> Status &lt;span style="color:#000;font-weight:bold">|&lt;/span> Checksum &lt;span style="color:#000;font-weight:bold">|&lt;/span> Tenant_Id &lt;span style="color:#000;font-weight:bold">|&lt;/span> Tenant &lt;span style="color:#000;font-weight:bold">|&lt;/span> is_guest_image &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+-----------------------------------------+-------------+-----------+-----------+-----------+-------------+----------+---------+--------+----------------------------------+----------------------------------+--------+----------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> abf0fd6e-ec40-44ef-8fa2-cfb7187ea656 &lt;span style="color:#000;font-weight:bold">|&lt;/span> CentOS-7-x86_64-GenericCloud-1711.qcow2 &lt;span style="color:#000;font-weight:bold">|&lt;/span> qcow2 &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">876740608&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">false&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">true&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">true&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">8192&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> active &lt;span style="color:#000;font-weight:bold">|&lt;/span> 317ecf7d1128e0e53cb285b8704dc3d3 &lt;span style="color:#000;font-weight:bold">|&lt;/span> d53ea650bfe144da8ee8f3fba417b904 &lt;span style="color:#000;font-weight:bold">|&lt;/span> system &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">false&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+-----------------------------------------+-------------+-----------+-----------+-----------+-------------+----------+---------+--------+----------------------------------+----------------------------------+--------+----------------+
*** Total: &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> Pages: &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> Limit: &lt;span style="color:#0000cf;font-weight:bold">20&lt;/span> Offset: &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> Page: &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> ***
&lt;span style="color:#8f5902;font-style:italic"># 查看 CentOS-7-x86_64-GenericCloud-1711.qcow2 的详情&lt;/span>
$ climc image-show CentOS-7-x86_64-GenericCloud-1711.qcow2
+--------------------+-------------------------------------------------------------------------------------------------------------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> Field &lt;span style="color:#000;font-weight:bold">|&lt;/span> Value &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------+-------------------------------------------------------------------------------------------------------------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> can_delete &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">false&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> can_update &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">true&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> checksum &lt;span style="color:#000;font-weight:bold">|&lt;/span> 317ecf7d1128e0e53cb285b8704dc3d3 &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> created_at &lt;span style="color:#000;font-weight:bold">|&lt;/span> 2020-06-16T09:17:57.000000Z &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> delete_fail_reason &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;error&amp;#34;&lt;/span>:&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;class&amp;#34;&lt;/span>:&lt;span style="color:#4e9a06">&amp;#34;ForbiddenError&amp;#34;&lt;/span>,&lt;span style="color:#4e9a06">&amp;#34;code&amp;#34;&lt;/span>:403,&lt;span style="color:#4e9a06">&amp;#34;data&amp;#34;&lt;/span>:&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;id&amp;#34;&lt;/span>:&lt;span style="color:#4e9a06">&amp;#34;image is protected&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>,&lt;span style="color:#4e9a06">&amp;#34;details&amp;#34;&lt;/span>:&lt;span style="color:#4e9a06">&amp;#34;image is protected&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">}}&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> disk_format &lt;span style="color:#000;font-weight:bold">|&lt;/span> qcow2 &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> domain_id &lt;span style="color:#000;font-weight:bold">|&lt;/span> default &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> fast_hash &lt;span style="color:#000;font-weight:bold">|&lt;/span> 4c53ba2c464213ddc2a77c9b4c5ad3b7 &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> id &lt;span style="color:#000;font-weight:bold">|&lt;/span> abf0fd6e-ec40-44ef-8fa2-cfb7187ea656 &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> is_data &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">false&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> is_emulated &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">false&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> is_guest_image &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">false&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> is_public &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">false&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> is_standard &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">true&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> is_system &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">false&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> min_disk &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">8192&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> min_ram &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> name &lt;span style="color:#000;font-weight:bold">|&lt;/span> CentOS-7-x86_64-GenericCloud-1711.qcow2 &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> oss_checksum &lt;span style="color:#000;font-weight:bold">|&lt;/span> 317ecf7d1128e0e53cb285b8704dc3d3 &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> owner &lt;span style="color:#000;font-weight:bold">|&lt;/span> d53ea650bfe144da8ee8f3fba417b904 &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> pending_deleted &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">false&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> project_domain &lt;span style="color:#000;font-weight:bold">|&lt;/span> Default &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> project_src &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">local&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> properties &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;os_arch&amp;#34;&lt;/span>:&lt;span style="color:#4e9a06">&amp;#34;x86_64&amp;#34;&lt;/span>,&lt;span style="color:#4e9a06">&amp;#34;os_type&amp;#34;&lt;/span>:&lt;span style="color:#4e9a06">&amp;#34;Linux&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> protected &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">true&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> public_scope &lt;span style="color:#000;font-weight:bold">|&lt;/span> system &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> size &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">876740608&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> status &lt;span style="color:#000;font-weight:bold">|&lt;/span> active &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> tenant &lt;span style="color:#000;font-weight:bold">|&lt;/span> system &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> tenant_id &lt;span style="color:#000;font-weight:bold">|&lt;/span> d53ea650bfe144da8ee8f3fba417b904 &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> update_version &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">8&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> updated_at &lt;span style="color:#000;font-weight:bold">|&lt;/span> 2020-06-16T09:19:24.000000Z &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------+-------------------------------------------------------------------------------------------------------------------+
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: 制作镜像</title><link>https://www.cloudpods.org/v3.4/docs/howto/image/create/</link><pubDate>Fri, 19 Jul 2019 11:12:40 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/howto/image/create/</guid><description>
&lt;p>你可能需要自己定制发行版的镜像，用于给不同的业务使用。本文介绍如何制作镜像。&lt;/p>
&lt;p>可以通过下载发行版操作系统的 iso , 然后本地启动虚拟机，将 iso 安装到虚拟机的磁盘，然后保存该磁盘，这个磁盘就可以作为镜像上传到 glance，但是这种方法人工参与的步骤太多，容易出错。&lt;/p>
&lt;p>推荐使用 &lt;a href="https://www.packer.io/intro/getting-started/install.html">packer&lt;/a> 这个工具来自动化制作镜像，详细操作可以参考对应的文档 &lt;a href="https://www.packer.io/docs/index.html">https://www.packer.io/docs/index.html&lt;/a> 。&lt;/p>
&lt;p>&lt;a href="https://github.com/yunionio/service-images">https://github.com/yunionio/service-images&lt;/a> 仓库包含了一些我们使用 packer 制作镜像的配置，可以参考使用。&lt;/p></description></item><item><title>Docs: 添加计算节点</title><link>https://www.cloudpods.org/v3.4/docs/setup/host/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/setup/host/</guid><description>
&lt;p>如果需要构建内部私有云，就需要部署计算节点(宿主机)。计算节点主要负责虚拟机、网络和存储的管理，需要安装的组件如下:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">组件&lt;/th>
&lt;th style="text-align:center">用途&lt;/th>
&lt;th style="text-align:center">安装方式&lt;/th>
&lt;th style="text-align:center">运行方式&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">host&lt;/td>
&lt;td style="text-align:center">管理 kvm 虚拟机和存储&lt;/td>
&lt;td style="text-align:center">-&lt;/td>
&lt;td style="text-align:center">docker&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">host-deployer&lt;/td>
&lt;td style="text-align:center">虚拟机部署服务&lt;/td>
&lt;td style="text-align:center">-&lt;/td>
&lt;td style="text-align:center">docker&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">sdnagent&lt;/td>
&lt;td style="text-align:center">管理虚拟机网络和安全组&lt;/td>
&lt;td style="text-align:center">-&lt;/td>
&lt;td style="text-align:center">docker&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">openvswitch&lt;/td>
&lt;td style="text-align:center">虚拟机网络端口和流表配置&lt;/td>
&lt;td style="text-align:center">rpm&lt;/td>
&lt;td style="text-align:center">systemd&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">qemu&lt;/td>
&lt;td style="text-align:center">运行虚拟机&lt;/td>
&lt;td style="text-align:center">rpm&lt;/td>
&lt;td style="text-align:center">process&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">kernel&lt;/td>
&lt;td style="text-align:center">云联壹云 提供的内核&lt;/td>
&lt;td style="text-align:center">rpm&lt;/td>
&lt;td style="text-align:center">-&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="环境">环境&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>操作系统: CentOS 7.x&lt;/p>
&lt;/li>
&lt;li>
&lt;p>硬件要求:&lt;/p>
&lt;ul>
&lt;li>Virtualization: CPU 要支持虚拟化，用于虚拟机 KVM 加速&lt;/li>
&lt;li>打开 iommu，VT-d: 用于 GPU 透传(不用GPU可以不开)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>网络:&lt;/p>
&lt;ul>
&lt;li>当前可用的网段: 虚拟机可以直接使用和计算节点所在的扁平网段，需要预先划分保留对应端给云平台虚拟机使用，防止被其它设备占用，最后 IP 冲突&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>备注:&lt;/p>
&lt;ul>
&lt;li>如果是以测试为目的，可以拿一台虚拟机部署计算节点的服务，但可能无法使用 KVM 加速和 GPU 透传&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="安装依赖">安装依赖&lt;/h2>
&lt;p>计算节点所需的依赖以 rpm 的方式安装&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 添加 yum 源&lt;/span>
$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt;/etc/yum.repos.d/yunion.repo
&lt;/span>&lt;span style="color:#4e9a06">[yunion]
&lt;/span>&lt;span style="color:#4e9a06">name=Packages for Yunion Multi-Cloud Platform
&lt;/span>&lt;span style="color:#4e9a06">baseurl=https://iso.yunion.cn/yumrepo-3.4
&lt;/span>&lt;span style="color:#4e9a06">sslverify=0
&lt;/span>&lt;span style="color:#4e9a06">failovermethod=priority
&lt;/span>&lt;span style="color:#4e9a06">enabled=1
&lt;/span>&lt;span style="color:#4e9a06">gpgcheck=0
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 禁用防火墙和selinux&lt;/span>
$ systemctl disable firewalld
$ sed -i &lt;span style="color:#4e9a06">&amp;#39;s/SELINUX=enforcing/SELINUX=disabled/g&amp;#39;&lt;/span> /etc/selinux/config
&lt;/code>&lt;/pre>&lt;/div>&lt;p>安装 rpm 包&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ yum --disablerepo&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;*&amp;#39;&lt;/span> --enablerepo&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;yunion*&amp;#39;&lt;/span> install -y &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> epel-release libaio jq libusb lvm2 nc ntp yunion-fetcherfs fuse fuse-devel fuse-libs &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> oniguruma pciutils spice spice-protocol sysstat tcpdump usbredir &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> yunion-qemu-2.12.1 yunion-executor-server &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> kernel-3.10.0-1062.4.3.el7.yn20191203 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> kernel-devel-3.10.0-1062.4.3.el7.yn20191203 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> kernel-headers-3.10.0-1062.4.3.el7.yn20191203 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> kmod-openvswitch &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> openvswitch net-tools
$ systemctl &lt;span style="color:#204a87">enable&lt;/span> --now yunion-executor
&lt;span style="color:#8f5902;font-style:italic"># 安装完成后需要重启进入我们的内核&lt;/span>
$ reboot
&lt;span style="color:#8f5902;font-style:italic"># 重启完成后，查看当前节点内核信息，确保为 yn 内核&lt;/span>
$ uname -r
3.10.0-1062.4.3.el7.yn20191203.x86_64
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="安装-docker-和-kubelet">安装 docker 和 kubelet&lt;/h3>
&lt;p>参考 &lt;a href="https://www.cloudpods.org/v3.4/docs/setup/controlplane/#%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE-docker">&amp;ldquo;部署集群/环境准备&amp;rdquo;&lt;/a> 的流程，安装好 docker 和 kubelet。&lt;/p>
&lt;h4 id="安装配置-docker">安装配置 docker&lt;/h4>
&lt;p>安装 docker&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ yum install -y yum-utils bash-completion
&lt;span style="color:#8f5902;font-style:italic"># 添加 yunion 云联壹云 rpm 源&lt;/span>
$ yum-config-manager --add-repo https://iso.yunion.cn/yumrepo-3.4/yunion.repo
$ yum install -y docker-ce-19.03.9 docker-ce-cli-19.03.9 containerd.io
&lt;/code>&lt;/pre>&lt;/div>&lt;p>配置 docker&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ mkdir -p /etc/docker
$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt;/etc/docker/daemon.json
&lt;/span>&lt;span style="color:#4e9a06">{
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;bridge&amp;#34;: &amp;#34;none&amp;#34;,
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;iptables&amp;#34;: false,
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;exec-opts&amp;#34;:
&lt;/span>&lt;span style="color:#4e9a06"> [
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;native.cgroupdriver=systemd&amp;#34;
&lt;/span>&lt;span style="color:#4e9a06"> ],
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;data-root&amp;#34;: &amp;#34;/opt/docker&amp;#34;,
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;live-restore&amp;#34;: true,
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;log-driver&amp;#34;: &amp;#34;json-file&amp;#34;,
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;log-opts&amp;#34;:
&lt;/span>&lt;span style="color:#4e9a06"> {
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;max-size&amp;#34;: &amp;#34;100m&amp;#34;
&lt;/span>&lt;span style="color:#4e9a06"> },
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;registry-mirrors&amp;#34;:
&lt;/span>&lt;span style="color:#4e9a06"> [
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;https://lje6zxpk.mirror.aliyuncs.com&amp;#34;,
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;https://lms7sxqp.mirror.aliyuncs.com&amp;#34;,
&lt;/span>&lt;span style="color:#4e9a06"> &amp;#34;https://registry.docker-cn.com&amp;#34;
&lt;/span>&lt;span style="color:#4e9a06"> ]
&lt;/span>&lt;span style="color:#4e9a06">}
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>启动 docker&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ systemctl &lt;span style="color:#204a87">enable&lt;/span> --now docker
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="安装配置-kubelet">安装配置 kubelet&lt;/h4>
&lt;p>从 云联壹云 rpm 的 yum 源安装 kubernetes 1.15.8，并设置 kubelet 开机自启动&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ yum install -y bridge-utils ipvsadm conntrack-tools &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> jq kubelet-1.15.8-0 kubectl-1.15.8-0 kubeadm-1.15.8-0
$ &lt;span style="color:#204a87">echo&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;source &amp;lt;(kubectl completion bash)&amp;#39;&lt;/span> &amp;gt;&amp;gt; ~/.bashrc &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#204a87">source&lt;/span> ~/.bashrc
$ &lt;span style="color:#204a87">source&lt;/span> /etc/profile
$ systemctl &lt;span style="color:#204a87">enable&lt;/span> kubelet
&lt;/code>&lt;/pre>&lt;/div>&lt;p>安装完 kubernetes 相关的二进制后，还需要对系统做一些配置并启用 ipvs 作为 kube-proxy 内部的 service 负载均衡&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 禁用 swap&lt;/span>
$ swapoff -a
&lt;span style="color:#8f5902;font-style:italic"># 如果设置了自动挂载 swap，需要去 /etc/fstab 里面注释掉挂载 swap 那一行&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 关闭 selinux&lt;/span>
$ setenforce &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span>
$ sed -i &lt;span style="color:#4e9a06">&amp;#39;s/SELINUX=enforcing/SELINUX=disabled/&amp;#39;&lt;/span> /etc/selinux/config
&lt;span style="color:#8f5902;font-style:italic"># 禁用 firewalld&lt;/span>
$ systemctl stop firewalld
$ systemctl disable firewalld
&lt;span style="color:#8f5902;font-style:italic"># 禁用 NetworkManager&lt;/span>
$ systemctl stop NetworkManager
$ systemctl disable NetworkManager
$ ps -ef&lt;span style="color:#000;font-weight:bold">|&lt;/span>grep dhcp &lt;span style="color:#000;font-weight:bold">|&lt;/span> awk &lt;span style="color:#4e9a06">&amp;#39;{print $2}&amp;#39;&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>xargs &lt;span style="color:#204a87">kill&lt;/span> -9
&lt;span style="color:#8f5902;font-style:italic"># 做一些 sysctl 的配置, kubernetes 要求&lt;/span>
$ modprobe br_netfilter
$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt;&amp;gt; /etc/sysctl.conf
&lt;/span>&lt;span style="color:#4e9a06">net.bridge.bridge-nf-call-iptables=1
&lt;/span>&lt;span style="color:#4e9a06">net.bridge.bridge-nf-call-ip6tables=1
&lt;/span>&lt;span style="color:#4e9a06">net.ipv4.ip_forward=1
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
$ sysctl -p
&lt;span style="color:#8f5902;font-style:italic"># 配置并开启 ipvs&lt;/span>
$ cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt; /etc/sysconfig/modules/ipvs.modules
&lt;/span>&lt;span style="color:#4e9a06">#!/bin/bash
&lt;/span>&lt;span style="color:#4e9a06">ipvs_modules=&amp;#34;ip_vs ip_vs_lc ip_vs_wlc ip_vs_rr ip_vs_wrr ip_vs_lblc ip_vs_lblcr ip_vs_dh ip_vs_sh ip_vs_fo ip_vs_nq ip_vs_sed ip_vs_ftp nf_conntrack_ipv4&amp;#34;
&lt;/span>&lt;span style="color:#4e9a06">for kernel_module in \${ipvs_modules}; do
&lt;/span>&lt;span style="color:#4e9a06"> /sbin/modinfo -F filename \${kernel_module} &amp;gt; /dev/null 2&amp;gt;&amp;amp;1
&lt;/span>&lt;span style="color:#4e9a06"> if [ $? -eq 0 ]; then
&lt;/span>&lt;span style="color:#4e9a06"> /sbin/modprobe \${kernel_module}
&lt;/span>&lt;span style="color:#4e9a06"> fi
&lt;/span>&lt;span style="color:#4e9a06">done
&lt;/span>&lt;span style="color:#4e9a06">EOF&lt;/span>
$ chmod &lt;span style="color:#0000cf;font-weight:bold">755&lt;/span> /etc/sysconfig/modules/ipvs.modules &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> bash /etc/sysconfig/modules/ipvs.modules &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> lsmod &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep ip_vs
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="控制节点操作">控制节点操作&lt;/h2>
&lt;p>以下操作在控制节点进行。&lt;/p>
&lt;h3 id="创建计算节点所在的网段">创建计算节点所在的网段&lt;/h3>
&lt;p>我的环境&lt;strong>计算节点&lt;/strong>的 ip 为 10.168.222.140，就创建一个对应的 &lt;strong>计算节点(host)网段&lt;/strong>。&lt;/p>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">提示&lt;/h4>
需要根据自己的计算节点环境创建对应的网段，如果不创建该网段，计算节点就没法注册进来。
&lt;/div>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 查看当前环境的 zone&lt;/span>
$ climc zone-list
+--------------------------------------+-------+--------+----------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> ID &lt;span style="color:#000;font-weight:bold">|&lt;/span> Name &lt;span style="color:#000;font-weight:bold">|&lt;/span> Status &lt;span style="color:#000;font-weight:bold">|&lt;/span> Cloudregion_ID &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+-------+--------+----------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> f73a2120-1206-45fa-8d43-de374ab0f494 &lt;span style="color:#000;font-weight:bold">|&lt;/span> zone0 &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">enable&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> default &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+-------+--------+----------------+
&lt;span style="color:#8f5902;font-style:italic"># 在 zone0 里面创建一个 wire bcast0，该资源抽象计算节点所在的二层广播域信息&lt;/span>
$ climc wire-create zone0 bcast0 &lt;span style="color:#0000cf;font-weight:bold">1000&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 在 wire bcast0 之上创建一个计算节点的网络，计算节点的 host 服务注册会用到，如果 host 注册时没有在云平台找到对应的网络，将会注册失败&lt;/span>
$ climc network-create --gateway 10.168.222.1 --server-type baremetal bcast0 adm0 10.168.222.140 10.168.222.140 &lt;span style="color:#0000cf;font-weight:bold">24&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="计算节点host操作">计算节点(host)操作&lt;/h2>
&lt;p>以下操作在计算节点进行，计算节点也叫 host，私有云计算节点上面会运行 host 服务来管理 kvm 虚拟机。&lt;/p>
&lt;h3 id="配置-host-服务">配置 host 服务&lt;/h3>
&lt;p>参考 &lt;a href="https://www.cloudpods.org/v3.4/docs/setup/components/#%E8%8E%B7%E5%8F%96%E5%8A%A0%E5%85%A5%E9%9B%86%E7%BE%A4-token">&amp;ldquo;添加节点/获取加入集群token&amp;rdquo;&lt;/a> 的流程获取join所需的信息&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 使用 ocadm join 来创建一台计算节点&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 可选参数 --host-networks: 配置host服务的网络，比如: &amp;#39;eth0/br0/10.168.222.140&amp;#39;, eth0是物理网卡，br0是网桥名称，10.168.222.140是宿主机的ip&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 获取计算节点 IP&lt;/span>
$ &lt;span style="color:#000">host_addr&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>ip route get &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> awk &lt;span style="color:#4e9a06">&amp;#39;{print $NF;exit}&amp;#39;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>
$ &lt;span style="color:#204a87">echo&lt;/span> &lt;span style="color:#000">$host_addr&lt;/span>
10.168.222.140
&lt;span style="color:#8f5902;font-style:italic"># 可选参数 --host-local-image-path: 配置host服务磁盘的存储路径，比如: &amp;#39;/opt/cloud/workspace/disks&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 注意：容器部署的host服务只会挂载/opt/cloud目录&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 如果有其他挂载点需要bind mount到/opt/cloud下，可在fstab中添加一行如&amp;#39;/src /opt/cloud/dst none defaults,bind 0 0&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 可选参数 --host-hostname: 配置宿主机的hostname, 比如: &amp;#39;node1&amp;#39;&lt;/span>
$ ./ocadm join &lt;span style="color:#000">$api_server_addr&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --enable-host-agent &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --token &lt;span style="color:#000">$token&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --discovery-token-unsafe-skip-ca-verification
&lt;span style="color:#8f5902;font-style:italic"># 然后等待宿主机上的host pod和host-deployer pod为running状态&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="控制节点启用-host">控制节点启用 host&lt;/h2>
&lt;p>回到控制节点，启用刚才上报的计算节点，只有启用的宿主机才能运行虚拟机。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 使用 climc 查看注册的 host 列表&lt;/span>
$ climc host-list
+--------------------------------------+-------------------------+-------------------+----------------+----------------------------+---------+---------+-------------+----------+-----------+------------+---------------+--------------+------------+-------------------------+--------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> ID &lt;span style="color:#000;font-weight:bold">|&lt;/span> Name &lt;span style="color:#000;font-weight:bold">|&lt;/span> Access_mac &lt;span style="color:#000;font-weight:bold">|&lt;/span> Access_ip &lt;span style="color:#000;font-weight:bold">|&lt;/span> Manager_URI &lt;span style="color:#000;font-weight:bold">|&lt;/span> Status &lt;span style="color:#000;font-weight:bold">|&lt;/span> enabled &lt;span style="color:#000;font-weight:bold">|&lt;/span> host_status &lt;span style="color:#000;font-weight:bold">|&lt;/span> mem_size &lt;span style="color:#000;font-weight:bold">|&lt;/span> cpu_count &lt;span style="color:#000;font-weight:bold">|&lt;/span> node_count &lt;span style="color:#000;font-weight:bold">|&lt;/span> sn &lt;span style="color:#000;font-weight:bold">|&lt;/span> storage_type &lt;span style="color:#000;font-weight:bold">|&lt;/span> host_type &lt;span style="color:#000;font-weight:bold">|&lt;/span> version &lt;span style="color:#000;font-weight:bold">|&lt;/span> storage_size &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+-------------------------+-------------------+----------------+----------------------------+---------+---------+-------------+----------+-----------+------------+---------------+--------------+------------+-------------------------+--------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> 3830870e-a499-459d-89df-bb6979b5e1ff &lt;span style="color:#000;font-weight:bold">|&lt;/span> lzx-allinone-standalone &lt;span style="color:#000;font-weight:bold">|&lt;/span> 00:22:39:4c:6c:e9 &lt;span style="color:#000;font-weight:bold">|&lt;/span> 10.168.222.140 &lt;span style="color:#000;font-weight:bold">|&lt;/span> http://10.168.222.140:8885 &lt;span style="color:#000;font-weight:bold">|&lt;/span> running &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">false&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> online &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">8192&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">4&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> Not Specified &lt;span style="color:#000;font-weight:bold">|&lt;/span> rotate &lt;span style="color:#000;font-weight:bold">|&lt;/span> hypervisor &lt;span style="color:#000;font-weight:bold">|&lt;/span> master&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>7ab047419092301&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">50141&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+-------------------------+-------------------+----------------+----------------------------+---------+---------+-------------+----------+-----------+------------+---------------+--------------+------------+-------------------------+--------------+
*** Total: &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> Pages: &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> Limit: &lt;span style="color:#0000cf;font-weight:bold">20&lt;/span> Offset: &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> Page: &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> ***
&lt;span style="color:#8f5902;font-style:italic"># 启动 host&lt;/span>
$ climc host-enable lzx-allinone-standalone
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="创建虚拟机测试">创建虚拟机测试&lt;/h2>
&lt;h3 id="上传-cirrors-测试镜像">上传 cirrors 测试镜像&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 下载 cirros 测试镜像&lt;/span>
$ wget https://iso.yunion.cn/yumrepo-2.10/images/cirros-0.4.0-x86_64-disk.qcow2
&lt;span style="color:#8f5902;font-style:italic"># 将镜像上传到 glance&lt;/span>
$ climc image-upload --format qcow2 --os-type Linux --min-disk &lt;span style="color:#0000cf;font-weight:bold">10240&lt;/span> cirros-0.4.0-x86_64-disk.qcow2 ./cirros-0.4.0-x86_64-disk.qcow2
&lt;span style="color:#8f5902;font-style:italic"># 查看上传的镜像&lt;/span>
$ climc image-list
+--------------------------------------+--------------------------------+-------------+----------+-----------+----------+---------+--------+----------------------------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> ID &lt;span style="color:#000;font-weight:bold">|&lt;/span> Name &lt;span style="color:#000;font-weight:bold">|&lt;/span> Disk_format &lt;span style="color:#000;font-weight:bold">|&lt;/span> Size &lt;span style="color:#000;font-weight:bold">|&lt;/span> Is_public &lt;span style="color:#000;font-weight:bold">|&lt;/span> Min_disk &lt;span style="color:#000;font-weight:bold">|&lt;/span> Min_ram &lt;span style="color:#000;font-weight:bold">|&lt;/span> Status &lt;span style="color:#000;font-weight:bold">|&lt;/span> Checksum &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+--------------------------------+-------------+----------+-----------+----------+---------+--------+----------------------------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> 63f6f2af-4db2-4e30-85f5-0ad3baa27bd9 &lt;span style="color:#000;font-weight:bold">|&lt;/span> cirros-0.4.0-x86_64-disk.qcow2 &lt;span style="color:#000;font-weight:bold">|&lt;/span> qcow2 &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">22806528&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">false&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">30720&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> active &lt;span style="color:#000;font-weight:bold">|&lt;/span> 76dc07d1a730a92d0db7fb2d3c305ecd &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+--------------------------------+-------------+----------+-----------+----------+---------+--------+----------------------------------+
&lt;span style="color:#8f5902;font-style:italic"># 如果使用虚拟机作为计算节点，存储可能不大，可以把镜像的默认大小30g调整到10g&lt;/span>
$ climc image-update --min-disk &lt;span style="color:#0000cf;font-weight:bold">10240&lt;/span> cirros-0.4.0-x86_64-disk.qcow2
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="创建测试网络">创建测试网络&lt;/h3>
&lt;p>下面是随机创建了一个主机间不可达的网络用于测试，如果有划分好的扁平二层可用网络，可以直接拿来给虚拟机使用。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ climc network-create --gateway 10.20.30.1 --server-type guest bcast0 vnet0 10.20.30.2 10.20.30.254 &lt;span style="color:#0000cf;font-weight:bold">24&lt;/span>
$ climc network-public vnet0
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="创建虚拟机">创建虚拟机&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 创建虚拟机 testvm01，512M内存, 1个CPU, 系统盘 10g, 第二块磁盘 5g 格式化为 ext4 并挂载到 /opt 的虚拟机&lt;/span>
$ climc server-create --auto-start --allow-delete &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --disk cirros-0.4.0-x86_64-disk.qcow2:10g --disk 5g:ext4:/opt &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --net vnet0 --ncpu &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> --mem-spec 512M testvm01
&lt;span style="color:#8f5902;font-style:italic"># 查看创建的虚拟机，1分钟后应该会变为 running 状态&lt;/span>
$ climc server-list --details
+--------------------------------------+----------+--------------+--------------+-------+---------+------------+-----------+----------+-----------------------------+------------+---------+-------------------------+--------+-----------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> ID &lt;span style="color:#000;font-weight:bold">|&lt;/span> Name &lt;span style="color:#000;font-weight:bold">|&lt;/span> Billing_type &lt;span style="color:#000;font-weight:bold">|&lt;/span> IPs &lt;span style="color:#000;font-weight:bold">|&lt;/span> Disk &lt;span style="color:#000;font-weight:bold">|&lt;/span> Status &lt;span style="color:#000;font-weight:bold">|&lt;/span> vcpu_count &lt;span style="color:#000;font-weight:bold">|&lt;/span> vmem_size &lt;span style="color:#000;font-weight:bold">|&lt;/span> Secgroup &lt;span style="color:#000;font-weight:bold">|&lt;/span> Created_at &lt;span style="color:#000;font-weight:bold">|&lt;/span> Hypervisor &lt;span style="color:#000;font-weight:bold">|&lt;/span> os_type &lt;span style="color:#000;font-weight:bold">|&lt;/span> Host &lt;span style="color:#000;font-weight:bold">|&lt;/span> Tenant &lt;span style="color:#000;font-weight:bold">|&lt;/span> is_system &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+----------+--------------+--------------+-------+---------+------------+-----------+----------+-----------------------------+------------+---------+-------------------------+--------+-----------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> bcda7d18-decc-4b5f-8654-2d201a84d1fb &lt;span style="color:#000;font-weight:bold">|&lt;/span> testvm01 &lt;span style="color:#000;font-weight:bold">|&lt;/span> postpaid &lt;span style="color:#000;font-weight:bold">|&lt;/span> 10.20.30.254 &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">35840&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> running &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">512&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> Default &lt;span style="color:#000;font-weight:bold">|&lt;/span> 2019-09-23T05:08:49.000000Z &lt;span style="color:#000;font-weight:bold">|&lt;/span> kvm &lt;span style="color:#000;font-weight:bold">|&lt;/span> Linux &lt;span style="color:#000;font-weight:bold">|&lt;/span> lzx-allinone-standalone &lt;span style="color:#000;font-weight:bold">|&lt;/span> system &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">false&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+----------+--------------+--------------+-------+---------+------------+-----------+----------+-----------------------------+------------+---------+-------------------------+--------+-----------+
*** Total: &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> Pages: &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> Limit: &lt;span style="color:#0000cf;font-weight:bold">20&lt;/span> Offset: &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> Page: &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> ***
&lt;span style="color:#8f5902;font-style:italic"># 获取虚拟机登录信息&lt;/span>
$ climc server-logininfo testvm01
+-----------+------------------------------------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> Field &lt;span style="color:#000;font-weight:bold">|&lt;/span> Value &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+-----------+------------------------------------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> login_key &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000">49wqh5OWGW3jSr1A8RfrMoH69iRRECzaMZITBA&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">==&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> password &lt;span style="color:#000;font-weight:bold">|&lt;/span> zS27FwwUFr96 &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> updated &lt;span style="color:#000;font-weight:bold">|&lt;/span> 2019-09-23T05:11:29.306403Z &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> username &lt;span style="color:#000;font-weight:bold">|&lt;/span> root &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+-----------+------------------------------------------+
&lt;span style="color:#8f5902;font-style:italic"># 在计算节点联通测试网络(如果你是直接用的二层网络，应该能直接 ping 通虚拟机的 ip 了，不需要做这一步)&lt;/span>
$ ip address add 10.20.30.1/24 dev br0
&lt;span style="color:#8f5902;font-style:italic"># 用之前 server-logininfo 命令获取的用户名密码，直接登录到虚拟机里面&lt;/span>
$ ssh root@10.20.30.254
PING 10.20.30.254 &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>10.20.30.254&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> 56&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>84&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> bytes of data.
&lt;span style="color:#0000cf;font-weight:bold">64&lt;/span> bytes from 10.20.30.254: &lt;span style="color:#000">icmp_seq&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#000">ttl&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">64&lt;/span> &lt;span style="color:#000">time&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>1.31 ms
&lt;span style="color:#8f5902;font-style:italic"># 如果网络不通，也可以通过 vnc 的方式打开虚拟机的 tty 登录界面，操作如下&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 打开 vnc 链接，用浏览器打开下面的链接&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 打开 vnc 链接时会出现不安全认证，导致 websocket 无法握手，需要在浏览器信任 webconsole server 对应的 endpoint&lt;/span>
$ climc endpoint-list --details &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep webconsole &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep public
&lt;span style="color:#000;font-weight:bold">|&lt;/span> 3da1e476aa7b4ff68e206754aed72d8f &lt;span style="color:#000;font-weight:bold">|&lt;/span> region0 &lt;span style="color:#000;font-weight:bold">|&lt;/span> 16120e8f3eec46dc86c59b3e426b0502 &lt;span style="color:#000;font-weight:bold">|&lt;/span> webconsole &lt;span style="color:#000;font-weight:bold">|&lt;/span> webconsole &lt;span style="color:#000;font-weight:bold">|&lt;/span> https://10.168.222.218:8899 &lt;span style="color:#000;font-weight:bold">|&lt;/span> public &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#204a87">true&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 然后用浏览器访问下 https://10.168.222.218:8899 , 信任该链接即可&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 在通过 webconsole-server 命令获取 vnc web 界面的链接地址，然后用浏览器打开该地址&lt;/span>
$ climc webconsole-server testvm01
https://console.yunion.cn/web-console?access_token&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>FI-VXQSAonhzfSnxVTKCCbwHinp7swlRkmi-4p6s-4OfZpg6TG9YhWuwbHEUA1D7XoKu_w%3D%3D&lt;span style="color:#000;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#000">api_server&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>https%3A%2F%2F10.168.222.216%3A8899&lt;span style="color:#000;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#000">password&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>65xB2kaE&lt;span style="color:#000;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#000">protocol&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>vnc
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: 物理机管理服务</title><link>https://www.cloudpods.org/v3.4/docs/setup/baremetal/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org/v3.4/docs/setup/baremetal/</guid><description>
&lt;p>启用 baremetal-agent 之前需要部署 云联壹云 集群，详见 &lt;a href="https://www.cloudpods.org/v3.4/docs/setup/controlplane">&amp;ldquo;安装部署/部署集群&amp;rdquo;&lt;/a> 。&lt;/p>
&lt;p>待集群准备完毕后需要指定集群中的一个 node 来部署 baremetal-agent 服务。&lt;/p>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">注意&lt;/h4>
目前只能指定一个 node 来部署运行 baremetal-agent 服务，因为 baremetal-agent 服务是有状态的，不能多副本夸节点运行。
&lt;/div>
&lt;h2 id="启用-baremetal-agent">启用 baremetal-agent&lt;/h2>
&lt;p>在通过 pxe 引导流程中，baremetal-agent 只会处理来自 dhcp relay 服务器的请求, 所以你需要事先在交换机配置 dhcp relay 或者使用 云联壹云 host 服务的 dhcp relay 功能。&lt;/p>
&lt;h3 id="如何配置-host-服务-启用-dhcp-relay">如何配置 host 服务 启用 dhcp relay&lt;/h3>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">注意&lt;/h4>
如果在交换机上配置了 dhcp relay，则不需要在这里配置计算节点的 dhcp_relay 了，可以跳过这一步。
&lt;/div>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 登录到已经部署好计算节点的服务器上修改 /etc/yunion/host.conf，添加 dhcp_relay 配置项：&lt;/span>
dhcp_relay:
- 10.168.222.198 &lt;span style="color:#8f5902;font-style:italic"># baremetal agent dhcp服务监听地址&lt;/span>
- &lt;span style="color:#0000cf;font-weight:bold">67&lt;/span> &lt;span style="color:#8f5902;font-style:italic"># baremetal agent dhcp服务监听端口&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 然后重启host服务&lt;/span>
$ kubectl get pods -n onecloud -o wide &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep host
default-host-p6d8h 2/2 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 78m 10.168.222.189 k8s-dev1 &amp;lt;none&amp;gt; &amp;lt;none&amp;gt;
default-host-xdc7x 2/2 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 78m 10.168.222.150 k8s-dev2 &amp;lt;none&amp;gt; &amp;lt;none&amp;gt;
&lt;span style="color:#8f5902;font-style:italic"># 找到对应的 pod 删除等待 host 服务自动重启&lt;/span>
$ kubectl delete pods -n onecloud default-host-xdc7x
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="启用-baremetal-agent-1">启用 baremetal-agent&lt;/h3>
&lt;p>然后选择 node 启用 baremetal-agent。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># $listen_interface 指的是 baremetal-agent 监听的网卡名称&lt;/span>
$ ocadm baremetal &lt;span style="color:#204a87">enable&lt;/span> --node &lt;span style="color:#000">$node_name&lt;/span> --listen-interface &lt;span style="color:#000">$listen_interface&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 观察 baremetal agent pod 状态查看是否启动成功&lt;/span>
$ watch &lt;span style="color:#4e9a06">&amp;#34;kubectl get pods -n onecloud | grep baremetal&amp;#34;&lt;/span>
default-baremetal-agent-7c84996c9b-hhllw 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 3m10s
&lt;span style="color:#8f5902;font-style:italic"># 启动成功确认 baremetal-agent 注册到控制节点&lt;/span>
$ climc agent-list
+--------------------------------------+--------------------------+----------------+-----------------------------+---------+------------+------------------------------------------+--------------------------------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> ID &lt;span style="color:#000;font-weight:bold">|&lt;/span> Name &lt;span style="color:#000;font-weight:bold">|&lt;/span> Access_ip &lt;span style="color:#000;font-weight:bold">|&lt;/span> Manager_URI &lt;span style="color:#000;font-weight:bold">|&lt;/span> Status &lt;span style="color:#000;font-weight:bold">|&lt;/span> agent_type &lt;span style="color:#000;font-weight:bold">|&lt;/span> version &lt;span style="color:#000;font-weight:bold">|&lt;/span> zone_id &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+--------------------------+----------------+-----------------------------+---------+------------+------------------------------------------+--------------------------------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> f3c2c671-c41d-4f30-8d04-e022b49bb9b5 &lt;span style="color:#000;font-weight:bold">|&lt;/span> baremetal-10.168.222.150 &lt;span style="color:#000;font-weight:bold">|&lt;/span> 10.168.222.150 &lt;span style="color:#000;font-weight:bold">|&lt;/span> https://10.168.222.150:8879 &lt;span style="color:#000;font-weight:bold">|&lt;/span> enabled &lt;span style="color:#000;font-weight:bold">|&lt;/span> baremetal &lt;span style="color:#000;font-weight:bold">|&lt;/span> remotes/origin/master&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>5e415506120011509&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> 6230b485-2e54-480e-8284-33360b8202a8 &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+--------------------------+----------------+-----------------------------+---------+------------+------------------------------------------+--------------------------------------+
&lt;/code>&lt;/pre>&lt;/div>&lt;p>部署完成后可以参考 &lt;a href="https://www.cloudpods.org/v3.4/docs/howto/baremetal">&amp;ldquo;操作管理/物理机&amp;rdquo;&lt;/a> 来进行对物理机的注册管理。&lt;/p>
&lt;h2 id="禁用-baremetal-agent">禁用 baremetal-agent&lt;/h2>
&lt;p>可以在启用 baremetal-agent 的节点中选择节点禁止 baremetal-agent 调度到该节点。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">ocadm baremetal disable --node &lt;span style="color:#000">$node_name&lt;/span>
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: 切换到企业版</title><link>https://www.cloudpods.org/v3.4/docs/setup/ce-ee-switch/</link><pubDate>Wed, 12 Feb 2020 12:55:46 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/setup/ce-ee-switch/</guid><description>
&lt;p>默认情况下部署好的版本是 &lt;strong>开源版本(CE: Community Edition)&lt;/strong>，可以使用 &lt;code>ocadm cluster update&lt;/code> 命令切换成 &lt;strong>企业版本(EE: Enterprise Edition)&lt;/strong>。&lt;/p>
&lt;h2 id="切换操作">切换操作&lt;/h2>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 切换到企业版&lt;/span>
$ ocadm cluster update --use-ee --wait
&lt;span style="color:#8f5902;font-style:italic"># 切换到开源版的 web 前端&lt;/span>
$ ocadm cluster update --use-ce --wait
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>ocadm cluster update --use-ee/--use-ce&lt;/code> 命令会更新替换当前的 default-web deployment，执行该命令后等到新的 pod 启动后，重新刷新前端页面，即可进入(开源版/企业版)前端。&lt;/p>
&lt;h2 id="常见问题">常见问题&lt;/h2>
&lt;h3 id="访问前端出现错误">访问前端出现错误&lt;/h3>
&lt;p>&lt;strong>问题原因&lt;/strong>: 开源与企业版本的前端分别依赖不同的 default-web configmap，直接切换过去会导致 default-web configmap 没有更新，会造成企业版本使用开源版本 configmap 的问题。&lt;/p>
&lt;p>&lt;strong>解决办法&lt;/strong>: 在控制节点上删除 web 服务的 nginx configmap 配置文件，并重启 web 服务即可。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 删除 default-web 的 configmap 文件&lt;/span>
$ kubectl delete configmap -n onecloud default-web
&lt;span style="color:#8f5902;font-style:italic"># 重启 default-web 服务&lt;/span>
$ kubectl rollout restart deployment -n onecloud default-web
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: 登录云主机</title><link>https://www.cloudpods.org/v3.4/docs/howto/server/connect/</link><pubDate>Fri, 19 Jul 2019 17:38:36 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/howto/server/connect/</guid><description>
&lt;p>创建好主机后，登录的方式大概分为以下几种：&lt;/p>
&lt;ul>
&lt;li>ssh: linux 通用，要求主机网络可达;&lt;/li>
&lt;li>rdp: windows 远程桌面，要求主机网络可达；&lt;/li>
&lt;li>vnc: vnc 链接，对主机网络没有要求，只要能链接云平台 vnc proxy 即可;&lt;/li>
&lt;li>ipmi sol: 只对装有 BMC 的物理机可用;&lt;/li>
&lt;/ul>
&lt;p>针对以上的链接方式，我们提供以下接口链接云主机：&lt;/p>
&lt;h3 id="vnc-链接">vnc 链接&lt;/h3>
&lt;p>&lt;code>climc webconsole-server&lt;/code> 命令提供通过 vnc 的方式链接虚拟机，该方式对裸金属服务器不可用。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ climc webconsole-server &amp;lt;server_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ssh-链接">ssh 链接&lt;/h3>
&lt;p>查询 server 的 ip&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 可通过 server-list --search --details 的方式找到主机的 ip&lt;/span>
$ climc server-list --search &amp;lt;server_name&amp;gt; --details
&lt;span style="color:#8f5902;font-style:italic"># 或者通过 server-show &amp;lt;server_id&amp;gt; 的方式得到 ip&lt;/span>
$ climc server-show &amp;lt;server_name&amp;gt; &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep ip
&lt;span style="color:#000;font-weight:bold">|&lt;/span> ips &lt;span style="color:#000;font-weight:bold">|&lt;/span> 10.168.222.226 &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>查询 server 的登录信息&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ climc server-logininfo &amp;lt;server_name&amp;gt;
+----------+-----------------------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> Field &lt;span style="color:#000;font-weight:bold">|&lt;/span> Value &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+----------+-----------------------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> password &lt;span style="color:#000;font-weight:bold">|&lt;/span> @2aWXB6AmCbV &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> updated &lt;span style="color:#000;font-weight:bold">|&lt;/span> 2019-07-03T10:00:20.801716Z &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> username &lt;span style="color:#000;font-weight:bold">|&lt;/span> root &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+----------+-----------------------------+
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ssh 登录&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ ssh root@10.168.222.226
&lt;/code>&lt;/pre>&lt;/div>&lt;p>通过 webconsole 登录&lt;/p>
&lt;pre>&lt;code>$ climc webconsole-ssh 10.168.222.226
https://console.yunion.cn/web-console?access_token=y7bjpBwtvJHLHpwOUMzNVvsYiAgY1vskIuVwB-aINfH4mm8MsZqwxKSfHqm2pCvY6O8bBA%3D%3D&amp;amp;api_server=https%3A%2F%2Foffice.yunion.io&amp;amp;protocol=tty
&lt;/code>&lt;/pre>&lt;p>在浏览器打开 webconsole 放回的 url ，就会到对应虚拟机的登录界面&lt;/p>
&lt;p>&lt;img src="../images/webssh.png" alt="">&lt;/p></description></item><item><title>Docs: 其他操作</title><link>https://www.cloudpods.org/v3.4/docs/howto/server/others/</link><pubDate>Fri, 19 Jul 2019 17:32:09 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/howto/server/others/</guid><description>
&lt;h3 id="开关机">开关机&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 开机&lt;/span>
$ climc server-start &amp;lt;server_id&amp;gt;
&lt;span style="color:#8f5902;font-style:italic"># 关机&lt;/span>
$ climc server-stop &amp;lt;server_id&amp;gt;
&lt;span style="color:#8f5902;font-style:italic"># 强制关机&lt;/span>
$ climc server-stop --is-force &amp;lt;server_id&amp;gt;
&lt;span style="color:#8f5902;font-style:italic"># 重启&lt;/span>
$ climc server-restart &amp;lt;server_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="删除">删除&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 删除至回收站&lt;/span>
$ climc server-delete &amp;lt;server_id&amp;gt;
&lt;span style="color:#8f5902;font-style:italic"># 彻底删除&lt;/span>
$ climc server-delete -f &amp;lt;server_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="重装密码">重装密码&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ climc server-deploy --reset-password --password &amp;lt;your_password&amp;gt; &amp;lt;server_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;p>TODO&lt;/p></description></item><item><title>Docs: libvirt管理虚机导入</title><link>https://www.cloudpods.org/v3.4/docs/howto/server/import/</link><pubDate>Tue, 26 Nov 2019 16:57:43 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/howto/server/import/</guid><description>
&lt;p>支持将libvirt管理的虚拟机导入到云联壹云平台。&lt;/p>
&lt;h2 id="注意事项">注意事项&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>首先需要在libvirt管理的宿主机上安装我们的计算节点&lt;/p>
&lt;/li>
&lt;li>
&lt;p>安装好计算节点后需要添加的虚拟机的网络到控制节点&lt;/p>
&lt;/li>
&lt;li>
&lt;p>确保libvirt服务关闭&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="相关操作">相关操作&lt;/h2>
&lt;ul>
&lt;li>准备好需要导入虚拟机的信息文件&lt;code>servers.yaml&lt;/code>， 格式如下:&lt;/li>
&lt;/ul>
&lt;pre>&lt;code>hosts:
- host_ip: 10.168.222.137
xml_file_path: /etc/libvirt/qemu
monitor_path: /var/lib/libvirt/qemu
servers:
- mac: 52:54:00:4A:19:AF
ip: 10.168.222.53
- mac: 52:54:00:4A:19:CC
ip: 10.168.222.54
- host_ip: 10.168.222.130
xml_file_path: /etc/libvirt/qemu
monitor_path: /var/lib/libvirt/qemu
servers:
- mac: 53:54:00:4A:19:EC
ip: 11.168.222.50
- mac: 53:54:00:4A:19:EE
ip: 11.168.222.51
&lt;/code>&lt;/pre>&lt;pre>&lt;code>- `host_ip` 是要导入的宿主机的ip
- `xml_file_path`是libvirt存储虚拟机xml文件的路径，
- `monitor_path`是libvirt存储虚拟机monitor socket文件的路径，
- `servers`是需要导入的虚拟机，里面描述了虚拟机的ip和mac对应关系
&lt;/code>&lt;/pre>
&lt;hr>
&lt;ul>
&lt;li>执行 climc servers-import-from-libvirt 开始导入&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># 导入前确认libvirt服务关闭&lt;/span>
$ climc servers-import-from-libvirt servers.yaml
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: GPU相关</title><link>https://www.cloudpods.org/v3.4/docs/howto/server/gpu/</link><pubDate>Fri, 19 Jul 2019 18:32:40 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/howto/server/gpu/</guid><description>
&lt;p>目前仅支持 云联壹云 kvm 虚拟机使用 GPU，使用的 PCI Passthrough 的方式将宿主机上的 Nvidia/AMD GPU 透传给虚拟机使用。&lt;/p>
&lt;h2 id="相关操作">相关操作&lt;/h2>
&lt;h3 id="创建-gpu-云主机">创建 GPU 云主机&lt;/h3>
&lt;ul>
&lt;li>查询 gpu 列表&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ climc isolated-device-list --gpu
+--------------------------------------+----------+---------------------+---------+------------------+--------------------------------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> ID &lt;span style="color:#000;font-weight:bold">|&lt;/span> Dev_type &lt;span style="color:#000;font-weight:bold">|&lt;/span> Model &lt;span style="color:#000;font-weight:bold">|&lt;/span> Addr &lt;span style="color:#000;font-weight:bold">|&lt;/span> Vendor_device_id &lt;span style="color:#000;font-weight:bold">|&lt;/span> Host_id &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+----------+---------------------+---------+------------------+--------------------------------------+
&lt;span style="color:#000;font-weight:bold">|&lt;/span> 273f4f72-06b6-49aa-8456-4beceec44997 &lt;span style="color:#000;font-weight:bold">|&lt;/span> GPU-HPC &lt;span style="color:#000;font-weight:bold">|&lt;/span> GeForce GTX &lt;span style="color:#0000cf;font-weight:bold">1050&lt;/span> Ti &lt;span style="color:#000;font-weight:bold">|&lt;/span> 41:00.0 &lt;span style="color:#000;font-weight:bold">|&lt;/span> 10de:1c82 &lt;span style="color:#000;font-weight:bold">|&lt;/span> 3bce9607-2597-469f-8d9b-977345456739 &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#000;font-weight:bold">|&lt;/span> a77333e9-08d9-45c6-87eb-a7d8d902c5f5 &lt;span style="color:#000;font-weight:bold">|&lt;/span> GPU-HPC &lt;span style="color:#000;font-weight:bold">|&lt;/span> Quadro FX &lt;span style="color:#0000cf;font-weight:bold">580&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> 05:00.0 &lt;span style="color:#000;font-weight:bold">|&lt;/span> 10de:0659 &lt;span style="color:#000;font-weight:bold">|&lt;/span> 3bce9607-2597-469f-8d9b-977345456739 &lt;span style="color:#000;font-weight:bold">|&lt;/span>
+--------------------------------------+----------+---------------------+---------+------------------+--------------------------------------+
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>创建 server&lt;/li>
&lt;/ul>
&lt;p>server-create 中的 &lt;code>--isolated-device&lt;/code> 参数指定透传的设备到云主机，可以重复使用多次，透传多个 gpu 到云主机，但要求透传到同一云主机的 gpu 必须在同一宿主机。其余创建参数和创建普通云主机是一样的。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ climc server-create --hypervisor kvm --isolated-device 273f4f72-06b6-49aa-8456-4beceec44997 ...
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="查询-gpu-云主机">查询 GPU 云主机&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ climc server-list --gpu
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="关联-gpu">关联 GPU&lt;/h3>
&lt;p>如果云主机所在的宿主机有可用的 gpu，在主机关机的情况下，可以通过 &lt;code>server-attach-isolated-device&lt;/code> 命令将 gpu 和云主机关联起来，下次主机启动后就可以使用该 gpu 。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ climc server-attach-isolated-device &amp;lt;server_id&amp;gt; &amp;lt;device_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="卸载-gpu">卸载 GPU&lt;/h3>
&lt;p>如果云主机关联了 gpu，可以通过 &lt;code>server-detach-isolated-device&lt;/code> 卸载主机的某一 gpu。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ climc server-detach-isolated-device &amp;lt;server_id&amp;gt; &amp;lt;device_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: 迁移相关</title><link>https://www.cloudpods.org/v3.4/docs/howto/server/migrate/</link><pubDate>Fri, 19 Jul 2019 18:58:33 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/howto/server/migrate/</guid><description>
&lt;p>TODO&lt;/p></description></item><item><title>Docs: 主备机</title><link>https://www.cloudpods.org/v3.4/docs/howto/server/backup/</link><pubDate>Fri, 19 Jul 2019 18:57:43 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/howto/server/backup/</guid><description>
&lt;p>TODO&lt;/p></description></item><item><title>Docs: 其他操作</title><link>https://www.cloudpods.org/v3.4/docs/howto/image/operation/</link><pubDate>Fri, 19 Jul 2019 17:29:09 +0800</pubDate><guid>https://www.cloudpods.org/v3.4/docs/howto/image/operation/</guid><description>
&lt;h2 id="导入镜像">导入镜像&lt;/h2>
&lt;p>云平台的 glance 镜像服务支持从外部 url 导入镜像，对应 climc 的子命令为 &lt;code>image-import&lt;/code>　。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># 导入 https://iso.yunion.cn/yumrepo-3.2/images/cirros-0.4.0-x86_64-disk.qcow2 镜像&lt;/span>
$ climc image-import --format qcow2 --os-type Linux cirros-test.qcow2 https://iso.yunion.cn/yumrepo-3.2/images/cirros-0.4.0-x86_64-disk.qcow2
&lt;/code>&lt;/pre>&lt;/div>&lt;p>使用 &lt;code>image-list&lt;/code> 或 &lt;code>image-show&lt;/code> 查询导入镜像的状态，变为 active 时表明可以使用。&lt;/p>
&lt;h2 id="下载镜像">下载镜像&lt;/h2>
&lt;p>如果需要将云平台的镜像导出到本地，就需要用 &lt;code>climc image-download&lt;/code> 把 glance 存的镜像下载下来。&lt;/p>
&lt;p>参考 &lt;a href="../query/">查询镜像&lt;/a> 查询你想要下载的镜像，获取镜像 id 或 name。&lt;/p>
&lt;p>下载镜像:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic"># OUTPUT 指定镜像的保存路径和文件名称，如/root/test.qcow2&lt;/span>
$ climc image-download &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>--output OUTPUT&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &amp;lt;image_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="删除镜像">删除镜像&lt;/h2>
&lt;p>镜像默认启用了删除保护，当镜像确定不用了，需要先通过&lt;code>climc image-update&lt;/code>禁用删除保护，再通过 &lt;code>climc image-delete&lt;/code> 删除镜像。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">
&lt;span style="color:#8f5902;font-style:italic"># 禁用镜像删除保护&lt;/span>
$ climc image-update --unprotected &amp;lt;image_id&amp;gt;
&lt;span style="color:#8f5902;font-style:italic"># 删除镜像&lt;/span>
$ climc image-delete &amp;lt;image_id&amp;gt;
&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>