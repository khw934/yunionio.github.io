<!DOCTYPE html>
<html lang="zh" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.55.6" />
    <meta name="description" content="Documentation for onecloud">


    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>命令行工具 :: Yunion Onecloud Documentation</title>

    
    <link href="/css/nucleus.css?1563543847" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1563543847" rel="stylesheet">
    <link href="/css/hybrid.css?1563543847" rel="stylesheet">
    <link href="/css/featherlight.min.css?1563543847" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1563543847" rel="stylesheet">
    <link href="/css/auto-complete.css?1563543847" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1563543847" rel="stylesheet">
    <link href="/css/theme.css?1563543847" rel="stylesheet">
    <link href="/css/hugo-theme.css?1563543847" rel="stylesheet">
    
      <link href="/css/theme-blue.css?1563543847" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1563543847"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/howto/climc/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">
  
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1563543847"></script>
<script type="text/javascript" src="/js/auto-complete.js?1563543847"></script>
<script type="text/javascript">
    
        var baseurl = "\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1563543847"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/overview/" title="OneCloud 简介" class="dd-item 
        
        
        
        ">
      <a href="/overview/">
          OneCloud 简介
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/setup/" title="安装部署" class="dd-item 
        
        
        
        ">
      <a href="/setup/">
          安装部署
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/setup/intro/" title="组件概览" class="dd-item ">
        <a href="/setup/intro/">
        组件概览
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/setup/controlplane/" title="控制节点" class="dd-item ">
        <a href="/setup/controlplane/">
        控制节点
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/setup/components/" title="其它组件" class="dd-item ">
        <a href="/setup/components/">
        其它组件
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/setup/host/" title="计算节点" class="dd-item ">
        <a href="/setup/host/">
        计算节点
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/contribute/" title="开发贡献" class="dd-item 
        
        
        
        ">
      <a href="/contribute/">
          开发贡献
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/howto/" title="操作管理" class="dd-item 
        parent
        
        
        ">
      <a href="/howto/">
          操作管理
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/howto/climc/" title="命令行工具" class="dd-item 
        parent
        active
        
        ">
      <a href="/howto/climc/">
          命令行工具
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/howto/image/" title="镜像" class="dd-item 
        
        
        
        ">
      <a href="/howto/image/">
          镜像
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/howto/image/upload/" title="上传镜像" class="dd-item ">
        <a href="/howto/image/upload/">
        上传镜像
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/howto/image/query/" title="查询镜像" class="dd-item ">
        <a href="/howto/image/query/">
        查询镜像
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/howto/image/create/" title="制作镜像" class="dd-item ">
        <a href="/howto/image/create/">
        制作镜像
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/howto/image/operation/" title="其他操作" class="dd-item ">
        <a href="/howto/image/operation/">
        其他操作
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/howto/server/" title="云主机" class="dd-item 
        
        
        
        ">
      <a href="/howto/server/">
          云主机
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/howto/server/create/" title="创建云主机" class="dd-item 
        
        
        
        ">
      <a href="/howto/server/create/">
          创建云主机
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/howto/server/connect/" title="登录云主机" class="dd-item ">
        <a href="/howto/server/connect/">
        登录云主机
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/howto/server/others/" title="其他操作" class="dd-item ">
        <a href="/howto/server/others/">
        其他操作
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/howto/server/gpu/" title="GPU相关" class="dd-item ">
        <a href="/howto/server/gpu/">
        GPU相关
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/howto/server/migrate/" title="迁移相关" class="dd-item ">
        <a href="/howto/server/migrate/">
        迁移相关
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/howto/server/backup/" title="主备机" class="dd-item ">
        <a href="/howto/server/backup/">
        主备机
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/howto/host/" title="宿主机" class="dd-item 
        
        
        
        ">
      <a href="/howto/host/">
          宿主机
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/howto/host/kvm/" title="KVM 宿主机" class="dd-item ">
        <a href="/howto/host/kvm/">
        KVM 宿主机
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/howto/baremetal/" title="物理机" class="dd-item 
        
        
        
        ">
      <a href="/howto/baremetal/">
          物理机
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/howto/baremetal/intro/" title="介绍" class="dd-item ">
        <a href="/howto/baremetal/intro/">
        介绍
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/howto/baremetal/operator/" title="操作相关" class="dd-item ">
        <a href="/howto/baremetal/operator/">
        操作相关
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/howto/network/" title="网络" class="dd-item 
        
        
        
        ">
      <a href="/howto/network/">
          网络
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/howto/lb/" title="负载均衡" class="dd-item 
        
        
        
        ">
      <a href="/howto/lb/">
          负载均衡
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/howto/storage/" title="存储" class="dd-item 
        
        
        
        ">
      <a href="/howto/storage/">
          存储
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/howto/multicloud/" title="多云管理" class="dd-item 
        
        
        
        ">
      <a href="/howto/multicloud/">
          多云管理
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/howto/auth/" title="认证与权限" class="dd-item 
        
        
        
        ">
      <a href="/howto/auth/">
          认证与权限
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/howto/container/" title="容器集群" class="dd-item 
        
        
        
        ">
      <a href="/howto/container/">
          容器集群
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/howto/scheduler/" title="资源调度" class="dd-item 
        
        
        
        ">
      <a href="/howto/scheduler/">
          资源调度
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3></h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://github.com/yunionio/onecloud"><i class='fab fa-fw fa-github'></i> GitHub repo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> </a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <center>
    
    <a class="github-button" href="https://github.com/yunionio/onecloud" data-icon="octicon-star" data-show-count="true" aria-label="Star matcornic/hugo-theme-learn on GitHub">Star</a>

    
    <a class="github-button" href="https://github.com/yunionio/onecloud/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork matcornic/hugo-theme-learn on GitHub">Fork</a>

    <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>
</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='' href="https://github.com/yunionio/docs/edit/master/content/howto/climc/_index.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text"></span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>OneCloud 文档</a> > <a href='/howto/'>操作管理</a> > 命令行工具
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#安装">安装</a>
<ul>
<li><a href="#rpm-安装">RPM 安装</a></li>
<li><a href="#源码编译安装">源码编译安装</a></li>
</ul></li>
<li><a href="#使用">使用</a>
<ul>
<li><a href="#认证配置">认证配置</a></li>
<li><a href="#运行模式">运行模式</a></li>
<li><a href="#子命令语法">子命令语法</a></li>
<li><a href="#使用帮助-help">使用帮助 help</a></li>
<li><a href="#高级过滤-filter">高级过滤 filter</a></li>
<li><a href="#debug-模式">Debug 模式</a>
<ul>
<li><a href="#颜色约定">颜色约定</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              命令行工具
            </h1>
          

        




	

<p>云平台的命令行管理工具叫 <code>climc</code>, 可以通过该工具向后端各个服务发送请求, 操作各种资源。</p>

<h2 id="安装">安装</h2>

<p>可以通过 yum 或者源码编译的方式安装。</p>

<h3 id="rpm-安装">RPM 安装</h3>

<p>添加 yunion 的 yum 源，如果已经添加可以忽略这一步。</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ cat <span class="s">&lt;&lt;EOF &gt;/etc/yum.repos.d/yunion.repo
</span><span class="s">[yunion]
</span><span class="s">name=Packages for Yunion Multi-Cloud Platform
</span><span class="s">baseurl=https://iso.yunion.cn/yumrepo-2.10
</span><span class="s">sslverify=0
</span><span class="s">failovermethod=priority
</span><span class="s">enabled=1
</span><span class="s">gpgcheck=0
</span><span class="s">EOF</span></code></pre></div>
<p>安装 climc</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ sudo yum install -y yunion-climc
$ ls -alh /opt/yunion/bin/climc
-rwxr-xr-x <span class="m">1</span> root root 24M Jul <span class="m">18</span> <span class="m">19</span>:04 /opt/yunion/bin/climc</code></pre></div>
<h3 id="源码编译安装">源码编译安装</h3>

<p>首先需要搭建 go 的开发环境，然后 clone 代码，参考: <a href="/contribute/">开发贡献</a></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># 编译 climc</span>
$ <span class="nb">cd</span> <span class="nv">$GOPATH</span>/src/yunion.io/x/onecloud
$ make cmd/climc

<span class="c1"># 等待编译完成后，climc 在 _output/bin 目录下</span>
$ ls -alh _output/bin/climc
-rwxr-xr-x <span class="m">1</span> lzx lzx 25M Jul <span class="m">15</span> <span class="m">17</span>:10 _output/bin/climc</code></pre></div>
<p>可以根据自己的需要，将编译好的 climc 放到对应的目录，或者直接写 alias 对应到 $GOPATH/src/yunion.io/x/onecloud/_output/bin/climc 。</p>

<h2 id="使用">使用</h2>

<p>安装好 climc 后，可以将对应的可执行目录加入到 PATH 环境变量，下面假设 climc 所在的目录是 /opt/yunion/bin 。</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># 根据自己的需要加到 bash 或者 zsh 配置文件里面</span>
$ <span class="nb">echo</span> <span class="s1">&#39;export PATH=$PATH:/opt/yunion/bin&#39;</span> &gt;&gt; ~/.bashrc <span class="o">&amp;&amp;</span> <span class="nb">source</span> ~/.bashrc
$ climc --help</code></pre></div>
<h3 id="认证配置">认证配置</h3>

<p>climc 请求云平台后端服务的流程如下:</p>

<ol>
<li>通过配置信息，使用用户名密码从 keystone 获取 token</li>
<li>token 中包含了后端服务的 endpoint 地址</li>
<li>climc 将对应资源的 CURD 请求发往所属的后端服务</li>
</ol>

<p>所以在操作资源前，我们需要通过环境变量告诉 climc 想要操作的云平台。</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># 将认证信息保存到文件中，方便 source 使用</span>
$ cat <span class="s">&lt;&lt;EOF &gt; ~/test_rc_admin
</span><span class="s"># 用户名
</span><span class="s">export OS_USERNAME=sysadmin
</span><span class="s"># 用户密码
</span><span class="s">export OS_PASSWORD=***
</span><span class="s"># 用户所属项目
</span><span class="s">export OS_PROJECT_NAME=system
</span><span class="s"># keystone 认证地址
</span><span class="s">export OS_AUTH_URL=https://192.168.0.246:5000/v3
</span><span class="s"># 对应的 region
</span><span class="s">export OS_REGION_NAME=Beijing
</span><span class="s">EOF</span>

<span class="c1"># source 认证环境变量</span>
$ <span class="nb">source</span> ~/test_rc_admin

<span class="c1"># 查看虚拟机列表</span>
$ climc server-list</code></pre></div>
<p>注意: 如果执行 climc 时出现 <em>Error: Missing OS_AUTH_URL</em> 的错误提示时，请 source 或设置认证云平台的环境变量。</p>

<p>可以通过查看 climc 的版本号来获取构建的信息。</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ climc --version
Yunion API client version:
 <span class="o">{</span>
  <span class="s2">&#34;major&#34;</span>: <span class="s2">&#34;0&#34;</span>,
  <span class="s2">&#34;minor&#34;</span>: <span class="s2">&#34;0&#34;</span>,
  <span class="s2">&#34;gitVersion&#34;</span>: <span class="s2">&#34;v2.10.20190527.0-652-g80287c2e365949&#34;</span>,
  <span class="s2">&#34;gitBranch&#34;</span>: <span class="s2">&#34;feature/service-pprof&#34;</span>,
  <span class="s2">&#34;gitCommit&#34;</span>: <span class="s2">&#34;80287c2e3&#34;</span>,
  <span class="s2">&#34;gitTreeState&#34;</span>: <span class="s2">&#34;clean&#34;</span>,
  <span class="s2">&#34;buildDate&#34;</span>: <span class="s2">&#34;2019-07-15T09:10:07Z&#34;</span>,
  <span class="s2">&#34;goVersion&#34;</span>: <span class="s2">&#34;go1.12.7&#34;</span>,
  <span class="s2">&#34;compiler&#34;</span>: <span class="s2">&#34;gc&#34;</span>,
  <span class="s2">&#34;platform&#34;</span>: <span class="s2">&#34;linux/amd64&#34;</span>
<span class="o">}</span></code></pre></div>
<h3 id="运行模式">运行模式</h3>

<p>climc 有命令行运行和交互两种运行模式。</p>

<ul>
<li>命令行运行: 执行完对应的资源操作命令就退出，这种模式你知道自己在做什么，并且可以作为 bash function/script 的一部分。</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># 删除 server1, server2, server3</span>
<span class="k">for</span> id in server1 server2 server3<span class="p">;</span> <span class="k">do</span>
	climc server-update --delete <span class="nb">enable</span> <span class="nv">$id</span>
	climc server-delete <span class="nv">$id</span>
<span class="k">done</span></code></pre></div>
<ul>
<li>交互模式: 在 shell 输入 climc，就会进入交互模式，这种模式下有自动补全和参数提示。
<img src="images/climc-repl.png" alt="" /></li>
</ul>

<h3 id="子命令语法">子命令语法</h3>

<p>云平台有很多资源，对应 climc 的子命令, 比如 <code>climc server-list</code> 中的 <code>server-list</code> 就是子命令，可以查询虚拟机的列表。通用格式如下:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">&lt;Resource&gt;-&lt;Action&gt;: Resource 表示资源, Action 表示行为</code></pre></div>
<p>语法举例:</p>

<ul>
<li>server-delete: 删除虚拟机

<ul>
<li>server 是资源, delete 是行为</li>
</ul></li>
<li>host-list: 查询宿主机列表

<ul>
<li>host 是资源, list 是行为</li>
</ul></li>
</ul>

<p>CRUD 举例:</p>

<ul>
<li><em>C</em>: server-create, disk-create 创建资源</li>
<li><em>R</em>: server-show, disk-list 查询资源</li>
<li><em>U</em>: server-update, host-update 更新资源</li>
<li><em>D</em>: server-delete, image-delete 删除资源</li>
</ul>

<p>行为举例:</p>

<p><Resource>-<Action> 中的 Action 会对应资源的操作，不同的资源会根据可进行的操作进行命名。</p>

<ul>
<li>server-migrate: migrate 表示迁移虚拟机</li>
<li>server-change-config: change-config 表示调整虚拟机配置</li>
<li>host-ipmi: ipmi 表示查询宿主机的 IPMI 信息</li>
</ul>

<p>想要知道资源有哪些操作，可以进入交互模式补全查询。</p>

<h3 id="使用帮助-help">使用帮助 help</h3>

<p>climc 的子命令有很多参数，参数分为必填参数和可选参数，使用 <code>climc help &lt;subcommand&gt;</code> 这种格式，<strong>help</strong> 子命令会获取 <subcommand> 提供的参数和各个参数的解释。</p>

<p>比如我要查看 <code>image-upload</code> 命令的参数和解释:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ climc <span class="nb">help</span> image-upload
...
Upload a <span class="nb">local</span> image

Positional arguments:
    &lt;NAME&gt;
        Image Name
    &lt;FILE&gt;
        The <span class="nb">local</span> image filename to Upload

Optional arguments:
    <span class="o">[</span>--private<span class="o">]</span>
        Make image private
    <span class="o">[</span>--format <span class="o">{</span>raw,qcow2,iso,vmdk,docker,vhd<span class="o">}]</span>
        Image format
    <span class="o">[</span>--protected<span class="o">]</span>
...</code></pre></div>
<h3 id="高级过滤-filter">高级过滤 filter</h3>

<p>TODO</p>

<h3 id="debug-模式">Debug 模式</h3>

<p>如果想要知道 climc 操作资源时究竟和服务端发生了哪些请求，可以在子命令前面使用 <em>&ndash;debug</em> 参数，使用方式如下:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">climc --debug &lt;Resource&gt;-&lt;Action&gt;</code></pre></div>
<p>加上 &ndash;debug 参数后，终端会有彩色的输出提示，比如 <code>climc --debug server-list</code> 输出如下:</p>

<p><img src="images/climc-debug.png" alt="" /></p>

<p>其中 CURL 部分是可以直接粘贴出来在命令行执行的。</p>

<h4 id="颜色约定">颜色约定</h4>

<ul>
<li>Request 使用黄色</li>
<li>CURL 使用蓝绿色</li>
<li>根据状态码显示不同颜色，可参考代码: <a href="https://github.com/yunionio/onecloud/blob/master/pkg/util/httputils/httputils.go#L234">https://github.com/yunionio/onecloud/blob/master/pkg/util/httputils/httputils.go#L234</a></li>
</ul>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/howto/" title="操作管理"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/howto/image/" title="镜像" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1563543847"></script>
    <script src="/js/perfect-scrollbar.min.js?1563543847"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1563543847"></script>
    <script src="/js/jquery.sticky.js?1563543847"></script>
    <script src="/js/featherlight.min.js?1563543847"></script>
    <script src="/js/html5shiv-printshiv.min.js?1563543847"></script>
    <script src="/js/highlight.pack.js?1563543847"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1563543847"></script>
    <script src="/js/learn.js?1563543847"></script>
    <script src="/js/hugo-learn.js?1563543847"></script>

    <link href="/mermaid/mermaid.css?1563543847" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1563543847"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>
