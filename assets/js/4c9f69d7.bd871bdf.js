"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[2513],{54995:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>a});var s=i(74848),c=i(28453);const r={sidebar_position:1},l="\u4e0a\u4f20\u955c\u50cf",t={id:"guides/onpremise/glance/sysimage/upload",title:"\u4e0a\u4f20\u955c\u50cf",description:"\u4ecb\u7ecd\u5982\u4f55\u4e0a\u4f20\u81ea\u5b9a\u4e49\u955c\u50cf\u5230\u5e73\u53f0\u3002",source:"@site/docs/guides/onpremise/glance/sysimage/upload.md",sourceDirName:"guides/onpremise/glance/sysimage",slug:"/guides/onpremise/glance/sysimage/upload",permalink:"/guides/onpremise/glance/sysimage/upload",draft:!1,unlisted:!1,editUrl:"https://github.com/yunionio/website/tree/master/docs/guides/onpremise/glance/sysimage/upload.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"\u7cfb\u7edf\u955c\u50cf",permalink:"/guides/onpremise/glance/sysimage/"},next:{title:"\u5236\u4f5c\u955c\u50cf",permalink:"/guides/onpremise/glance/sysimage/create"}},o={},a=[{value:"\u83b7\u53d6\u955c\u50cf",id:"\u83b7\u53d6\u955c\u50cf",level:2},{value:"\u53d1\u884c\u7248\u955c\u50cf",id:"\u53d1\u884c\u7248\u955c\u50cf",level:3},{value:"\u5236\u4f5c\u955c\u50cf",id:"\u5236\u4f5c\u955c\u50cf",level:3},{value:"\u4e0a\u4f20\u955c\u50cf",id:"\u4e0a\u4f20\u955c\u50cf-1",level:2},{value:"Climc\u547d\u4ee4",id:"climc\u547d\u4ee4",level:3},{value:"\u5173\u95ed\u81ea\u52a8\u8f6c\u6362vmdk\u955c\u50cf",id:"turn-off-image-formats",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"\u4e0a\u4f20\u955c\u50cf",children:"\u4e0a\u4f20\u955c\u50cf"}),"\n",(0,s.jsx)(n.p,{children:"\u4ecb\u7ecd\u5982\u4f55\u4e0a\u4f20\u81ea\u5b9a\u4e49\u955c\u50cf\u5230\u5e73\u53f0\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\u83b7\u53d6\u955c\u50cf",children:"\u83b7\u53d6\u955c\u50cf"}),"\n",(0,s.jsx)(n.p,{children:"\u4e0a\u4f20\u955c\u50cf\u4e4b\u524d\u9700\u8981\u5148\u83b7\u53d6\u955c\u50cf\uff0c\u9014\u5f84\u6709\u591a\u79cd\uff0c\u6bd4\u5982\u4ece\u53d1\u884c\u7248\u5b98\u7f51\u4e0b\u8f7d\u7528\u4e8e\u4e91\u5e73\u53f0\u7684\u955c\u50cf\uff0c\u6216\u8005\u81ea\u5df1\u5236\u4f5c\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"\u53d1\u884c\u7248\u955c\u50cf",children:"\u53d1\u884c\u7248\u955c\u50cf"}),"\n",(0,s.jsxs)(n.p,{children:["\u6839\u636e\u81ea\u5df1\u5bf9\u53d1\u884c\u7248\u7684\u9700\u8981\u4e0b\u8f7d\u53d1\u884c\u7248\u955c\u50cf\uff0c\u5e38\u7528\u7684 Linux \u53d1\u884c\u7248\u4f1a\u63d0\u4f9b\u4e91\u5e73\u53f0\u865a\u62df\u673a\u4f7f\u7528\u7684\u955c\u50cf\uff0c\u53ef\u53c2\u8003",(0,s.jsx)(n.a,{href:"../common-image-url",children:"\u5e38\u7528\u7cfb\u7edf\u955c\u50cf"}),"\u83b7\u53d6\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u5236\u4f5c\u955c\u50cf",children:"\u5236\u4f5c\u955c\u50cf"}),"\n",(0,s.jsxs)(n.p,{children:["\u53c2\u8003: ",(0,s.jsx)(n.a,{href:"./create/",children:"\u5236\u4f5c\u955c\u50cf"})]}),"\n",(0,s.jsx)(n.h2,{id:"\u4e0a\u4f20\u955c\u50cf-1",children:"\u4e0a\u4f20\u955c\u50cf"}),"\n",(0,s.jsx)(n.p,{children:"\u4e0b\u8f7d\u6216\u8005\u5236\u4f5c\u5b8c\u955c\u50cf\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u754c\u9762\u64cd\u4f5c\u548cClimc\u547d\u4ee4\u884c\u7684\u5f62\u5f0f\u5c06\u955c\u50cf\u4e0a\u4f20\u5230\u5e73\u53f0\u7684 glance \u670d\u52a1\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"climc\u547d\u4ee4",children:"Climc\u547d\u4ee4"}),"\n",(0,s.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"climc image-upload"})," \u4e0a\u4f20\u5230\u4e91\u5e73\u53f0\u7684 glance \u670d\u52a1\uff0c\u4e0b\u9762\u4ee5\u4e0b\u8f7d CentOS \u63d0\u4f9b\u7684 CentOS-7-x86_64-GenericCloud-1711 \u4e3e\u4f8b:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u4e0b\u8f7d CentOS-7-x86_64-GenericCloud-1711.qcow2 \n$ wget http://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud-1711.qcow2\n\n# \u4e0a\u4f20\u955c\u50cf\u5230\u4e91\u5e73\u53f0\u5e76\u540d\u4e3a CentOS-7-x86_64-GenericCloud-1711.qcow2\n$ climc image-upload --format qcow2 --os-type Linux --os-arch x86_64 --standard CentOS-7-x86_64-GenericCloud-1711.qcow2 ./CentOS-7-x86_64-GenericCloud-1711.qcow2\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u4e0a\u4f20\u65f6\u95f4\u957f\u77ed\u53d6\u51b3\u4e8e\u7f51\u7edc\u73af\u5883\u548c\u955c\u50cf\u5927\u5c0f\uff0c\u4e0a\u4f20\u5b8c\u6210\u540e\u9700\u8981\u67e5\u8be2\u955c\u50cf\u7684\u72b6\u6001\uff0c\u5f53\u72b6\u6001\u53d8\u4e3a 'active' \u65f6\uff0c\u5c31\u53ef\u4ee5\u62ff\u6765\u4f7f\u7528\u4e86\u3002( \u66f4\u591a\u7684\u5173\u4e8e\u955c\u50cf\u7684\u67e5\u8be2\u53c2\u8003: ",(0,s.jsx)(n.a,{href:"./show/#%E6%9F%A5%E8%AF%A2%E9%95%9C%E5%83%8F",children:"\u955c\u50cf\u67e5\u8be2"})," )"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ climc image-show CentOS-7-x86_64-GenericCloud-1711.qcow2 | grep status\n| status          | active |\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"climc image-upload --help"})," \u83b7\u53d6\u5404\u4e2a\u53c2\u6570\u89e3\u91ca\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"turn-off-image-formats",children:"\u5173\u95ed\u81ea\u52a8\u8f6c\u6362vmdk\u955c\u50cf"}),"\n",(0,s.jsxs)(n.p,{children:["\u4e0a\u4f20\u4e4b\u540e\uff0c\u5e73\u53f0\u652f\u6301\u591a\u4e91\u955c\u50cf\uff0c\u9664ISO\u683c\u5f0f\u7684\u955c\u50cf\u5916\uff0c\u5176\u4ed6\u683c\u5f0f\u955c\u50cf\u5bfc\u5165\u5230\u5e73\u53f0\u65f6\u90fd\u4f1a\u8f6c\u6362\u62103\u4efd\u4e0d\u540c\u683c\u5f0f\u7684\u955c\u50cf\u3002\n\u5982\u679c\u955c\u50cf\u8f83\u5927\uff0c\u8f6c\u6362\u4f1a\u8017\u65f6\u8f83\u957f\u3002\u5982\u679c\u60a8\u4e0d\u4f7f\u7528vmware\uff0c\u53ef\u4ee5",(0,s.jsx)(n.code,{children:"climc service-config-edit glance"})," \u547d\u4ee4\uff0c\u5c06target_image_formats \u4fee\u6539\u4e3aqcow2 \u5373\u53ef\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  target_image_formats:\n  - qcow2\n"})})]})}function u(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>t});var s=i(96540);const c={},r=s.createContext(c);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);