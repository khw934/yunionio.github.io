<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Cloudpods –
编排</title><link>https://www.cloudpods.org//v3.9/zh/docs/web_ui/ops/orchestration/</link><description>Recent content in 编排 on Cloudpods</description><generator>Hugo -- gohugo.io</generator><language>zh</language><atom:link href="https://www.cloudpods.org//v3.9/zh/docs/web_ui/ops/orchestration/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: 虚拟机实例</title><link>https://www.cloudpods.org//v3.9/zh/docs/web_ui/ops/orchestration/vm-release/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org//v3.9/zh/docs/web_ui/ops/orchestration/vm-release/</guid><description>
&lt;p>虚拟机实例用于管理基于应用市场部署的虚拟机应用。&lt;/p>
&lt;p>&lt;strong>入口&lt;/strong>：在云管平台单击左上角&lt;img src="../../../images/intro/nav.png" alt="">导航菜单，在弹出的左侧菜单栏中单击 &lt;strong>&lt;em>&amp;ldquo;运维工具/编排/虚拟机实例&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入虚拟机实例页面。&lt;/p>
&lt;p>&lt;img src="../../../images/ops/vm-release1.png" alt="">&lt;/p>
&lt;h2 id="新建虚拟机实例">新建虚拟机实例&lt;/h2>
&lt;p>该功能用于部署虚拟机实例。&lt;/p>
&lt;ol>
&lt;li>在虚拟机实例页面，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，跳转到应用市场-虚拟机类型页面。&lt;/li>
&lt;li>在应用市场页面部署应用，具体步骤请参考&lt;a href="../k8s-chart/#%E9%83%A8%E7%BD%B2%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%9E%E4%BE%8B">应用市场-部署虚拟机实例&lt;/a>&lt;/li>
&lt;/ol>
&lt;h2 id="删除">删除&lt;/h2>
&lt;p>该功能用于删除发布的虚拟机实例。删除过程将同时删除虚拟机实例及通过编排创建的虚拟机。&lt;/p>
&lt;p>&lt;strong>单个删除&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在虚拟机实例页面，单击虚拟机实例右侧操作列 &lt;strong>&lt;em>&amp;ldquo;删除&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>批量删除&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在虚拟机实例列表中选择一个或多个虚拟机实例，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;删除&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;h2 id="查看虚拟机实例详情">查看虚拟机实例详情&lt;/h2>
&lt;p>该功能用于查看已发布的虚拟机实例的详细信息。&lt;/p>
&lt;ol>
&lt;li>在虚拟机实例页面，单击虚拟机实例名称项，进入部署发布页面。&lt;/li>
&lt;li>查看以下信息，包括ID、域、项目、名称、状态、应用、状态、应用、创建时间。&lt;/li>
&lt;li>虚拟机实例状态含义如下：
&lt;ul>
&lt;li>创建成功：表示已成功创建了虚拟机，但未部署应用。&lt;/li>
&lt;li>已部署：表示将部署编排提交到Kubernetes的Etcd，开始部署应用。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="查看部署的虚拟机信息">查看部署的虚拟机信息&lt;/h2>
&lt;p>该功能用于查看通过编排部署的虚拟机信息。&lt;/p>
&lt;ol>
&lt;li>在虚拟机实例页面，单击虚拟机实例名称项，进入部署发布页面。&lt;/li>
&lt;li>单击“虚拟机”页签，进入虚拟机页面。&lt;/li>
&lt;li>查看虚拟机的名称、状态、IP、弹性公网IP、CPU、内存等信息。&lt;/li>
&lt;/ol>
&lt;h2 id="查看任务信息">查看任务信息&lt;/h2>
&lt;p>该功能用于查看部署应用的输出日志。&lt;/p>
&lt;ol>
&lt;li>在虚拟机实例页面，单击虚拟机实例名称项，进入部署发布页面。&lt;/li>
&lt;li>单击“任务”页签，进入任务页面。&lt;/li>
&lt;li>查看虚拟机实例所有的编排任务。&lt;/li>
&lt;li>单击任务名称项，查看具体输出日志，日志可用于排查应用部署失败的原因等。&lt;/li>
&lt;/ol></description></item><item><title>Docs: 容器实例</title><link>https://www.cloudpods.org//v3.9/zh/docs/web_ui/ops/orchestration/k8s-release/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org//v3.9/zh/docs/web_ui/ops/orchestration/k8s-release/</guid><description>
&lt;p>容器实例用于管理基于应用市场部署的容器应用。&lt;/p>
&lt;p>&lt;strong>入口&lt;/strong>：在云管平台单击左上角&lt;img src="../../../images/intro/nav.png" alt="">导航菜单，在弹出的左侧菜单栏中单击 &lt;strong>&lt;em>&amp;ldquo;运维工具/编排/容器实例&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入容器实例页面。&lt;/p>
&lt;p>&lt;img src="../../../images/ops/k8s-release1.png" alt="">&lt;/p>
&lt;h2 id="新建容器实例">新建容器实例&lt;/h2>
&lt;p>该功能用于部署容器实例。&lt;/p>
&lt;ol>
&lt;li>在容器实例页面，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，跳转到应用市场-容器类型页面。&lt;/li>
&lt;li>在应用市场页面部署应用，具体步骤请参考&lt;a href="../k8s-chart/#%E9%83%A8%E7%BD%B2%E5%AE%B9%E5%99%A8%E5%AE%9E%E4%BE%8B">应用市场-部署虚拟机实例&lt;/a>&lt;/li>
&lt;/ol>
&lt;h2 id="删除容器实例">删除容器实例&lt;/h2>
&lt;p>该功能用于删除发布的容器实例，删除容器实例时将同步删除应用相关资源，如无状态、配置项、保密字典等。&lt;/p>
&lt;p>&lt;strong>单个删除&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在容器实例页面，单击容器实例右侧操作列 &lt;strong>&lt;em>&amp;ldquo;删除&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>批量删除&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在容器实例列表中选择一个或多个容器实例，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;删除&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;h2 id="查看容器实例详情">查看容器实例详情&lt;/h2>
&lt;p>该功能用于查看发布的容器实例的详情信息。&lt;/p>
&lt;ol>
&lt;li>在容器实例页面，单击容器实例名称项，进入容器实例详情页面。&lt;/li>
&lt;li>查看以下信息，包括ID、域、项目、名称、状态、应用、状态、应用、创建时间。&lt;/li>
&lt;li>容器实例状态含义如下：
&lt;ul>
&lt;li>创建成功：表示已成功创建容器，但未部署应用。&lt;/li>
&lt;li>已部署：表示将部署编排提交到Kubernetes的Etcd，开始部署应用。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="查看容器实例相关资源信息">查看容器实例相关资源信息&lt;/h2>
&lt;p>该功能用于查看通过编排创建的的无状态（deployment）、配置项（configmap）、保密字典（Secret）、服务账户（ServiceAccount）等信息。&lt;/p>
&lt;ol>
&lt;li>在容器实例页面，单击容器实例名称项，进入容器实例详情页面。&lt;/li>
&lt;li>不同的应用创建的资源不同，请根据实际情况查看对应的资源信息。&lt;/li>
&lt;/ol></description></item><item><title>Docs: 应用市场</title><link>https://www.cloudpods.org//v3.9/zh/docs/web_ui/ops/orchestration/k8s-chart/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org//v3.9/zh/docs/web_ui/ops/orchestration/k8s-chart/</guid><description>
&lt;p>应用市场显示Helm仓库中的应用软件包，类似于apt的Deb包或yum的RPM包，软件包中包含了定义资源应用的yaml文件。在应用市场部署应用之前请确保已添加了对应类型的Helm仓库。Cloudpods平台以Helm仓库的形式实现了虚拟机编排，快速部署虚拟机应用。&lt;/p>
&lt;p>&lt;strong>入口&lt;/strong>：在云管平台单击左上角&lt;img src="../../../images/intro/nav.png" alt="">导航菜单，在弹出的左侧菜单栏中单击 &lt;strong>&lt;em>&amp;ldquo;运维工具/编排/应用市场&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入应用市场页面。&lt;/p>
&lt;p>&lt;img src="../../../images/ops/k8s-chart1.png" alt="">&lt;/p>
&lt;h2 id="helm相关概念了解">Helm相关概念了解&lt;/h2>
&lt;p>Helm是Kubernetes的软件包管理工具，有点类似Linux操作系统中的“apt-get”和“yum”，更多介绍内容请参考&lt;a href="https://helm.sh/">Helm官方文档&lt;/a>。&lt;/p>
&lt;p>Helm帮助应用开发者打包应用处理依赖关系，管理应用程序并发布到软件仓库。Helm使用者不需要了解Kubernetes的yaml语法编写复杂的配置文件，可以轻松的通过Helm部署Kubernetes应用等。&lt;/p>
&lt;ul>
&lt;li>Helm：Helm是一个命令行下的客户端工具。主要用于Kubernetes应用程序Chart的创建、打包、发布以及创建和管理本地和远程的Chart仓库。&lt;/li>
&lt;li>Chart：Helm的软件包，采用TAR格式。类似于APT的DEB包或者YUM的RPM包，其包含了一组定义 Kubernetes资源相关的yaml文件。&lt;/li>
&lt;li>Release：使用Helm在Kubernetes集群中部署的Chart。&lt;/li>
&lt;/ul>
&lt;h2 id="部署虚拟机实例">部署虚拟机实例&lt;/h2>
&lt;p>该功能用于在虚拟机类型的应用市场快速部署虚拟机实例应用。部署的虚拟机实例应用可在&lt;a href="../vm-release">&lt;/a>中进行管理。&lt;/p>
&lt;p>部署虚拟机之前请在镜像市场导入“CentOS-7.6.1810-20190430.qcow2”。否则无法成功创建虚拟机实例。&lt;/p>
&lt;ol>
&lt;li>在应用市场页面，类型选择“虚拟机类型”，并选择对应仓库名称。&lt;/li>
&lt;li>当应用较多时，请在搜索输入框中设置应用名称进行搜索。&lt;/li>
&lt;li>单击应用模块上的 &lt;strong>&lt;em>&amp;ldquo;部署&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入部署应用页面。&lt;/li>
&lt;li>配置以下信息：
&lt;ul>
&lt;li>名称：应用发布的名称。&lt;/li>
&lt;li>商店-模板版本：选择在商店里应用模板的版本。&lt;/li>
&lt;li>资源归属项目：选择应用部署的虚拟机实例所属的项目。&lt;/li>
&lt;li>表单配置：
&lt;ul>
&lt;li>平台：选择虚拟机实例所属平台。&lt;/li>
&lt;li>区域：选择虚拟机实例所在区域。&lt;/li>
&lt;li>可用区：选择虚拟机实例所在可用区。&lt;/li>
&lt;li>VPC：选择虚拟机实例所在VPC。&lt;/li>
&lt;li>网络：选择虚拟机实例所属IP子网。当选择Cloudpods平台VPC网络的IP子网时，将会自动为虚拟机创建弹性公网IP。&lt;/li>
&lt;li>套餐：选择虚拟机实例的套餐，通过套餐可以确定CPU和内存配置等。&lt;/li>
&lt;li>存储类型：选择磁盘的存储类型。&lt;/li>
&lt;li>磁盘大小：设置磁盘的容量大小。&lt;/li>
&lt;li>应用配置：不同应用配置不同，请根据实际情况进行设置。&lt;/li>
&lt;li>InfluxDB数据库名称：设置InfluxDB数据的名称。&lt;/li>
&lt;li>InfluxDB数据库地址：用于监控数据上传通道，Cloudpods平台的InfluxDB部署在控制节点上，格式为https://控制节点IP地址:30086。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>详细描述：用于查看应用的详细介绍信息。&lt;/li>
&lt;li>YAML模板：支持预览应用的模板文件的信息。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，将跳转到虚拟机实例页面。&lt;/li>
&lt;li>部署过程中将先创建虚拟机再部署应用。&lt;/li>
&lt;li>虚拟机实例状态含义如下：
&lt;ul>
&lt;li>创建成功：表示已成功创建了虚拟机，但未部署应用。&lt;/li>
&lt;li>已部署：表示将部署编排提交到Kubernetes的Etcd，开始部署应用。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="部署容器实例">部署容器实例&lt;/h2>
&lt;p>该功能用于在容器类型的应用市场快速部署容器应用。部署的容器实例应用可在&lt;a href="../k8s-release">容器实例&lt;/a>中进行管理。&lt;/p>
&lt;ol>
&lt;li>在应用市场页面，类型选择“容器类型”，并选择对应仓库名称。&lt;/li>
&lt;li>当应用较多时，请在搜索输入框中设置应用名称进行搜索。&lt;/li>
&lt;li>单击应用模块上的 &lt;strong>&lt;em>&amp;ldquo;部署&amp;rdquo;&lt;/em>&lt;/strong> 按钮，进入部署应用页面。&lt;/li>
&lt;li>配置以下信息：
&lt;ul>
&lt;li>名称：应用发布的名称。&lt;/li>
&lt;li>商店-模板版本：选择在商店里应用模板的版本。&lt;/li>
&lt;li>集群：选择应用要部署的集群。&lt;/li>
&lt;li>命名空间：选择命名空间。&lt;/li>
&lt;li>表单配置：支持以yaml文件或键值对的形式补充参数或对配置进行修改。&lt;/li>
&lt;li>详细描述：用于查看应用的详细介绍信息。&lt;/li>
&lt;li>YAML模板：支持预览应用的模板文件的信息。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，将跳转到容器实例页面。&lt;/li>
&lt;li>部署过程中将先部署容器再在容器中部署应用。&lt;/li>
&lt;li>容器实例状态含义如下：
&lt;ul>
&lt;li>创建成功：表示已成功创建容器，但未部署应用。&lt;/li>
&lt;li>已部署：表示将部署编排提交到Kubernetes的Etcd，开始部署应用。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol></description></item><item><title>Docs: Helm仓库</title><link>https://www.cloudpods.org//v3.9/zh/docs/web_ui/ops/orchestration/k8s-repo/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org//v3.9/zh/docs/web_ui/ops/orchestration/k8s-repo/</guid><description>
&lt;p>Helm仓库用于存储虚拟机和容器应用等。&lt;/p>
&lt;p>&lt;strong>入口&lt;/strong>：在云管平台单击左上角&lt;img src="../../../images/intro/nav.png" alt="">导航菜单，在弹出的左侧菜单栏中单击 &lt;strong>&lt;em>&amp;ldquo;运维工具/编排/Helm仓库&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入Helm仓库页面。&lt;/p>
&lt;p>&lt;img src="../../../images/ops/k8s-repo.png" alt="">&lt;/p>
&lt;h2 id="新建helm仓库">新建Helm仓库&lt;/h2>
&lt;p>该功能用于对接Helm仓库。&lt;/p>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
&lt;p>推荐使用的Helm仓库的URL：&lt;/p>
&lt;ul>
&lt;li>虚拟机Helm仓库：https://cloudpods-charts.oss-cn-hongkong.aliyuncs.com/&lt;/li>
&lt;li>容器Helm仓库：http://mirror.azure.cn/kubernetes/charts/&lt;/li>
&lt;/ul>
&lt;/div>
&lt;ol>
&lt;li>在Helm仓库页面，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出新建Helm仓库对话框。&lt;/li>
&lt;li>设置以下参数：
&lt;ul>
&lt;li>名称：设置Helm仓库的名称。&lt;/li>
&lt;li>指定域：设置Helm仓库所属的域。&lt;/li>
&lt;li>URL：设置Helm仓库的URL路径。&lt;/li>
&lt;li>类型：设置Helm仓库适用的资源类型，包括虚拟机类型和容器类型。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;h2 id="设置共享">设置共享&lt;/h2>
&lt;p>该功能用于设置Helm仓库的共享范围。&lt;/p>
&lt;p>域资源的共享范围有三种：&lt;/p>
&lt;ul>
&lt;li>不共享（私有）：即域资源只能本域的用户可以使用。&lt;/li>
&lt;li>域共享-部分（多域共享）：即域资源可以共享到指定域（一个或多个），只有域资源所在域和共享域下的用户可以使用域资源。&lt;/li>
&lt;li>域共享-全部（全局共享）：即域资源可以共享给全部域使用，即系统中所有用户都可以使用域资源。&lt;/li>
&lt;/ul>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">说明&lt;/h4>
&lt;p>设置共享的条件：需同时满足&lt;/p>
&lt;ul>
&lt;li>当前用户在管理后台。&lt;/li>
&lt;li>在Cloudpods已开启三级权限。&lt;/li>
&lt;/ul>
&lt;/div>
&lt;p>&lt;strong>单个设置共享&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在Helm仓库页面，单击Helm仓库右侧操作列 &lt;strong>&lt;em>&amp;ldquo;设置共享&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出设置共享对话框。&lt;/li>
&lt;li>配置以下参数：
&lt;ul>
&lt;li>当共享范围选择为“不共享”时，即域资源的共享范围为私有，仅本域的用户可以使用。&lt;/li>
&lt;li>当共享范围选择为“域共享”时，需要选择共享的域。
&lt;ul>
&lt;li>当域选择其中的一个或多个域时，即域资源的共享范围为域共享-部分，只有域资源所在域和共享域下的用户可以使用域资源。&lt;/li>
&lt;li>当域选择全部时，即域资源的共享范围为域共享-全部，系统中的所有用户都可以使用域资源。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;h2 id="删除">删除&lt;/h2>
&lt;p>该功能用于删除Helm仓库，当Helm仓库中的发布数量为0时，即仓库中的应用没有被发布时才可以被删除。&lt;/p>
&lt;p>&lt;strong>单个删除&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在Helm仓库页面，单击Helm仓库右侧操作列 &lt;strong>&lt;em>&amp;ldquo;删除&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>批量删除&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>在Helm仓库列表中选择一个或多个Helm仓库，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;删除&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出操作确认对话框。&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮，完成操作。&lt;/li>
&lt;/ol></description></item></channel></rss>