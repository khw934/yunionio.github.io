"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[4769],{24766:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>l});var i=n(85893),c=n(11151);const s={sidebar_position:-3412},d="v3.4.12",r={id:"development/changelog/release-3_4/3-4-12",title:"v3.4.12",description:"Released at 2020-12-29 0323",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/development/changelog/release-3_4/3-4-12.md",sourceDirName:"development/changelog/release-3_4",slug:"/development/changelog/release-3_4/3-4-12",permalink:"/en/docs/development/changelog/release-3_4/3-4-12",draft:!1,unlisted:!1,editUrl:"https://github.com/yunionio/website/tree/master/docs/development/changelog/release-3_4/3-4-12.md",tags:[],version:"current",sidebarPosition:-3412,frontMatter:{sidebar_position:-3412},sidebar:"tutorialSidebar",previous:{title:"v3.4.13",permalink:"/en/docs/development/changelog/release-3_4/3-4-13"},next:{title:"v3.4.11",permalink:"/en/docs/development/changelog/release-3_4/3-4-11"}},t={},l=[{value:"cloudpods",id:"cloudpods",level:2},{value:"Bug Fixes (23)",id:"bug-fixes-23",level:3},{value:"Code Refactoring (6)",id:"code-refactoring-6",level:3},{value:"Feature (1)",id:"feature-1",level:3},{value:"Features (4)",id:"features-4",level:3}];function a(e){const o={a:"a",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,c.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.h1,{id:"v3412",children:"v3.4.12"}),"\n",(0,i.jsx)(o.p,{children:"Released at 2020-12-29 03:01:23"}),"\n",(0,i.jsx)(o.hr,{}),"\n",(0,i.jsx)(o.h2,{id:"cloudpods",children:"cloudpods"}),"\n",(0,i.jsxs)(o.p,{children:["Repo: ",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods",children:"https://github.com/yunionio/cloudpods"})]}),"\n",(0,i.jsxs)(o.p,{children:["34 commits to ",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/compare/v3.4.11...v3.4.12",children:"cloudpods - v3.4.12"})," since this release."]}),"\n",(0,i.jsx)(o.h3,{id:"bug-fixes-23",children:"Bug Fixes (23)"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"baremetal:"})," clear jbod disks do PDMakeGood (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/ec5995da4bba9816ef65223742e5820dce6ffcea",children:"ec5995da4b"}),", ",(0,i.jsx)(o.a,{href:"mailto:zexi.li@qq.com",children:"Zexi Li"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"cloudevent,devtool:"})," missing metadata table (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/df7d68e4040d39584ebc59e20c409687d0f4f9ea",children:"df7d68e404"}),", ",(0,i.jsx)(o.a,{href:"mailto:qiujian@yunionyun.com",children:"Qiu Jian"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"host:"})," telegraf listen on local ipv4 address explicitly (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/c3fd4937d3db936ec0d828a6248ac58f395c8b54",children:"c3fd4937d3"}),", ",(0,i.jsx)(o.a,{href:"mailto:qiujian@yunionyun.com",children:"Qiu Jian"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"host:"})," add print migrate progress info (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/cf8b548392216b441462d9f1c3e44b3df991f7f4",children:"cf8b548392"}),", ",(0,i.jsx)(o.a,{href:"mailto:wanyaoqi@yunionyun.com",children:"wanyaoqi"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"keystone:"})," always upload&refresh service config whenever service restart (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/9561c0c8d4bdfff1cb92948aa7807d0dc3c9c7e5",children:"9561c0c8d4"}),", ",(0,i.jsx)(o.a,{href:"mailto:qiujian@yunionyun.com",children:"Qiu Jian"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"mcclient:"})," options: webconsole: fix passing ssh port (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/2add6fc1f507e05bc867d34ca2622e070506454c",children:"2add6fc1f5"}),", ",(0,i.jsx)(o.a,{href:"mailto:zhouyousong@yunionyun.com",children:"Yousong Zhou"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"monitor:"})," other servier create alert add used_by param as a agreement (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/b01a477cb26eaa9183c9284042b80726d9606d4f",children:"b01a477cb2"}),", ",(0,i.jsx)(o.a,{href:"mailto:1422928955@qq.com",children:"--global"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"region:"})," add huawei gpssd desc (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/1ec3d6ddf0450b5b1e845a13a2b59a534d6b7202",children:"1ec3d6ddf0"}),", ",(0,i.jsx)(o.a,{href:"mailto:quxuan@yunionyun.com",children:"Qu Xuan"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"region:"})," optimized disk allocate sched failed log (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/cd9b632d08db47a170d3c214846db1a66f6bad67",children:"cd9b632d08"}),", ",(0,i.jsx)(o.a,{href:"mailto:quxuan@yunionyun.com",children:"Qu Xuan"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"region:"})," guestnetworks: use net calculated mtu (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/995b24c319c51f3e1a6a219e425438e251346958",children:"995b24c319"}),", ",(0,i.jsx)(o.a,{href:"mailto:zhouyousong@yunionyun.com",children:"Yousong Zhou"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"region:"})," fix openstack instance os type (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/db60e37c4dd5f3c8143b9b6e5af06f467c9cc4d5",children:"db60e37c4d"}),", ",(0,i.jsx)(o.a,{href:"mailto:quxuan@yunionyun.com",children:"Qu Xuan"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"region:"})," lbbackend: better error reporting for finding influxdb info (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/4ac56f7fc3f4d187bf069ed5e47975fd0928af70",children:"4ac56f7fc3"}),", ",(0,i.jsx)(o.a,{href:"mailto:zhouyousong@yunionyun.com",children:"Yousong Zhou"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"region:"})," eip_allocate_task: set eip status allocate_fail on task failure (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/5b0247a35f75d76e2d4f04dc9c9b8ca17bce4967",children:"5b0247a35f"}),", ",(0,i.jsx)(o.a,{href:"mailto:zhouyousong@yunionyun.com",children:"Yousong Zhou"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"region:"})," openstack network is regional (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/869744d1bbf16dce54c3c6869648017f978f9324",children:"869744d1bb"}),", ",(0,i.jsx)(o.a,{href:"mailto:quxuan@yunionyun.com",children:"Qu Xuan"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"region:"})," guest to create input keep billing info (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/35c0e52de94af47183e27671f3f0c418d41160d6",children:"35c0e52de9"}),", ",(0,i.jsx)(o.a,{href:"mailto:wanyaoqi@yunionyun.com",children:"wanyaoqi"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"region:"})," do not change disk status on migrating (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/a898d76094d9ad3dcf50cbb9c152db0a1fedf71f",children:"a898d76094"}),", ",(0,i.jsx)(o.a,{href:"mailto:wanyaoqi@yunionyun.com",children:"wanyaoqi"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"region:"})," sync servers (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/c069179adc75d7aded7d55355189ae45a9f47f1b",children:"c069179adc"}),", ",(0,i.jsx)(o.a,{href:"mailto:quxuan@yunionyun.com",children:"Qu Xuan"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"region,baremetal:"})," choose candidate network not according by types (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/3da4dd195322922d0e2eb73d57ac1bd0d257f1da",children:"3da4dd1953"}),", ",(0,i.jsx)(o.a,{href:"mailto:zexi.li@qq.com",children:"Zexi Li"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"region,baremetal:"})," pxe net reuse converted server access ip (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/014170e74a21cd82db71099844bb4684e342859c",children:"014170e74a"}),", ",(0,i.jsx)(o.a,{href:"mailto:zexi.li@qq.com",children:"Zexi Li"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"region,climc:"})," eips: rename arg name for requested eip addr (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/62c39c62cdd62ee78542739f8ea2d77538710031",children:"62c39c62cd"}),", ",(0,i.jsx)(o.a,{href:"mailto:zhouyousong@yunionyun.com",children:"Yousong Zhou"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"scheduler:"})," remove unused k8s extender (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/da66f265039979399da8eeb1796b4109acaf1d23",children:"da66f26503"}),", ",(0,i.jsx)(o.a,{href:"mailto:zexi.li@qq.com",children:"Zexi Li"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"scheduler:"})," storage predicate add actualCapacity filter (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/5bce2bd959bfe4d802edeba4501b1591d47f8ec4",children:"5bce2bd959"}),", ",(0,i.jsx)(o.a,{href:"mailto:zexi.li@qq.com",children:"Zexi Li"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"taskman:"})," use admin token if task userCred token expired (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/70d2e5c84defcbec914180e9ca509c2fa82f14a1",children:"70d2e5c84d"}),", ",(0,i.jsx)(o.a,{href:"mailto:qiujian@yunionyun.com",children:"Qiu Jian"}),")"]}),"\n"]}),"\n",(0,i.jsx)(o.h3,{id:"code-refactoring-6",children:"Code Refactoring (6)"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"climc:"})," webconsole: use helper methods of response struct (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/45eda7c7034edbd603d5db072155200ed7c11f23",children:"45eda7c703"}),", ",(0,i.jsx)(o.a,{href:"mailto:zhouyousong@yunionyun.com",children:"Yousong Zhou"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"host:"})," startvm: for compat (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/f2e3766bee08732311bbdc2493f195b69d142dbf",children:"f2e3766bee"}),", ",(0,i.jsx)(o.a,{href:"mailto:zhouyousong@yunionyun.com",children:"Yousong Zhou"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"host:"})," startvm: nic_speed: use raw string (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/2154e7c18bc27b9b0625113dca4b54d4f91b0478",children:"2154e7c18b"}),", ",(0,i.jsx)(o.a,{href:"mailto:zhouyousong@yunionyun.com",children:"Yousong Zhou"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"host:"})," startvm: add QEMU_CMD_KVM_ARG (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/27dc7b6296233bf175c77695efbe6ffb9ce6cf30",children:"27dc7b6296"}),", ",(0,i.jsx)(o.a,{href:"mailto:zhouyousong@yunionyun.com",children:"Yousong Zhou"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"webconsole:"})," api: add helper methods for response struct (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/85008a7b0c8cb7ac6df197fa00d536289565b408",children:"85008a7b0c"}),", ",(0,i.jsx)(o.a,{href:"mailto:zhouyousong@yunionyun.com",children:"Yousong Zhou"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"webconsole:"})," use structured response (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/2f9cfae375102a01219ff14263ba6fac5401a9e6",children:"2f9cfae375"}),", ",(0,i.jsx)(o.a,{href:"mailto:zhouyousong@yunionyun.com",children:"Yousong Zhou"}),")"]}),"\n"]}),"\n",(0,i.jsx)(o.h3,{id:"feature-1",children:"Feature (1)"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"climc:"})," policy save data into file (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/9cdd7dd2daf7b2bf6311a429030614bb35233f91",children:"9cdd7dd2da"}),", ",(0,i.jsx)(o.a,{href:"mailto:qiujian@yunionyun.com",children:"Qiu Jian"}),")"]}),"\n"]}),"\n",(0,i.jsx)(o.h3,{id:"features-4",children:"Features (4)"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"apis:"})," add const VPC_OVN_ENCAP_COST (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/208a49e3d4e9676b9cc9f59e72bdceb1683b4263",children:"208a49e3d4"}),", ",(0,i.jsx)(o.a,{href:"mailto:zhouyousong@yunionyun.com",children:"Yousong Zhou"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"host:"})," startvm: set vpc nic mtu (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/c8388cab1aaf78e893c6fef793b1d6d7dda5e686",children:"c8388cab1a"}),", ",(0,i.jsx)(o.a,{href:"mailto:zhouyousong@yunionyun.com",children:"Yousong Zhou"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"host:"})," startvm: add nic_mtu shell func (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/45b538bd2a0311cf36c04cf032f265571a365d5b",children:"45b538bd2a"}),", ",(0,i.jsx)(o.a,{href:"mailto:zhouyousong@yunionyun.com",children:"Yousong Zhou"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"region:"})," networks: add getMtu method (",(0,i.jsx)(o.a,{href:"https://github.com/yunionio/cloudpods/commit/82e1234ed43302cfbe4f8d24eacb25ceb49e1ff8",children:"82e1234ed4"}),", ",(0,i.jsx)(o.a,{href:"mailto:zhouyousong@yunionyun.com",children:"Yousong Zhou"}),")"]}),"\n"]})]})}function h(e={}){const{wrapper:o}={...(0,c.a)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},11151:(e,o,n)=>{n.d(o,{Z:()=>r,a:()=>d});var i=n(67294);const c={},s=i.createContext(c);function d(e){const o=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:d(e.components),i.createElement(s.Provider,{value:o},e.children)}}}]);