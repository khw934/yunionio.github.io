"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[9220],{51041:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>o});var i=t(74848),s=t(28453);const o=[];function r(e){const n={a:"a",li:"li",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Operating System: Supported distributions vary depending on CPU architecture. The current situation of supported distributions is as follows:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"http://isoredirect.centos.org/centos/7/isos",children:"CentOS 7.6~7.9 Minimal"}),": Supports x86_64 and arm64"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.debian.org/distrib/",children:"Debian 10/11"}),": Supports x86_64 and arm64"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://releases.ubuntu.com/jammy/",children:"Ubuntu 22.04"}),": Supports only x86_64"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.kylinos.cn/scheme/server/1.html",children:"Kylin V10 SP2"}),": Supports x86_64 and arm64"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.chinauos.com/",children:"Deepin UOS kongzi"}),": Supports x86_64 and arm64"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"The operating system needs to be a clean version, as the deployment tool will build the specified version of Kubernetes cluster from scratch. Ensure that the system does not have container management tools such as Kubernetes and Docker installed, otherwise conflicts may occur and cause installation abnormalities."}),"\n",(0,i.jsx)(n.li,{children:"Minimum system requirements: CPU 4 cores, 8GiB memory, 100GiB storage."}),"\n",(0,i.jsxs)(n.li,{children:["The storage paths used by virtual machines and services are both under ",(0,i.jsx)(n.strong,{children:"/opt"})," directory. Thus, it is recommended to set up a separate mount point for the ",(0,i.jsx)(n.strong,{children:"/opt"})," directory in an ideal environment.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"For example, create a separate partition for /dev/sdb1 and format it as ext4, then mount it to the /opt directory through /etc/fstab."}),"\n"]}),"\n"]}),"\n"]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(r,{...e})}):r(e)}},38700:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>T,contentTitle:()=>I,default:()=>V,frontMatter:()=>k,metadata:()=>A,toc:()=>S});var i=t(74848),s=t(28453),o=t(51041),r=t(11470),a=t(19365);function l(e){const n={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["First, you need to install ansible and git. The minimum required version of Ansible is ",(0,i.jsx)(n.code,{children:"2.11.12"}),"."]}),"\n",(0,i.jsxs)(r.A,{children:[(0,i.jsx)(a.A,{value:"CentOS 7",label:"CentOS 7",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install ansible and git locally\n$ yum install -y epel-release git python3-pip\n$ python3 -m pip install --upgrade pip setuptools wheel\n$ python3 -m pip install 'ansible<=9.0.0'\n"})})}),(0,i.jsxs)(a.A,{value:"Debian 10/11",label:"Debian 10/11",children:[(0,i.jsxs)(n.p,{children:["If you receive an error related to ",(0,i.jsx)(n.code,{children:"locale"}),", please execute:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"if ! grep -q '^en_US.UTF-8' /etc/locale.gen; then\n    echo 'en_US.UTF-8 UTF-8' >> /etc/locale.gen\n    locale-gen\n    echo 'LANG=\"en_US.UTF-8\"' >> /etc/default/locale\n    source /etc/default/locale\nfi\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install ansible and git locally\n$ apt install -y git python3-pip\n$ python3 -m pip install --upgrade pip setuptools wheel\n$ python3 -m pip install 'ansible<=9.0.0'\n"})}),(0,i.jsxs)(n.p,{children:["Note: In the ",(0,i.jsx)(n.code,{children:"Debian 11"})," environment, if systemd.unified_cgroup_hierarchy=0 is not found in ",(0,i.jsx)(n.code,{children:"/proc/cmdline"}),", ocboot will automatically configure the relevant GRUB options, rebuild the startup parameters, and restart the operating system so that ",(0,i.jsx)(n.code,{children:"k8s"})," can be launched normally."]})]}),(0,i.jsx)(a.A,{value:"Kylin V10",label:"Kylin V10",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install ansible and git locally\n$ yum install -y git python3-pip\n$ python3 -m pip install --upgrade pip setuptools wheel\n$ python3 -m pip install 'ansible<=9.0.0'\n"})})}),(0,i.jsx)(a.A,{value:"Other Operating Systems",label:"Other Operating Systems",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install ansible locally\n$ python3 -m pip install --upgrade pip setuptools wheel\n$ python3 -m pip install 'ansible<=9.0.0'\n"})})})]})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}var d=t(41571),h=t(14902),u=t(21312);function p(e){const n=(0,u.T)({id:"OcbootRun.runChinaAliRegComment",message:"# \u76f4\u63a5\u90e8\u7f72\uff0c\u4f1a\u4ece registry.cn-beijing.aliyuncs.com \u62c9\u53d6\u5bb9\u5668\u955c\u50cf"}),t=(0,u.T)({id:"OcbootRun.runChinaPip",message:"# \u5982\u679c\u9047\u5230 pip \u5b89\u88c5\u5305\u4e0b\u8f7d\u8fc7\u6162\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u7528 -m \u53c2\u6570\u6307\u5b9a pip \u6e90\n# \u6bd4\u5982\u4e0b\u9762\u4f7f\u7528: https://mirrors.aliyun.com/pypi/simple/ \u6e90"}),s=(0,u.T)({id:"OcbootRun.otherRegionHint",message:"\u5bf9\u4e8e\u67d0\u4e9b\u7f51\u7edc\u73af\u5883\uff0c\u5982\u679c\u51fa\u73b0 registry.cn-beijing.aliyuncs.com \u8bbf\u95ee\u7f13\u6162\u6216\u4e0d\u53ef\u8fbe\uff0c\u53ef\u6307\u5b9a\u955c\u50cf\u6e90: docker.io/yunion \u6765\u5b89\u88c5\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a"});return(0,i.jsx)("div",{children:(0,i.jsxs)(r.A,{children:[(0,i.jsx)(a.A,{value:(0,u.T)({message:"\u4e2d\u56fd\u5927\u9646"}),label:(0,u.T)({message:"\u4e2d\u56fd\u5927\u9646"}),children:(0,i.jsx)(h.A,{language:"bash",children:n+`\n$ ./run.py ${e.productVersion} <host_ip>\n\n`+t+`\n$ ./run.py -m https://mirrors.aliyun.com/pypi/simple/ ${e.productVersion} <host_ip>`})}),(0,i.jsxs)(a.A,{value:(0,u.T)({message:"\u5176\u4ed6\u5730\u533a"}),label:(0,u.T)({message:"\u5176\u4ed6\u5730\u533a"}),children:[(0,i.jsx)("p",{children:s}),(0,i.jsx)(h.A,{language:"bash",children:`IMAGE_REPOSITORY=docker.io/yunion ./run.py ${e.productVersion} <host_ip>`})]})]})})}function m(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["The deployment tool is available at ",(0,i.jsx)(n.a,{href:"https://github.com/yunionio/ocboot",children:"https://github.com/yunionio/ocboot"}),". You need to clone the tool using ",(0,i.jsx)(n.code,{children:"git clone"})," and then run the ",(0,i.jsx)(n.code,{children:"run.py"})," script to deploy the service. The following is the operation steps:"]}),"\n",(0,i.jsx)(d.A,{}),"\n",(0,i.jsxs)(n.p,{children:["Next, execute the ",(0,i.jsx)(n.code,{children:"run.py"})," script to deploy the service. The ",(0,i.jsx)(n.strong,{children:"host_ip"})," parameter is the IP address of the deployment node, which is optional. If not specified, the service will be deployed using the default route. If your node has multiple network cards, you can specify ",(0,i.jsx)(n.strong,{children:"host_ip"})," to select the corresponding network card to listen to the service."]}),"\n","\n",(0,i.jsx)(p,{productVersion:e.productVersion}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"./run.py"})," script will call the ansible to deploy the service. If the deployment process encounters problems that cause the script to exit, you can repeat the script to retry."]}),"\n",(0,i.jsx)(n.admonition,{title:"Note",type:"tip",children:(0,i.jsx)(n.p,{children:"If you are deploying based on the CentOS 7 distribution, there will be one restart caused by the kernel. The ./run.py script will be interrupted. Please wait for the operating system to restart, then execute the ./run.py script again to perform the subsequent steps."})}),"\n",(0,i.jsx)(n.h2,{id:"deployment-complete",children:"Deployment Complete"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"....\n# After completing the deployment, the following output will be displayed, indicating a successful run\n# Open https://10.168.26.216 in the browser, where the ip is set to <host_ip>\n# You can access the front-end interface by logging in with admin/admin@123\nInitialized successfully!\nWeb page: https://10.168.26.216\nUser: admin\nPassword: admin@123\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Then use a browser to access ",(0,i.jsx)(n.a,{href:"https://10.168.26.216",children:"https://10.168.26.216"}),". Enter ",(0,i.jsx)(n.code,{children:"admin"})," for username and ",(0,i.jsx)(n.code,{children:"admin@123"})," for password to enter the Cloudpods interface."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"login page",src:t(80348).A+"",width:"1915",height:"881"})}),"\n",(0,i.jsx)(n.h2,{id:"change-the-api_server-access-url",children:"Change the api_server access url"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"api_server"})," option is the address of the access point for the entire platform, which affects the front-end CloudShell, vnc or Web SSH connection. It is generally impossible to open CloudShell or login the virtual machine through the front-end SSH when the api_server configuration has not been set correctly."]}),"\n",(0,i.jsxs)(n.p,{children:["You need to modify it manually according to your environment, refer to the document: ",(0,i.jsx)(n.a,{href:"../../operations/fe/config-ssl-certs#change-api-server-via-climc",children:"Change service api_server configuration"}),"."]})]})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}function f(e){const n={a:"a",code:"code",h4:"h4",p:"p",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"To create the first virtual machine, follow these three steps:"}),"\n",(0,i.jsx)(n.h4,{id:"1-import-image",children:"1. Import image"}),"\n",(0,i.jsxs)(n.p,{children:["Go to ",(0,i.jsx)(n.a,{href:"https://cloud.centos.org/centos/7/images/",children:"CentOS 7 cloud host image"})," and choose a GenericCloud image. Copy the image URL."]}),"\n",(0,i.jsxs)(n.p,{children:["In the ",(0,i.jsx)(n.code,{children:"Host"})," menu, select ",(0,i.jsx)(n.code,{children:"System image"}),", and then select ",(0,i.jsx)(n.code,{children:"Upload"}),". Enter the image name, select ",(0,i.jsx)(n.code,{children:"Input image URL"}),", paste the CentOS 7 image URL, and click ",(0,i.jsx)(n.code,{children:"OK"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Visit ",(0,i.jsx)(n.a,{href:"https://docs.openstack.org/image-guide/obtain-images.html",children:"https://docs.openstack.org/image-guide/obtain-images.html"})," for more virtual machine images."]}),"\n",(0,i.jsx)(n.h4,{id:"2-create-network-vpc-and-ip-subnet",children:"2. Create network (VPC and IP subnet)"}),"\n",(0,i.jsxs)(n.p,{children:["[Create VPC] In the ",(0,i.jsx)(n.code,{children:"Network"})," menu, select ",(0,i.jsx)(n.code,{children:"VPC"})," submenu, and then select ",(0,i.jsx)(n.code,{children:"Create"}),". Enter the name, such as ",(0,i.jsx)(n.code,{children:"vpc0"}),", and select the target network segment, such as ",(0,i.jsx)(n.code,{children:"192.168.0.0/16"}),". Click ",(0,i.jsx)(n.code,{children:"Create"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["[Create IP subnet] After VPC creation, select the ",(0,i.jsx)(n.code,{children:"IP subnet"})," submenu, and then select ",(0,i.jsx)(n.code,{children:"Create"}),". Enter the name, such as ",(0,i.jsx)(n.code,{children:"vnet0"}),", select the VPC as the created VPC ",(0,i.jsx)(n.code,{children:"vpc0"}),", select the availability zone, enter the ",(0,i.jsx)(n.code,{children:"subnet network segment"}),", such as ",(0,i.jsx)(n.code,{children:"192.168.100.0/24"}),". Click ",(0,i.jsx)(n.code,{children:"Create"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"../../guides/onpremise/network/examples",children:"Typical network configuration"})," provides several common host network configurations for reference."]}),"\n",(0,i.jsx)(n.h4,{id:"3-create-virtual-machine",children:"3. Create virtual machine"}),"\n",(0,i.jsxs)(n.p,{children:["In the ",(0,i.jsx)(n.code,{children:"Host"})," menu, select ",(0,i.jsx)(n.code,{children:"Virtual Machine"}),", and then select ",(0,i.jsx)(n.code,{children:"Create"}),". Enter the hostname, select the image and IP subnet, and create the virtual machine."]})]})}function x(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(f,{...e})}):f(e)}function b(e){const n={a:"a",code:"code",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"As shown in the figure below, if there is no host in the host list after the environment is deployed, you can troubleshoot as follows:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:t(56633).A+"",width:"1698",height:"838"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["To troubleshoot host issues on the control node, please refer to: ",(0,i.jsx)(n.a,{href:"../../guides/onpremise/host/troubleshooting",children:"Troubleshooting Host Service Issues"})]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:'If the log error message contains "register failed: try create network: find_matched == false", it means that the IP subnet containing the host has not been successfully created, resulting in host registration failure. Please create an IP subnet containing the host network segment.'}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# Create an IP subnet containing the host network segment\n$ climc network-create bcast0 adm0 <start_ip> <end_ip> mask\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:t(81923).A+"",width:"1916",height:"606"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:'If the log error message contains "name starts with letter, and contains letter, number and - only", it means that the hostname of the host is not compliant and should be changed to a hostname starting with a letter.'}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:t(90207).A+"",width:"2062",height:"636"})}),"\n"]}),"\n"]})]})}function j(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(b,{...e})}):b(e)}function v(e){const n={admonition:"admonition",code:"code",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"The nodes deployed by All in One will deploy the Cloudpods host computing service as the host machine, which has the ability to create and manage private cloud virtual machines. If there is no virtual machine interface, it means that the host machine is not enabled in the Cloudpods environment."}),"\n",(0,i.jsxs)(n.p,{children:["Please go to the ",(0,i.jsx)(n.code,{children:"Management Console"})," interface, click ",(0,i.jsx)(n.code,{children:"Host/Basic Resources/Host"})," to view the host list, enable the corresponding host, and refresh the interface to display the virtual machine interface."]}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsx)(n.p,{children:'If you want to use Cloudpods private cloud virtual machines, and the host machine is a distribution of CentOS 7, the host machine needs to use the kernel compiled by Cloudpods. You can use the following command to check if the host machine is using the Cloudpods kernel (containing the keyword "yn").'}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Check whether to use the yn kernel\nuname -a | grep yn\nLinux office-controller 3.10.0-1160.6.1.el7.yn20201125.x86_64\n\n# If the kernel version does not contain the keyword "yn", it may be the first time the ocboot is installed, and you can enter the yn kernel by restarting.\nreboot\n'})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Host machine",src:t(20784).A+"",width:"1895",height:"611"})})]})}function y(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(v,{...e})}):v(e)}function w(e){const n={code:"code",li:"li",ol:"ol",p:"p",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Follow the steps below to reinstall:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Execute ",(0,i.jsx)(n.code,{children:"kubeadm reset -f"})," to delete the Kubernetes cluster."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Run the ",(0,i.jsx)(n.code,{children:"run.py"})," script of ocboot again."]}),"\n"]}),"\n"]})]})}function C(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(w,{...e})}):w(e)}const k={sidebar_position:1,edition:"ce"},I="Quick Installation via Ocboot",A={id:"getting-started/onpremise/quickstart-virt",title:"Quick Installation via Ocboot",description:"Use the ocboot deployment tool to quickly deploy the private cloud version in an All in One mode.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/getting-started/onpremise/quickstart-virt.md",sourceDirName:"getting-started/onpremise",slug:"/getting-started/onpremise/quickstart-virt",permalink:"/en/docs/getting-started/onpremise/quickstart-virt",draft:!1,unlisted:!1,editUrl:"https://github.com/yunionio/website/tree/master/docs/getting-started/onpremise/quickstart-virt.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,edition:"ce"},sidebar:"tutorialSidebar",previous:{title:"Private Cloud",permalink:"/en/docs/getting-started/onpremise/"},next:{title:"High Availability Installation",permalink:"/en/docs/getting-started/onpremise/ha-ce"}},T={},S=[{value:"Environment Preparation",id:"environment-preparation",level:2},{value:"Machine Configuration Requirements",id:"machine-configuration-requirements",level:3},...o.RM,{value:"Install Ansible and Git",id:"install-ansible-and-git",level:2},{value:"Install Cloudpods",id:"install-cloudpods",level:2},{value:"Deployment Complete",id:"deployment-complete",level:2},{value:"Change the api_server access url",id:"change-the-api_server-access-url",level:2},{value:"Getting Started with Cloudpods",id:"getting-started-with-cloudpods",level:2},{value:"Create the first private cloud virtual machine",id:"create-the-first-private-cloud-virtual-machine",level:3},{value:"1. Import image",id:"1-import-image",level:4},{value:"2. Create network (VPC and IP subnet)",id:"2-create-network-vpc-and-ip-subnet",level:4},{value:"3. Create virtual machine",id:"3-create-virtual-machine",level:4},{value:"FAQ",id:"faq",level:2},{value:"1. After All in One deployment is complete, why is there no host in the host list?",id:"1-after-all-in-one-deployment-is-complete-why-is-there-no-host-in-the-host-list",level:3},{value:"2. Why can&#39;t I find the virtual machine interface in All in One mode?",id:"2-why-cant-i-find-the-virtual-machine-interface-in-all-in-one-mode",level:3},{value:"3. Why can&#39;t the service start after the hostname of the node is modified?",id:"3-why-cant-the-service-start-after-the-hostname-of-the-node-is-modified",level:3},{value:"4. How do I reinstall?",id:"4-how-do-i-reinstall",level:3},{value:"5. How do I add more nodes?",id:"5-how-do-i-add-more-nodes",level:3},{value:"6. Other questions?",id:"6-other-questions",level:3}];function _(e){const n={a:"a",admonition:"admonition",h1:"h1",h2:"h2",h3:"h3",p:"p",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"quick-installation-via-ocboot",children:"Quick Installation via Ocboot"}),"\n",(0,i.jsxs)(n.p,{children:["Use the ",(0,i.jsx)(n.a,{href:"https://github.com/yunionio/ocboot",children:"ocboot"})," deployment tool to quickly deploy the private cloud version in an All in One mode."]}),"\n",(0,i.jsx)(n.admonition,{title:"Note",type:"tip",children:(0,i.jsxs)(n.p,{children:["The contents of this chapter describe the quick deployment of Cloudpods services using deployment tools. If you want to deploy a high-availability cluster in a production environment, please refer to: ",(0,i.jsx)(n.a,{href:"./ha-ce",children:"High Availability Installation"}),"."]})}),"\n",(0,i.jsx)(n.h2,{id:"environment-preparation",children:"Environment Preparation"}),"\n",(0,i.jsx)(n.h3,{id:"machine-configuration-requirements",children:"Machine Configuration Requirements"}),"\n","\n",(0,i.jsx)(o.Ay,{}),"\n",(0,i.jsx)(n.h2,{id:"install-ansible-and-git",children:"Install Ansible and Git"}),"\n","\n",(0,i.jsx)(c,{}),"\n",(0,i.jsx)(n.h2,{id:"install-cloudpods",children:"Install Cloudpods"}),"\n","\n",(0,i.jsx)(g,{productVersion:"virt"}),"\n",(0,i.jsx)(n.h2,{id:"getting-started-with-cloudpods",children:"Getting Started with Cloudpods"}),"\n",(0,i.jsx)(n.h3,{id:"create-the-first-private-cloud-virtual-machine",children:"Create the first private cloud virtual machine"}),"\n","\n",(0,i.jsx)(x,{}),"\n",(0,i.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,i.jsx)(n.h3,{id:"1-after-all-in-one-deployment-is-complete-why-is-there-no-host-in-the-host-list",children:"1. After All in One deployment is complete, why is there no host in the host list?"}),"\n","\n",(0,i.jsx)(j,{}),"\n",(0,i.jsx)(n.h3,{id:"2-why-cant-i-find-the-virtual-machine-interface-in-all-in-one-mode",children:"2. Why can't I find the virtual machine interface in All in One mode?"}),"\n","\n",(0,i.jsx)(y,{}),"\n",(0,i.jsx)(n.h3,{id:"3-why-cant-the-service-start-after-the-hostname-of-the-node-is-modified",children:"3. Why can't the service start after the hostname of the node is modified?"}),"\n",(0,i.jsx)(n.p,{children:"Cloudpods uses Kubernetes to manage nodes. The Kubernetes node name depends on the hostname. Changing the hostname will result in the node being unable to register with the Kubernetes cluster. Therefore, do not modify the hostname. If you have modified it, please change it back to the previous name, and the service will automatically recover."}),"\n",(0,i.jsx)(n.h3,{id:"4-how-do-i-reinstall",children:"4. How do I reinstall?"}),"\n","\n",(0,i.jsx)(C,{}),"\n",(0,i.jsx)(n.h3,{id:"5-how-do-i-add-more-nodes",children:"5. How do I add more nodes?"}),"\n",(0,i.jsxs)(n.p,{children:["Refer to the documentation on ",(0,i.jsx)(n.a,{href:"./host",children:"Adding Compute Nodes"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"6-other-questions",children:"6. Other questions?"}),"\n",(0,i.jsxs)(n.p,{children:["Submit other questions on the Cloudpods GitHub issues page: ",(0,i.jsx)(n.a,{href:"https://github.com/yunionio/cloudpods/issues",children:"https://github.com/yunionio/cloudpods/issues"}),", and we will respond as soon as possible."]})]})}function V(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(_,{...e})}):_(e)}},19365:(e,n,t)=>{t.d(n,{A:()=>r});t(96540);var i=t(18215);const s={tabItem:"tabItem_Ymn6"};var o=t(74848);function r(e){let{children:n,hidden:t,className:r}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,i.A)(s.tabItem,r),hidden:t,children:n})}},11470:(e,n,t)=>{t.d(n,{A:()=>w});var i=t(96540),s=t(18215),o=t(23104),r=t(56347),a=t(205),l=t(57485),c=t(31682),d=t(70679);function h(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:t}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:t,attributes:i,default:s}}=e;return{value:n,label:t,attributes:i,default:s}}))}(t);return function(e){const n=(0,c.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:t}=e;const s=(0,r.W6)(),o=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(o),(0,i.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(s.location.search);n.set(o,e),s.replace({...s.location,search:n.toString()})}),[o,s])]}function g(e){const{defaultValue:n,queryString:t=!1,groupId:s}=e,o=u(e),[r,l]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=t.find((e=>e.default))??t[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:o}))),[c,h]=m({queryString:t,groupId:s}),[g,f]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,o]=(0,d.Dv)(t);return[s,(0,i.useCallback)((e=>{t&&o.set(e)}),[t,o])]}({groupId:s}),x=(()=>{const e=c??g;return p({value:e,tabValues:o})?e:null})();(0,a.A)((()=>{x&&l(x)}),[x]);return{selectedValue:r,selectValue:(0,i.useCallback)((e=>{if(!p({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),f(e)}),[h,f,o]),tabValues:o}}var f=t(92303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=t(74848);function j(e){let{className:n,block:t,selectedValue:i,selectValue:r,tabValues:a}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.a_)(),d=e=>{const n=e.currentTarget,t=l.indexOf(n),s=a[t].value;s!==i&&(c(n),r(s))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},n),children:a.map((e=>{let{value:n,label:t,attributes:o}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>l.push(e),onKeyDown:h,onClick:d,...o,className:(0,s.A)("tabs__item",x.tabItem,o?.className,{"tabs__item--active":i===n}),children:t??n},n)}))})}function v(e){let{lazy:n,children:t,selectedValue:s}=e;const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===s));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function y(e){const n=g(e);return(0,b.jsxs)("div",{className:(0,s.A)("tabs-container",x.tabList),children:[(0,b.jsx)(j,{...n,...e}),(0,b.jsx)(v,{...n,...e})]})}function w(e){const n=(0,f.A)();return(0,b.jsx)(y,{...e,children:h(e.children)},String(n))}},41571:(e,n,t)=>{t.d(n,{A:()=>a});var i=t(14902),s=t(21312),o=t(28541),r=t(74848);function a(){const e=(0,s.T)({id:"OcbootClone.downloadComment",message:"# \u4e0b\u8f7d ocboot \u5de5\u5177\u5230\u672c\u5730",description:"locally download comment"}),n=(0,o.c)("release_branch");return(0,r.jsx)("div",{children:(0,r.jsx)(i.A,{language:"bash",children:e+`\n$ git clone -b ${n} https://github.com/yunionio/ocboot && cd ./ocboot`})})}},28541:(e,n,t)=>{t.d(n,{c:()=>s});var i=t(44586);function s(e){const{siteConfig:n}=(0,i.A)();return n.customFields[e]}},67332:(e,n,t)=>{t.d(n,{A:()=>o});t(96540);var i=t(52830),s=t(74848);function o(e){const n={...e};return n?.code?.length>2&&(n.code=n.code.split("\n").map((e=>e.length>2&&"$ "===e.substring(0,2)?e.substring(2):e)).join("\n")),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.A,{...n})})}},20784:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/host-c2eca48a1a4dd165712c2f158b347396.png"},90207:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/hostnameerror-c6ba1fba77447b2c8a5495b87ae3f19b.png"},80348:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/index-fb4b005da556bf5dcd1b9b8e806a170a.png"},81923:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/iperror-8dc95f9d3d92198dca25f4fd8116787d.png"},56633:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/nohost-9ef7a592b65be95264c7508771351d49.png"}}]);