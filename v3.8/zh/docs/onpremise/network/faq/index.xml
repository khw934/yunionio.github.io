<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Cloudpods –
常见问题</title><link>https://www.cloudpods.org//v3.8/zh/docs/onpremise/network/faq/</link><description>Recent content in 常见问题 on Cloudpods</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://www.cloudpods.org//v3.8/zh/docs/onpremise/network/faq/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: 如何在平台添加宿主机网络</title><link>https://www.cloudpods.org//v3.8/zh/docs/onpremise/network/faq/addnetwork/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.cloudpods.org//v3.8/zh/docs/onpremise/network/faq/addnetwork/</guid><description>
&lt;p>当用户部署环境时使用了千兆网络，后续扩展环境部署了万兆网络绑定等，下面介绍如何将该万兆网络加入到平台。&lt;/p>
&lt;h2 id="新建万兆的二层网络">新建万兆的二层网络&lt;/h2>
&lt;ol>
&lt;li>在网络-二层网络页面，单击列表上方 &lt;strong>&lt;em>&amp;ldquo;新建&amp;rdquo;&lt;/em>&lt;/strong> 按钮，弹出新建新建对话框。&lt;/li>
&lt;li>设置以下信息：
&lt;ul>
&lt;li>指定域：选择二层网络的所属域。&lt;/li>
&lt;li>专有网络：选择本地区域以及本地VDC。&lt;/li>
&lt;li>可用区：选择二层网络属于的可用区。&lt;/li>
&lt;li>名称：设置二层网络的名称，例如wire10g。&lt;/li>
&lt;li>带宽：设置二层网络支持的网络带宽，包括百兆（100M）、千兆（1G）、双千兆（2x1G）、万兆（10G）、双万兆（2x10G）、25G、40G、100G。二层网络带宽主要为了统计网络利用率，来确定虚拟机的网络负载情况。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>单击 &lt;strong>&lt;em>&amp;ldquo;确定&amp;rdquo;&lt;/em>&lt;/strong> 按钮。&lt;/li>
&lt;/ol>
&lt;h2 id="修改宿主机配置">修改宿主机配置&lt;/h2>
&lt;p>默认宿主机以网卡对应二层网络，所以需要在宿主机上配置网卡与二层网络的对应关系。&lt;/p>
&lt;pre>&lt;code># 在宿主机上操作
$ vi /etc/yunion/host.conf
# 在networks下添加
networks
- eth0/br0/192.168.1.1
- bond1/br1/wire10g
&lt;/code>&lt;/pre>&lt;p>配置完成后，需要重启host服务。&lt;/p>
&lt;pre>&lt;code># 找到该宿主机对应的host服务
$ kubectl get pods -n onecloud -o wide |grep host
# 如pod名称为default-host-zgrkg
$ kubectl delete pods -n onecloud default-host-zgrkg
&lt;/code>&lt;/pre>&lt;h2 id="创建ip子网">创建IP子网&lt;/h2>
&lt;p>在上面创建的二层网络wire10g下创建IP子网，后续创建虚拟机使用这些IP子网，则将自动接入万兆网络。&lt;/p></description></item></channel></rss>