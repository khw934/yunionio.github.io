<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Cloudpods –
私有云</title><link>https://www.cloudpods.org//v3.8/zh/docs/onpremise/</link><description>Recent content in 私有云 on Cloudpods</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Tue, 03 Aug 2021 10:53:20 +0800</lastBuildDate><atom:link href="https://www.cloudpods.org//v3.8/zh/docs/onpremise/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: 虚拟机</title><link>https://www.cloudpods.org//v3.8/zh/docs/onpremise/vminstance/</link><pubDate>Fri, 19 Jul 2019 10:26:40 +0800</pubDate><guid>https://www.cloudpods.org//v3.8/zh/docs/onpremise/vminstance/</guid><description>
&lt;p>&lt;strong>入口&lt;/strong>：在云管平台单击左上角&lt;img src="../../../images/intro/nav.png" alt="">导航菜单，在弹出的左侧菜单栏中单击 &lt;strong>&lt;em>&amp;ldquo;主机/主机/虚拟机&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入虚拟机页面。&lt;/p>
&lt;p>&lt;img src="./images/vm.png" alt="">&lt;/p></description></item><item><title>Docs: 弹性伸缩组</title><link>https://www.cloudpods.org//v3.8/zh/docs/onpremise/scalinggroup/</link><pubDate>Fri, 19 Jul 2019 10:26:40 +0800</pubDate><guid>https://www.cloudpods.org//v3.8/zh/docs/onpremise/scalinggroup/</guid><description>
&lt;p>&lt;strong>入口&lt;/strong>：在云管平台单击左上角&lt;img src="../../../images/intro/nav.png" alt="">导航菜单，在弹出的左侧菜单栏中单击 &lt;strong>&lt;em>&amp;ldquo;主机/主机/弹性伸缩组&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入弹性伸缩组页面。&lt;/p>
&lt;p>&lt;img src="./images/scalinggroup.png" alt="">&lt;/p></description></item><item><title>Docs: 宿主机</title><link>https://www.cloudpods.org//v3.8/zh/docs/onpremise/host/</link><pubDate>Wed, 17 Jul 2019 11:35:12 +0800</pubDate><guid>https://www.cloudpods.org//v3.8/zh/docs/onpremise/host/</guid><description>
&lt;p>Cloudpods 原生提供基于 kvm 的私有云虚拟机管理功能，运行 kvm 虚拟机的机器叫做宿主机，这种宿主机也叫作 &amp;ldquo;计算节点&amp;rdquo;，上面会运行管理虚拟机、网络和存储的一系列服务。云平台的抽象的宿主机根据 hypervisor 字段判断不同平台的宿主机。现在支持的类型如下：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">类型&lt;/th>
&lt;th style="text-align:center">平台&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">hypervisor&lt;/td>
&lt;td style="text-align:center">Cloudpods 私有云宿主机&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">baremetal&lt;/td>
&lt;td style="text-align:center">Cloudpods 私有云物理机&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">esxi&lt;/td>
&lt;td style="text-align:center">vmware 宿主机&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">openstack&lt;/td>
&lt;td style="text-align:center">openstack 私有云宿主机&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">zstack&lt;/td>
&lt;td style="text-align:center">zstack 私有云宿主机&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Docs: 物理机</title><link>https://www.cloudpods.org//v3.8/zh/docs/onpremise/baremetal/</link><pubDate>Wed, 10 Jul 2019 10:16:53 +0800</pubDate><guid>https://www.cloudpods.org//v3.8/zh/docs/onpremise/baremetal/</guid><description/></item><item><title>Docs: 资源调度</title><link>https://www.cloudpods.org//v3.8/zh/docs/onpremise/scheduler/</link><pubDate>Thu, 11 Jul 2019 20:50:28 +0800</pubDate><guid>https://www.cloudpods.org//v3.8/zh/docs/onpremise/scheduler/</guid><description>
&lt;p>平台支持通过调度标签的功能进行资源调度，根据调度标签的偏好或调度策略以及系统默认选择底层基础资源等。&lt;/p>
&lt;p>&lt;strong>调度标签入口&lt;/strong>：在云管平台单击左上角&lt;img src="../../../images/intro/nav.png" alt="">导航菜单，在弹出的左侧菜单栏中单击 &lt;strong>&lt;em>&amp;ldquo;主机/调度/调度标签&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入调度标签页面。&lt;/p>
&lt;p>&lt;img src="./images/schetag.png" alt="">&lt;/p>
&lt;p>&lt;strong>动态调度标签入口&lt;/strong>：在云管平台单击左上角&lt;img src="../../../images/intro/nav.png" alt="">导航菜单，在弹出的左侧菜单栏中单击 &lt;strong>&lt;em>&amp;ldquo;主机/调度/动态调度标签&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入动态调度标签页面。&lt;/p>
&lt;p>&lt;img src="./images/dynschetag.png" alt="">&lt;/p>
&lt;p>&lt;strong>调度策略入口&lt;/strong>：在云管平台单击左上角&lt;img src="../../../images/intro/nav.png" alt="">导航菜单，在弹出的左侧菜单栏中单击 &lt;strong>&lt;em>&amp;ldquo;主机/调度/调度策略&amp;rdquo;&lt;/em>&lt;/strong> 菜单项，进入调度策略页面。&lt;/p>
&lt;p>&lt;img src="./images/schepolicy.png" alt="">&lt;/p></description></item><item><title>Docs: 镜像</title><link>https://www.cloudpods.org//v3.8/zh/docs/onpremise/image/</link><pubDate>Fri, 19 Jul 2019 17:29:09 +0800</pubDate><guid>https://www.cloudpods.org//v3.8/zh/docs/onpremise/image/</guid><description>
&lt;ul>
&lt;li>
&lt;p>镜像(image): 是用于新建云服务器(虚拟机)、裸金属(物理机)使用的模板文件，常用类型为 qcow2, vmdk, raw, vhd, iso。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>主机镜像：仅用于新建虚拟机，通过虚拟机操作保存镜像功能，将虚拟机整体保存为镜像等，后续可基于主机镜像创建虚拟机。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>镜像服务(glance): 云平台的镜像服务叫做 glance，用于存储转换用户上传或外部导入的镜像，提供下载功能。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>缓存镜像(cached-image): 创建公/私有云虚拟机时，可以直接使用各个云平台已有的镜像，这些镜像不会存储在 glance，云平台只是保存元信息，创建机器时会直接使用。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>image 和 cached-image 两种资源的区别如下：&lt;/p>
&lt;ul>
&lt;li>image: glance 管理的镜像，由用户上传或者外部导入;&lt;/li>
&lt;li>cached-image:
&lt;ul>
&lt;li>包括公有云和其他私有云的镜像，不由 glance 管理，一般在创建 Cloudpods 之外的公/私有云主机的时候用到;&lt;/li>
&lt;li>不提供创建接口，只能查询，刷新和删除;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Docs: 网络</title><link>https://www.cloudpods.org//v3.8/zh/docs/onpremise/network/</link><pubDate>Fri, 25 Jun 2021 10:53:20 +0800</pubDate><guid>https://www.cloudpods.org//v3.8/zh/docs/onpremise/network/</guid><description/></item><item><title>Docs: 负载均衡</title><link>https://www.cloudpods.org//v3.8/zh/docs/onpremise/lb/</link><pubDate>Fri, 19 Jul 2019 10:27:52 +0800</pubDate><guid>https://www.cloudpods.org//v3.8/zh/docs/onpremise/lb/</guid><description>
&lt;h2 id="概念">概念&lt;/h2>
&lt;p>在使用Cloudpods提供的负载均衡功能时，会用到以下术语&lt;/p>
&lt;p>负载均衡实例（Load Balancer），有时也简称为“实例”。实例与子网关联，创建实例时需要选择子网，实例的IP地址即从该子网中分配。&lt;/p>
&lt;p>一个实例下可以有多个负载均衡监听（Listener）。监听的类型通常有HTTP、HTTPS、TCP、UDP，每个监听还需指定一个端口。实例和监听联合起来即表达了服务面向外部的地址、协议和端口。&lt;/p>
&lt;p>后端服务器组（Backend Group）、后端服务器（Backend）。每个后端服务器指定了服务后端的IP和端口，同一个服务器组中的多个后端服务器提供相同服务。&lt;/p>
&lt;p>监听可指定后端服务器组，当用户访问监听所在地址时，负载均衡的转发节点会将请求转发给服务器组中的具体后端，从而实现负载均衡的效果。&lt;/p>
&lt;p>负载均衡集群是一组转发节点LBAgent的集合，一般情况下一个集群下配置两个LBAgent节点互为主备即可，同一集群下的LBAgent节点的VRRP路由ID必须相同。&lt;/p>
&lt;p>负载均衡转发节点用于监听负载均衡实例，并将客户端的请求根据监听和转发规则转发给后端服务器。同一个集群下可以有多个转发节点，但同一时刻只有一个节点作为Master节点提供转发服务。属于一个集群的节点的VRRP路由ID必须相同。&lt;/p>
&lt;p>节点生命周期管理：&lt;/p>
&lt;ol>
&lt;li>新建节点：设置节点的配置参数。&lt;/li>
&lt;li>部署节点：将节点的配置文件下发到指定机器，提供转发功能的机器可称为转发实例，当节点状态为Master时，表示集群中的节点可正常提供负载均衡转发服务。&lt;/li>
&lt;li>下线节点：当不需要节点提供服务时，可下线节点，将配置文件从转发实例上删除。&lt;/li>
&lt;li>删除节点：删除节点的配置文件信息等。&lt;/li>
&lt;/ol>
&lt;h3 id="httphttps类型监听">HTTP/HTTPS类型监听&lt;/h3>
&lt;p>对于HTTP/HTTPS类型的监听，我们还可以创建“转发策略（Listener Rule）”，利用HTTP协议的特点，来进一步复用监听的地址和端口。转发策略包含路径、域名属性，用来匹配来自用户的HTTP请求。每个转发策略又可指定自己的后端服务器组，当请求中的路径、域名匹配时，负载均衡会将其转发到此后端组中的服务器。&lt;/p>
&lt;pre>&lt;code> ___ Host: src0.example.com -&amp;gt; srv0 backendGroup
/
HTTP/80
\
--- Host: srv1.example.com -&amp;gt; srv1 backendGroup
&lt;/code>&lt;/pre>
&lt;p>HTTPS类型的监听需要绑定TLS证书。Cloudpods平台支持RSA、EC2证书&lt;/p>
&lt;h3 id="访问控制">访问控制&lt;/h3>
&lt;p>Cloudpods支持创建访问控制列表，列表中指定网络CIDR。监听可与访问控制列表关联，并指定将该列表应用为白名单、黑名单。作为白名单时，仅来源IP为列表中地址的请求被接受，其余请求将被拒绝。黑名单时，列表中的网络将被拒绝服务，列表外的地址可访问。&lt;/p></description></item><item><title>Docs: 块存储</title><link>https://www.cloudpods.org//v3.8/zh/docs/onpremise/storage/</link><pubDate>Fri, 25 Jun 2021 10:53:20 +0800</pubDate><guid>https://www.cloudpods.org//v3.8/zh/docs/onpremise/storage/</guid><description/></item></channel></rss>