<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Cloudpods –
原理介绍</title><link>https://www.cloudpods.org//v3.8/zh/docs/onpremise/storage/blockstorage/principle/</link><description>Recent content in 原理介绍 on Cloudpods</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Fri, 25 Jun 2021 10:53:20 +0800</lastBuildDate><atom:link href="https://www.cloudpods.org//v3.8/zh/docs/onpremise/storage/blockstorage/principle/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: 本地存储回收站</title><link>https://www.cloudpods.org//v3.8/zh/docs/onpremise/storage/blockstorage/principle/recycle/</link><pubDate>Fri, 25 Jun 2021 10:53:20 +0800</pubDate><guid>https://www.cloudpods.org//v3.8/zh/docs/onpremise/storage/blockstorage/principle/recycle/</guid><description>
&lt;p>除了磁盘伪删除的机制外，平台还另外提供了一层保护，用来确保虚拟机的磁盘文件不会被误删除。&lt;/p>
&lt;p>在每个本地存储的目录下有一个 recycle_bin 的目录，当对本地磁盘进行删除操作时，不会执行真正的删除操作，而是将磁盘移动到这个目录下暂存，存储在一个删除时间命名的子目录下。宿主机上有周期性任务扫描扫描 recycle_bin 目录，把日期在约定清理时间之前的子目录真正清除。&lt;/p>
&lt;p>host服务的配置项中有两个选项用来配置回收站，recycle_diskfile 是开启或关闭回收站功能，默认开启。recycle_diskfile_keep_days 用来指定回收站内磁盘文件的保留天数，默认是28天。&lt;/p>
&lt;pre>&lt;code>recycle_diskfile: true
recycle_diskfile_keep_days: 28
&lt;/code>&lt;/pre>&lt;p>由于回收站会占用磁盘空间，可能存在由于回收站磁盘文件过多，导致磁盘空间不足的情况。这个时候需要手动清理回收站。手动清理回收站只需要手动将 recycle_bin 下的子目录删除即可。&lt;/p></description></item><item><title>Docs: 本地存储快照</title><link>https://www.cloudpods.org//v3.8/zh/docs/onpremise/storage/blockstorage/principle/snapshot/</link><pubDate>Fri, 25 Jun 2021 10:53:20 +0800</pubDate><guid>https://www.cloudpods.org//v3.8/zh/docs/onpremise/storage/blockstorage/principle/snapshot/</guid><description>
&lt;p>TODO&lt;/p></description></item><item><title>Docs: 本地存储磁盘的迁移</title><link>https://www.cloudpods.org//v3.8/zh/docs/onpremise/storage/blockstorage/principle/migrate/</link><pubDate>Fri, 25 Jun 2021 10:53:20 +0800</pubDate><guid>https://www.cloudpods.org//v3.8/zh/docs/onpremise/storage/blockstorage/principle/migrate/</guid><description>
&lt;p>平台通过技术手段实现了本地存储的虚拟机磁盘文件的迁移。迁移分为冷迁移和热迁移。前者是在虚拟机关机状态下的迁移。后者是虚拟机在开机运行状态下的迁移。&lt;/p>
&lt;h2 id="冷迁移">冷迁移&lt;/h2>
&lt;p>TODO&lt;/p>
&lt;h2 id="热迁移">热迁移&lt;/h2>
&lt;p>TODO&lt;/p></description></item></channel></rss>